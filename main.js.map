{"version":3,"file":"main.js","mappings":"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AyC;IACzC,sBAAsB,EAAE,4DAA4D;IACpF,kFAAkF;IAElF,6CAA6C;IAC7C,0BAA0B,EAAE,0EAA0E;CACvG,CAAC;;;;;;;;;;;;;;;;ACpBF,gEAAgE;AACzD,MAAM,WAAW,GAAG;IACzB,OAAO,EAAE,KAAK;CACf,CAAC;;;;;;;;;;;;;;;;;;ACH6C;AAGF;AACY;AAEzD,IAAI,uEAAgB,IAAI,OAAO,EAAE;IAC/B,6DAAc,EAAE,CAAC;CAClB;AAED,wEAAwB,CAAC,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;ACT7B,SAAS,sBAAsB,CAAC,IAAS;IAC9C,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,CAAC,KAAK,EAAE;QAC7B,kEAAkE;QAClE,OAAO,IAAI,EAAE,KAAwB;KACtC;SAAM;QACN,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,4BAA4B,EAAC;KACzE;AACH,CAAC;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/admin/admin-login/admin-login.component.ts","./src/app/admin/admin-login/admin-login.component.html","./src/app/admin/admin-shell/admin-shell.component.ts","./src/app/admin/admin-shell/admin-shell.component.html","./src/app/admin/collect-metrics/collect-metrics.component.ts","./src/app/admin/collect-metrics/collect-metrics.component.html","./src/app/admin/consent-metrics/consent-metrics.component.ts","./src/app/admin/consent-metrics/consent-metrics.component.html","./src/app/admin/organization-details/organization-details.component.ts","./src/app/admin/organization-details/organization-details.component.html","./src/app/admin/payment-metrics/payment-metrics.component.ts","./src/app/admin/payment-metrics/payment-metrics.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.constants.ts","./src/app/app.module.ts","./src/app/auth-guards/is-admin-auth-guard.ts","./src/app/auth-guards/is-authenticated-auth-guard.ts","./src/app/components/footer/footer.component.ts","./src/app/components/footer/footer.component.html","./src/app/components/header/header.component.ts","./src/app/components/header/header.component.html","./src/app/components/logo-cropper/logo-cropper.component.ts","./src/app/components/logo-cropper/logo-cropper.component.html","./src/app/components/org-credentials-editor/org-credentials-editor.component.ts","./src/app/components/org-credentials-editor/org-credentials-editor.component.html","./src/app/components/org-team-invite-multiple/org-team-invite-multiple.component.ts","./src/app/components/org-team-invite-multiple/org-team-invite-multiple.component.html","./src/app/components/org-team-invite/org-team-invite.component.ts","./src/app/components/org-team-invite/org-team-invite.component.html","./src/app/components/org-webhook-simulate/org-webhook-simulate.component.ts","./src/app/components/org-webhook-simulate/org-webhook-simulate.component.html","./src/app/components/org-webhooks-editor/org-webhooks-editor.component.ts","./src/app/components/org-webhooks-editor/org-webhooks-editor.component.html","./src/app/components/week-month-picker/month-picker/month-picker-keyboard.service.ts","./src/app/components/week-month-picker/month-picker/month-picker.component.ts","./src/app/components/week-month-picker/month-picker/month-picker.component.html","./src/app/components/week-month-picker/week-month-picker.component.ts","./src/app/components/week-month-picker/week-month-picker.component.html","./src/app/components/week-month-picker/week-picker/week-picker.component.ts","./src/app/components/week-month-picker/week-picker/week-picker.component.html","./src/app/directives/email-lowercase-validator.directive.ts","./src/app/directives/password-confirm-validator.directive.ts","./src/app/models/fasten/organization.ts","./src/app/models/fasten/user.ts","./src/app/models/fasten/webhook-simulate-payload.ts","./src/app/models/portal-config.ts","./src/app/pages/account-settings/account-settings.component.ts","./src/app/pages/account-settings/account-settings.component.html","./src/app/pages/auth-domain-claimed/auth-domain-claimed.component.ts","./src/app/pages/auth-domain-claimed/auth-domain-claimed.component.html","./src/app/pages/auth-reset-request/auth-reset-request.component.ts","./src/app/pages/auth-reset-request/auth-reset-request.component.html","./src/app/pages/auth-reset/auth-reset.component.ts","./src/app/pages/auth-reset/auth-reset.component.html","./src/app/pages/auth-signin/auth-signin.component.ts","./src/app/pages/auth-signin/auth-signin.component.html","./src/app/pages/auth-signup-organization/auth-signup-organization.component.ts","./src/app/pages/auth-signup-organization/auth-signup-organization.component.html","./src/app/pages/auth-signup/auth-signup.component.ts","./src/app/pages/auth-signup/auth-signup.component.html","./src/app/pages/dashboard/dashboard.component.ts","./src/app/pages/dashboard/dashboard.component.html","./src/app/pages/developers/developers.component.ts","./src/app/pages/developers/developers.component.html","./src/app/pages/org-billing/org-billing.component.ts","./src/app/pages/org-billing/org-billing.component.html","./src/app/pages/org-settings/org-settings.component.ts","./src/app/pages/org-settings/org-settings.component.html","./src/app/pages/org-team/org-team.component.ts","./src/app/pages/org-team/org-team.component.html","./src/app/pages/webhook-logs/webhook-logs.component.ts","./src/app/pages/webhook-logs/webhook-logs.component.html","./src/app/services/admin.service.ts","./src/app/services/auth-interceptor.service.ts","./src/app/services/auth.service.ts","./src/app/services/connect.service.ts","./src/app/services/portal-config.service.ts","./src/environments/environment.dev.ts","./src/environments/versions.ts","./src/main.ts","./src/utils/error-parser.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import {Component, NgZone} from '@angular/core';\nimport { environment } from '../../../environments/environment';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {AdminService} from \"../../services/admin.service\";\ndeclare const google: any;\n\n@Component({\n  selector: 'app-admin-login',\n  templateUrl: './admin-login.component.html',\n  styleUrls: ['./admin-login.component.scss']\n})\nexport class AdminLoginComponent {\n  returnUrl = '/admin';\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private adminService: AdminService,\n    private ngZone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    //read the redirect url from the query parameters (if any)\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/admin';\n\n\n    this.initializeGoogleSignIn();\n  }\n\n  initializeGoogleSignIn() {\n    google.accounts.id.initialize({\n      client_id: environment.google_workspace_client_id,\n      auto_select: true,\n      cancel_on_tap_outside: false,\n      callback: (response: any) => this.handleCredentialResponse(response)\n    });\n\n    google.accounts.id.renderButton(\n      document.getElementById('google-signin-button'),\n      { theme: 'outline', size: 'large' }  // customization attributes\n    );\n\n    google.accounts.id.prompt((notification: any) => {\n      console.log('Google prompt event triggered...');\n\n      if (notification.getDismissedReason() === 'credential_returned') {\n        this.ngZone.run(() => {\n          this.router.navigate(['/admin'], { replaceUrl: true });\n          console.log('Welcome back!');\n        });\n      }\n    }); // also display the One Tap dialog\n  }\n\n  handleCredentialResponse(response: any) {\n    // response.credential is the JWT token\n    console.log('Encoded JWT ID token: ' + response.credential);\n\n    // You can decode the JWT token here or send it to your backend for verification\n    // For demonstration, we'll just log it\n\n    // If using NgZone, ensure any UI updates are run inside Angular's zone\n    this.ngZone.run(() => {\n      this.adminService.storeAdminToken(response.credential);\n      // Update your application state here, e.g., store user info, navigate, etc.\n      this.redirectToDashboard()\n    });\n  }\n\n  private redirectToDashboard(): void {\n    void this.router.navigateByUrl(this.returnUrl || '/admin');\n  }\n}\n","<div class=\"az-signin-wrapper admin-signin\">\n  <div class=\"az-card-signin\">\n    <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n\n    <div class=\"az-signin-header text-center\">\n      <p class=\"tx-13 text-muted mb-0\">Use your Fasten Google Workspace credentials to continue.</p>\n    </div>\n\n    <div class=\"az-signin-body\">\n      <div id=\"google-signin-button\"></div>\n    </div>\n\n    <div class=\"az-signin-footer text-center\">\n      <p class=\"tx-13\">Only Fasten administrators with Google Workspace accounts can access the admin dashboard.</p>\n      <p class=\"tx-13\">Need help? <a href=\"mailto:support@fastenhealth.com\">Contact support</a>.</p>\n    </div>\n  </div>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-admin-shell',\n  templateUrl: './admin-shell.component.html',\n  styleUrls: ['./admin-shell.component.scss']\n})\nexport class AdminShellComponent {\n  navLinks = [\n    { label: 'Consent Metrics', route: 'consent-metrics' },\n    { label: 'Collect Metrics', route: 'collect-metrics' },\n    { label: 'Payment Metrics', route: 'payment-metrics' },\n    { label: 'Organization Details', route: 'organization-details' },\n  ];\n}\n","<div class=\"az-content az-content-dashboard admin-dashboard\">\n  <div class=\"container\">\n    <div class=\"az-content-body\">\n      <div class=\"az-dashboard-one-title\">\n        <div>\n          <h2 class=\"az-dashboard-title\">Fasten Admin Dashboard</h2>\n          <p class=\"az-dashboard-text\">Monitor customer adoption, collection health, and billing readiness.</p>\n        </div>\n        <div class=\"az-content-header-right\">\n          <a class=\"nav-link tx-12 tx-semibold text-uppercase d-none d-md-flex align-items-center\"\n             routerLink=\"/admin/login\">\n            <i class=\"fas fa-user-shield mr-2\"></i> Admin\n          </a>\n        </div>\n      </div>\n\n      <nav class=\"az-dashboard-nav\">\n        <div class=\"nav\">\n          <a *ngFor=\"let link of navLinks\"\n             [routerLink]=\"[link.route]\"\n             routerLinkActive=\"active\"\n             class=\"nav-link\">\n            {{ link.label }}\n          </a>\n        </div>\n        <div class=\"nav\">\n\n        </div>\n      </nav>\n\n      <div class=\"mg-b-20\">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { EChartsOption } from 'echarts';\nimport {AdminService} from \"../../services/admin.service\";\nimport {CollectSummary} from \"../../models/admin/consent-summary\";\n\ntype OutcomeKey = string;\n\ninterface FilterDefinition {\n  key:\n    | 'org_id'\n    | 'api_mode'\n    | 'brand_id'\n    | 'portal_id'\n    | 'endpoint_id'\n    | 'tefca_root_id';\n  label: string;\n  placeholder: string;\n  options: string[];\n}\n\ninterface PlatformPieRow {\n  platform: string;\n  buckets: Record<string, EChartsOption>;\n}\n\ninterface ResourceBreakdown {\n  platform: string;\n  resources: { name: string; count: number }[];\n  total: number;\n}\n\n@Component({\n  selector: 'app-collect-metrics',\n  templateUrl: './collect-metrics.component.html',\n  styleUrls: ['./collect-metrics.component.scss']\n})\nexport class CollectMetricsComponent implements OnInit {\n  filterForm: FormGroup;\n  filters: FilterDefinition[] = [\n    {\n      key: 'org_id',\n      label: 'Org ID',\n      placeholder: 'All orgs',\n      options: ['fasten-pilot', 'fasten-production', 'fasten-sandbox']\n    },\n    {\n      key: 'api_mode',\n      label: 'API Mode',\n      placeholder: 'Any mode',\n      options: ['sandbox', 'production']\n    },\n    {\n      key: 'brand_id',\n      label: 'Brand',\n      placeholder: 'Any brand',\n      options: ['Acme Health', 'Bright Medical', 'CareNow', 'OneHealth']\n    },\n    {\n      key: 'portal_id',\n      label: 'Portal',\n      placeholder: 'Any portal',\n      options: ['consumer-portal', 'provider-portal']\n    },\n    {\n      key: 'endpoint_id',\n      label: 'Endpoint',\n      placeholder: 'Any endpoint',\n      options: ['ehr-primary', 'ehr-secondary', 'direct-mailbox']\n    },\n    {\n      key: 'tefca_root_id',\n      label: 'TEFCA Root',\n      placeholder: 'Any root',\n      options: ['tefca-east', 'tefca-west']\n    },\n  ];\n\n  bucketLabels: string[] = [];\n  platformPies: PlatformPieRow[] = [];\n  resourceBreakdowns: ResourceBreakdown[] = [];\n  pieChartHeight = 220;\n\n  constructor(private readonly fb: FormBuilder, private adminService: AdminService) {\n    const controls = this.filters.reduce<Record<FilterDefinition['key'], string>>((acc, filter) => {\n      acc[filter.key] = '';\n      return acc;\n    }, {} as Record<FilterDefinition['key'], string>);\n\n    this.filterForm = this.fb.group(controls);\n\n    this.filterForm.valueChanges.subscribe((value) => {\n      this.fetchCollectSummary(value);\n    });\n  }\n\n  ngOnInit(): void {\n    this.fetchCollectSummary();\n  }\n\n  private fetchCollectSummary(filters?: Record<FilterDefinition['key'], string>): void {\n    const params = this.cleanFilters(filters);\n\n    this.adminService.getCollectSummary(params).subscribe((data) => {\n      this.rebuildFromSummary(data);\n    });\n  }\n\n  private rebuildFromSummary(summary: CollectSummary): void {\n    const bucketLabels = this.buildBucketLabels(summary);\n\n    this.platformPies = this.buildPieMatrix(summary, bucketLabels);\n    this.resourceBreakdowns = this.buildResourceData(summary);\n    this.bucketLabels = bucketLabels;\n  }\n\n  private buildBucketLabels(summary: CollectSummary): string[] {\n    const buckets = new Set<string>();\n\n    Object.values(summary.outcomes.platforms).forEach((platform) => {\n      platform.buckets?.monthly?.forEach((bucket) => buckets.add(bucket.bucket_start));\n    });\n\n    return Array.from(buckets).sort((a, b) => {\n      const aDate = new Date(`${a}-01`).getTime();\n      const bDate = new Date(`${b}-01`).getTime();\n      return aDate - bDate;\n    });\n  }\n\n  private buildResourceData(summary: CollectSummary): ResourceBreakdown[] {\n    return Object.entries(summary.resources.platforms)\n      .map(([platform, details]) => {\n        const resources = Object.entries(details.resources || {})\n          .filter(([, count]) => (count ?? 0) > 0)\n          .sort((a, b) => (b[1] ?? 0) - (a[1] ?? 0))\n          .map(([name, count]) => ({ name, count }));\n\n        return {\n          platform: this.formatPlatformName(platform),\n          resources: resources,\n          total: details.totals?.[\"total_resources\"] ?? 0,\n        };\n      })\n      .filter((entry) => entry.resources.length > 0)\n      .sort((a, b) => b.total - a.total || a.platform.localeCompare(b.platform));\n  }\n\n  private buildPieMatrix(summary: CollectSummary, bucketLabels: string[]): PlatformPieRow[] {\n    const platforms = Object.entries(summary.outcomes.platforms).map(([platformKey, details]) => {\n      const bucketOptions: Record<string, EChartsOption> = {};\n\n      bucketLabels.forEach((label) => {\n        const bucket = details.buckets?.monthly?.find((item) => item.bucket_start === label);\n        bucketOptions[label] = this.buildPieOption(this.formatPlatformName(platformKey), label, bucket?.status);\n      });\n\n      return {\n        platform: this.formatPlatformName(platformKey),\n        buckets: bucketOptions,\n      };\n    });\n\n    return platforms.sort((a, b) => a.platform.localeCompare(b.platform));\n  }\n\n  private buildPieOption(platform: string, bucket: string, status?: Record<string, number>): EChartsOption {\n    const safeStatus = status || {};\n    const success = safeStatus[\"success\"] ?? 0;\n    const missing = safeStatus[\"missing\"] ?? 0;\n\n    const failureBreakdownKeys: OutcomeKey[] = [\n      'rejected',\n      'token_refresh_failure',\n      'resource_patient_failure',\n      'scope_patient_missing',\n      'suppressed_please_contact',\n      'resource_invalid_content',\n    ];\n\n    const failureBreakdown = failureBreakdownKeys.reduce<Record<OutcomeKey, number>>((acc, key) => {\n      acc[key] = safeStatus[key] ?? 0;\n      return acc;\n    }, {} as Record<OutcomeKey, number>);\n\n    const failed = Object.entries(safeStatus).reduce((acc, [key, value]) => {\n      if (key === 'success' || key === 'missing') {\n        return acc;\n      }\n      return acc + (value ?? 0);\n    }, 0);\n\n    const total = success + failed + missing;\n\n    return {\n      title: {\n        text: `${platform}\\n${bucket}`,\n        left: 'center',\n        top: 4,\n        textStyle: {\n          fontSize: 12,\n          lineHeight: 16,\n          color: '#475569',\n          fontWeight: 600,\n        },\n      },\n      tooltip: {\n        trigger: 'item',\n        formatter: (params: any) => {\n          const data = params?.data as { breakdown?: Record<string, number> } | undefined;\n\n          if (params?.name === 'Failed' && data?.breakdown) {\n            const rows = Object.entries(data.breakdown)\n              .filter(([, value]) => value && value > 0)\n              .map(([key, value]) => `${this.formatOutcomeLabel(key)}: ${value}`);\n\n            const extra = rows.length ? `<br/>${rows.join('<br/>')}` : '';\n            return `${params.marker}${params.name}: ${params.value}${extra}`;\n          }\n\n          return `${params?.marker ?? ''}${params?.name ?? ''}: ${params?.value ?? 0}`;\n        },\n      },\n      series: [\n        {\n          type: 'pie',\n          radius: ['45%', '75%'],\n          center: ['50%', '60%'],\n          avoidLabelOverlap: true,\n          label: {\n            formatter: total ? '{d}%\\n{c}' : '0',\n            fontSize: 12,\n          },\n          data: [\n            { value: success, name: 'Success', itemStyle: { color: '#16a34a' } },\n            { value: failed, name: 'Failed', itemStyle: { color: '#dc2626' }, breakdown: failureBreakdown },\n            { value: missing, name: 'Missing', itemStyle: { color: '#f59e0b' } },\n          ],\n        },\n      ],\n    } as EChartsOption;\n  }\n\n  private formatOutcomeLabel(key: string): string {\n    return key\n      .replace(/_/g, ' ')\n      .replace(/\\b\\w/g, (char) => char.toUpperCase());\n  }\n\n  private formatPlatformName(platform: string): string {\n    return platform\n      .replace(/[-_]/g, ' ')\n      .replace(/\\b\\w/g, (char) => char.toUpperCase());\n  }\n\n  private cleanFilters(filters?: Record<FilterDefinition['key'], string>): Record<FilterDefinition['key'], string> | undefined {\n    if (!filters) {\n      return undefined;\n    }\n\n    const sanitized = Object.entries(filters).reduce<Record<FilterDefinition['key'], string>>((acc, [key, value]) => {\n      if (value) {\n        acc[key as FilterDefinition['key']] = value;\n      }\n      return acc;\n    }, {} as Record<FilterDefinition['key'], string>);\n\n    return Object.keys(sanitized).length ? sanitized : undefined;\n  }\n}\n","<div class=\"card card-body mg-b-25\">\n  <div class=\"d-flex flex-wrap justify-content-between align-items-center mg-b-20\">\n    <div>\n      <div class=\"az-content-label mg-b-5\">Collect Metrics</div>\n      <p class=\"az-content-text mg-b-0\">Monitor eHI export throughput and identify data quality gaps across platforms.</p>\n    </div>\n    <div class=\" btn-group btn-group-toggle\">\n      <input type=\"text\" class=\"form-control\" disabled=\"disabled\">\n      <div class=\"input-group-append\">\n        <button type=\"button\"\n                class=\"btn btn-outline-indigo\"\n        >\n          Week\n        </button>\n        <button type=\"button\"\n                class=\"btn btn-outline-indigo\"\n        >\n          Month\n        </button>\n      </div>\n    </div>\n  </div>\n\n\n\n  <form class=\"row row-sm az-dashboard-filter mg-b-25\" [formGroup]=\"filterForm\">\n    <div class=\"col-12 col-sm-6 col-lg-4 col-xl-3 mg-b-15\" *ngFor=\"let filter of filters\">\n      <label class=\"az-content-label tx-11 text-uppercase\" [for]=\"filter.key\">{{ filter.label }}</label>\n      <select class=\"form-control\" [id]=\"filter.key\" [formControlName]=\"filter.key\">\n        <option value=\"\">{{ filter.placeholder }}</option>\n        <option *ngFor=\"let option of filter.options\" [value]=\"option\">{{ option }}</option>\n      </select>\n    </div>\n  </form>\n</div>\n<div class=\"card card-dashboard-one mg-b-25\">\n  <div class=\"card-header\">\n    <h6 class=\"card-title\">eHI Export Outcomes</h6>\n    <span class=\"card-text\">Monthly outcome split per platform.</span>\n  </div>\n  <div class=\"card-body\">\n    <div class=\"table-responsive pie-matrix\">\n      <table class=\"table table-dashboard mg-b-0\">\n        <thead>\n        <tr>\n          <th>Platform</th>\n          <th *ngFor=\"let bucket of bucketLabels\" class=\"text-center\">{{ bucket }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let row of platformPies\">\n          <td class=\"tx-medium align-middle\">{{ row.platform }}</td>\n          <td *ngFor=\"let bucket of bucketLabels\" class=\"text-center\">\n            <div echarts\n                 [class.empty]=\"!row.buckets[bucket]\"\n                 [options]=\"row.buckets[bucket]\"\n                 [autoResize]=\"true\"\n                 [style.height.px]=\"pieChartHeight\"\n                 class=\"pie-cell\"></div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<div class=\"card card-dashboard-one\">\n  <div class=\"card-header d-flex flex-wrap justify-content-between align-items-center\">\n    <div>\n      <h6 class=\"card-title\">Resources Collected</h6>\n      <span class=\"card-text\">Top resource types captured per platform.</span>\n    </div>\n  </div>\n  <div class=\"card-body\">\n    <div class=\"table-responsive\">\n      <table class=\"table table-striped mg-b-0 resource-table\">\n        <thead>\n        <tr>\n          <th>Platform</th>\n          <th>Resource</th>\n          <th class=\"text-right\">Records</th>\n        </tr>\n        </thead>\n        <tbody>\n        <ng-container *ngFor=\"let group of resourceBreakdowns\">\n          <tr *ngFor=\"let resource of group.resources; let idx = index\" class=\"align-middle\">\n            <td *ngIf=\"idx === 0\" [attr.rowspan]=\"group.resources.length\" class=\"tx-medium\">{{ group.platform }}</td>\n            <td>{{ resource.name }}</td>\n            <td class=\"text-right tx-semibold\">{{ resource.count | number }}</td>\n          </tr>\n        </ng-container>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { EChartsOption } from 'echarts';\nimport { AdminService } from \"../../services/admin.service\";\nimport {ConsentChartSeriesEntry, ConsentSummary, ConsentTreemapEntry} from \"../../models/admin/consent-summary\";\nimport {Subscription} from \"rxjs\";\n\ninterface FilterDefinition {\n  key:\n    | 'org_id'\n    | 'api_mode'\n    | 'platform_type'\n    | 'brand_id'\n  label: string;\n  placeholder: string;\n  options: {name:string, value:string}[];\n}\n\ninterface TreemapBrandDatum {\n  name: string;\n  value: number;\n  platform: string;\n  success: number;\n  issues: number;\n  failureRatio: number;\n  itemStyle: {\n    color: string;\n  };\n}\n\ninterface TreemapPlatformDatum {\n  name: string;\n  value: number;\n  children: TreemapBrandDatum[];\n}\n\n\n@Component({\n  selector: 'app-consent-metrics',\n  templateUrl: './consent-metrics.component.html',\n  styleUrls: ['./consent-metrics.component.scss']\n})\nexport class ConsentMetricsComponent implements OnInit {\n  private readonly DEFAULT_SANKEY_HEIGHT = 360;\n  private readonly SANKEY_NODE_HEIGHT = 48;\n\n  filterForm: FormGroup\n  filterFormSubscription: Subscription\n\n  filters: FilterDefinition[] = [\n    {\n      key: 'org_id',\n      label: 'Org ID',\n      placeholder: 'All orgs',\n      options: [\n        {\n          name: 'fasten-pilot',\n          value: 'fasten-pilot'\n        },{\n          name: 'fasten-production',\n          value: 'fasten-production'\n        }, {\n          name: 'fasten-internal',\n          value: 'fasten-internal'\n        }]\n    },\n    {\n      key: 'api_mode',\n      label: 'API Mode',\n      placeholder: 'Any mode',\n      options: [{\n        name: 'test',\n        value: 'test'\n      },{\n        name: 'live',\n        value: 'live'\n      }]\n    },\n    {\n      key: 'platform_type',\n      label: 'Platform Type',\n      placeholder: 'Any platform',\n      options: [\n        {name: 'AdvancedMD', value: 'advancedmd'},\n        {name: 'Aetna', value: 'aetna'},\n        {name: 'Allscripts', value: 'allscripts'},\n        {name: 'Anthem', value: 'anthem'},\n        {name: 'Athena', value: 'athena'},\n        {name: 'Cerner', value: 'cerner'},\n        {name: 'CHBase', value: 'chbase'},\n        {name: 'DrChrono', value: 'Drchrono'},\n        {name: 'eCW/Healow', value: 'eclinicalworks'},\n        {name: 'Edifecs', value: 'edifecs'},\n        {name: 'Epic', value: 'epic'},\n        {name: 'Flatiron', value: 'flatiron'},\n        {name: 'Humana', value: 'humana'},\n        {name: 'Kaiser', value: 'kaiser'},\n        {name: 'Maximeyes', value: 'maximeyes'},\n        {name: 'Medhost', value: 'medhost'},\n        {name: 'Medicare', value: 'medicare'},\n        // {key: 'Meditech', value: 'meditech'},\n        // meldrx.yaml\n        {name: 'Netsmart', value: 'netsmart'},\n        {name: 'Nextgen', value: 'nextgen'},\n        // nhs.yaml\n        {name: 'OneMedical', value: 'onemedical'},\n        {name: 'PracticeFusion', value: 'practicefusion'},\n        {name: 'Qualifacts Carelogic', value: 'qualifacts-carelogic'},\n        {name: 'Qualifacts Credible', value: 'qualifacts-credible'},\n        {name: 'Qualifacts Insync', value: 'qualifacts-insync'},\n        {name: 'Quest Diagnostics', value: 'questdiagnostics'},\n        // {key: 'Tefca', value: 'tefca'}\n        {name: 'United Healthcare', value: 'unitedhealthcare'},\n        {name: 'VA Health', value: 'vahealth'},\n      ]\n    },\n    {\n      key: 'brand_id',\n      label: 'Brand',\n      placeholder: 'Any brand',\n      options: [{\n        name: 'EpicCare',\n        value: 'EpicCare'\n      },{\n        name: 'CernerOne',\n        value: 'CernerOne'\n      },{\n        name: 'AthenaClinicals',\n        value: 'AthenaClinicals'\n      },{\n        name: 'eCW/Healow',\n        value: 'eclinicalworks'\n      },{\n        name: 'NextGen',\n        value: 'NextGen'\n      }]\n    },\n  ];\n\n\n  divergingChartOptions: EChartsOption = {};\n\n  treemapOptions: EChartsOption = {};\n  treemapHasData = false;\n  sankeyOptions: EChartsOption = {};\n  sankeyHasData = false;\n  sankeyHeight = this.DEFAULT_SANKEY_HEIGHT;\n\n  constructor(private readonly fb: FormBuilder, private adminService: AdminService) {\n    this.filterForm = this.fb.group(this.setupFilterControls());\n\n    this.filterFormSubscription = this.filterForm.valueChanges.subscribe(value => {\n      console.log('Form value changed:', value);\n\n      this.adminService.getConsentSummary(value).subscribe((data) => {\n        this.rebuildVisuals(data);\n      });\n    });\n\n    this.adminService.listOrgs().subscribe((orgs) => {\n      const orgOptions = orgs.map((org) => {\n        return {name: org.name, value: org.id}\n      }).sort((a, b) => a.name.localeCompare(b.name));\n      const orgFilter = this.filters.find((f) => f.key === 'org_id');\n      if (orgFilter) {\n        orgFilter.options = orgOptions;\n      }\n\n      let controls = this.setupFilterControls()\n      for(let key in controls){\n        if(!this.filterForm.contains(key)){\n          this.filterForm.addControl(key, this.fb.control(controls[key as FilterDefinition['key']]));\n        } else {\n          this.filterForm.setControl(key, this.fb.control(controls[key as FilterDefinition['key']]))\n        }\n      }\n\n    })\n  }\n  setupFilterControls(): Record<FilterDefinition['key'], string> {\n    return this.filters.reduce<Record<FilterDefinition['key'], string>>((acc, filter) => {\n      acc[filter.key] = '';\n      return acc;\n    }, {} as Record<FilterDefinition['key'], string>);\n  }\n\n\n  ngOnInit(): void {\n    //call consent service\n    this.adminService.getConsentSummary().subscribe((data) => {\n      this.rebuildVisuals(data);\n    });\n  }\n\n  private rebuildVisuals(data: ConsentSummary): void {\n    this.divergingChartOptions = this.buildDivergingChartOptions(data.chart);\n\n    const treemap = this.buildTreemapOptions(data.treemap);\n    this.treemapOptions = treemap.options;\n    this.treemapHasData = treemap.hasData;\n\n    const sankey = this.buildSankeyOptions(data.sankey);\n    this.sankeyOptions = sankey.options;\n    this.sankeyHasData = sankey.hasData;\n    this.sankeyHeight = sankey.height;\n  }\n\n  private buildDivergingChartOptions(entries: Record<string, ConsentChartSeriesEntry>): EChartsOption {\n    const records = Object.values(entries).sort((a, b) => new Date(a.bucket_start).getTime() - new Date(b.bucket_start).getTime());\n\n    if (!records.length) {\n      return {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: { type: 'shadow' },\n        },\n        xAxis: { type: 'value' },\n        yAxis: { type: 'category', data: [] },\n        series: [],\n      };\n    }\n\n    const categories = records.map((record) => record.bucket_start);\n    const missing = records.map((record) => -record.missing);\n    const failed = records.map((record) => -record.failed);\n    const success = records.map((record) => record.success);\n\n    const maxNegative = Math.max(...records.map((record) => record.missing + record.failed));\n    const maxPositive = Math.max(...records.map((record) => record.success));\n    const range = this.roundToNearestTen(Math.max(maxNegative, maxPositive));\n    const absoluteRange = Math.max(range, 50);\n\n    return {\n      color: ['#dc2626', '#f97316', '#16a34a'],\n      grid: {\n        left: 16,\n        right: 24,\n        top: 16,\n        bottom: 48,\n        containLabel: true,\n      },\n      legend: {\n        bottom: 8,\n        icon: 'circle',\n        itemWidth: 10,\n        textStyle: {\n          color: '#495057',\n        },\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: { type: 'shadow' },\n        formatter: (params: unknown) => this.formatDivergingTooltip(params),\n      },\n      xAxis: {\n        type: 'value',\n        min: -absoluteRange,\n        max: absoluteRange,\n        axisLine: {\n          lineStyle: {\n            color: '#dee2e6',\n          },\n        },\n        axisLabel: {\n          color: '#6c757d',\n          formatter: (value: number) => `${Math.abs(value)}`,\n        },\n        splitLine: {\n          lineStyle: {\n            type: 'dashed',\n            color: '#f1f3f5',\n          },\n        },\n      },\n      yAxis: {\n        type: 'category',\n        data: categories,\n        axisLine: { show: false },\n        axisTick: { show: false },\n        axisLabel: {\n          color: '#343a40',\n          fontSize: 12,\n        },\n      },\n      series: [\n        {\n          name: 'Failed',\n          type: 'bar',\n          stack: 'total',\n          barWidth: 18,\n          itemStyle: { color: '#dc2626' },\n          emphasis: { focus: 'series' },\n          data: failed,\n        },\n        {\n          name: 'Missing',\n          type: 'bar',\n          stack: 'total',\n          barWidth: 18,\n          itemStyle: { color: '#f97316' },\n          emphasis: { focus: 'series' },\n          data: missing,\n        },\n        {\n          name: 'Success',\n          type: 'bar',\n          stack: 'total',\n          barWidth: 18,\n          itemStyle: { color: '#16a34a' },\n          emphasis: { focus: 'series' },\n          data: success,\n        },\n      ],\n    };\n  }\n\n  private buildTreemapOptions(entries: Record<string, Record<string, ConsentTreemapEntry>>): {\n    options: EChartsOption;\n    hasData: boolean;\n  } {\n    const platforms: TreemapPlatformDatum[] = [];\n\n    Object.entries(entries).forEach(([platform, brands]) => {\n      const children: TreemapBrandDatum[] = Object.values(brands)\n        .map((record) => {\n          const total = record.missing + record.failed + record.success;\n          if (total === 0) {\n            return null;\n          }\n\n          const issues = record.missing + record.failed;\n          const failureRatio = total === 0 ? 0 : issues / total;\n\n          return {\n            name: record.brand_id,\n            value: total,\n            platform: record.platform_type,\n            success: record.success,\n            issues,\n            failureRatio,\n            itemStyle: { color: this.getFailureFillColor(failureRatio) },\n          } as TreemapBrandDatum;\n        })\n        .filter((child): child is TreemapBrandDatum => child !== null)\n        .sort((a, b) => b.value - a.value);\n\n      const totalValue = children.reduce((sum, child) => sum + child.value, 0);\n      if (children.length) {\n        platforms.push({\n          name: platform,\n          value: totalValue,\n          children,\n        });\n      }\n    });\n\n    platforms.sort((a, b) => b.value - a.value);\n\n    const hasData = platforms.length > 0;\n\n    const options: EChartsOption = hasData\n      ? {\n          tooltip: {\n            trigger: 'item',\n            renderMode: 'html',\n            formatter: (params: unknown) => this.formatTreemapTooltip(params),\n          },\n          series: [\n            {\n              type: 'treemap',\n              data: platforms,\n              roam: false,\n              nodeClick: false,\n              breadcrumb: {\n                show: false,\n              },\n              label: {\n                formatter: (params: unknown) => this.formatTreemapLabel(params),\n                color: '#ffffff',\n                fontSize: 12,\n                rich: {\n                  name: {\n                    fontWeight: 600,\n                    fontSize: 12,\n                    lineHeight: 16,\n                  },\n                  value: {\n                    fontSize: 11,\n                    lineHeight: 14,\n                  },\n                },\n              },\n              upperLabel: {\n                show: true,\n                height: 28,\n                color: '#1f2348',\n                fontWeight: 600,\n                fontSize: 13,\n              },\n              levels: [\n                {\n                  itemStyle: {\n                    borderColor: '#ffffff',\n                    borderWidth: 2,\n                    gapWidth: 4,\n                  },\n                },\n                {\n                  itemStyle: {\n                    borderColor: 'rgba(255, 255, 255, 0.6)',\n                    borderWidth: 1,\n                    gapWidth: 2,\n                  },\n                },\n              ],\n            },\n          ],\n        }\n      : {};\n\n    return { options, hasData };\n  }\n\n  private buildSankeyOptions(sankey: ConsentSummary['sankey']): {\n    options: EChartsOption;\n    hasData: boolean;\n    height: number;\n  } {\n    const nodes = sankey?.nodes ?? [];\n    const links = (sankey?.links ?? []).filter((link) => link.value > 0);\n\n    const hasData = nodes.length > 0 && links.length > 0;\n\n    if (!hasData) {\n      return { options: {}, hasData: false, height: this.DEFAULT_SANKEY_HEIGHT };\n    }\n\n    const estimatedHeight = Math.max(\n      this.DEFAULT_SANKEY_HEIGHT,\n      nodes.length * this.SANKEY_NODE_HEIGHT,\n    );\n\n    const options: EChartsOption = {\n      color: [\n        '#3b82f6',\n        '#22c55e',\n        '#a855f7',\n        '#f97316',\n        '#0ea5e9',\n        '#facc15',\n        '#ef4444',\n      ],\n      tooltip: {\n        trigger: 'item',\n        formatter: (params: unknown) => this.formatSankeyTooltip(params),\n      },\n      series: [\n        {\n          type: 'sankey',\n          data: nodes,\n          links,\n          nodeAlign: 'justify',\n          nodeGap: 18,\n          nodeWidth: 22,\n          lineStyle: {\n            color: 'gradient',\n            opacity: 0.4,\n          },\n          label: {\n            color: '#1f2348',\n            fontSize: 12,\n          },\n          itemStyle: {\n            borderWidth: 1,\n            borderColor: '#f8f9ff',\n          },\n          emphasis: {\n            focus: 'adjacency',\n          },\n        },\n      ],\n    };\n\n    return { options, hasData: true, height: estimatedHeight };\n  }\n\n  private formatDivergingTooltip(params: unknown): string {\n    if (!Array.isArray(params) || params.length === 0) {\n      return '';\n    }\n\n    const axisLabel = params[0]?.axisValueLabel ?? '';\n    const lines = (params as Array<{ marker: string; seriesName: string; value: number }>)\n      .map((item) => {\n        const marker = item.marker ?? '';\n        const name = item.seriesName ?? '';\n        const value = Math.abs(Number(item.value) ?? 0);\n        return `<div class=\"treemap-tooltip-line\">${marker} ${name}: ${this.formatNumber(value)}</div>`;\n      })\n      .join('');\n\n    return `\n      <div class=\"treemap-tooltip\">\n        <div class=\"treemap-tooltip-title\">${axisLabel}</div>\n        ${lines}\n      </div>\n    `.trim();\n  }\n\n  private formatTreemapLabel(params: unknown): string {\n    const data = (params as { data?: TreemapPlatformDatum | TreemapBrandDatum }).data;\n    if (!data) {\n      return '';\n    }\n\n    if ('children' in data && Array.isArray(data.children)) {\n      return data.name;\n    }\n\n    const brand = data as TreemapBrandDatum;\n    const failurePercent = Math.round(brand.failureRatio * 100);\n    return `{name|${brand.name}}\\n{value|${failurePercent}% failure}`;\n  }\n\n  private formatTreemapTooltip(params: unknown): string {\n    const dataParams = params as { data?: TreemapPlatformDatum | TreemapBrandDatum };\n    const data = dataParams.data;\n    if (!data) {\n      return '';\n    }\n\n    if ('children' in data && Array.isArray(data.children)) {\n      return `\n        <div class=\"treemap-tooltip\">\n          <div class=\"treemap-tooltip-title\">${data.name}</div>\n          <div class=\"treemap-tooltip-platform\">${this.formatNumber(data.value)} total consents</div>\n        </div>\n      `.trim();\n    }\n\n    const brand = data as TreemapBrandDatum;\n    const failurePercent = Math.round(brand.failureRatio * 100);\n    const success = this.formatNumber(brand.success);\n    const issues = this.formatNumber(brand.issues);\n\n    return `\n      <div class=\"treemap-tooltip\">\n        <div class=\"treemap-tooltip-title\">${brand.name}</div>\n        <div class=\"treemap-tooltip-platform\">${brand.platform}</div>\n        <div class=\"treemap-tooltip-metrics\">\n          <span class=\"treemap-tooltip-success\">${success} success</span>\n          <span class=\"treemap-tooltip-issues\">${issues} issues</span>\n        </div>\n        <div class=\"treemap-tooltip-failure\">${failurePercent}% failure</div>\n      </div>\n    `.trim();\n  }\n\n  private formatSankeyTooltip(params: unknown): string {\n    const dataParams = params as { data?: { source?: string; target?: string; value?: number } };\n    const data = dataParams.data;\n\n    if (!data) {\n      return '';\n    }\n\n    if (data.source && data.target) {\n      const value = this.formatNumber(Number(data.value ?? 0));\n      return `<div class=\"treemap-tooltip\"><div class=\"treemap-tooltip-title\">${data.source}  ${data.target}</div><div class=\"treemap-tooltip-platform\">${value} consents</div></div>`;\n    }\n\n    if (typeof data.value === 'number') {\n      const value = this.formatNumber(data.value);\n      return `<div class=\"treemap-tooltip\"><div class=\"treemap-tooltip-title\">${(data as { name?: string }).name ?? ''}</div><div class=\"treemap-tooltip-platform\">${value} consents</div></div>`;\n    }\n\n    return '';\n  }\n\n  private formatNumber(value: number): string {\n    return Math.round(value).toLocaleString();\n  }\n\n  private getFailureFillColor(ratio: number): string {\n    if (ratio >= 0.4) {\n      return '#dc2626';\n    }\n\n    if (ratio >= 0.2) {\n      return '#f97316';\n    }\n\n    return '#16a34a';\n  }\n\n  private roundToNearestTen(value: number): number {\n    if (!Number.isFinite(value)) {\n      return 100;\n    }\n\n    const rounded = Math.ceil(value / 10) * 10;\n    return Math.max(rounded, 50);\n  }\n}\n","<div class=\"card card-body mg-b-25\">\n  <div class=\"d-flex flex-wrap justify-content-between align-items-center mg-b-20\">\n    <div>\n      <div class=\"az-content-label mg-b-5\">Consent Metrics</div>\n      <p class=\"az-content-text mg-b-0\">Track where customers authorize access and highlight friction across brands.</p>\n    </div>\n\n\n    <week-month-picker></week-month-picker>\n\n<!--    <div class=\"btn-group btn-group-toggle timeframe-group\">-->\n<!--      <button type=\"button\"-->\n<!--              class=\"btn btn-outline-indigo\"-->\n<!--              [class.active]=\"currentTimeframe === 'week'\"-->\n<!--              (click)=\"setTimeframe('week')\">-->\n<!--        Weekly-->\n<!--      </button>-->\n<!--      <button type=\"button\"-->\n<!--              class=\"btn btn-outline-indigo\"-->\n<!--              [class.active]=\"currentTimeframe === 'month'\"-->\n<!--              (click)=\"setTimeframe('month')\">-->\n<!--        Monthly-->\n<!--      </button>-->\n<!--    </div>-->\n  </div>\n\n  <form class=\"row row-sm az-dashboard-filter mg-b-25\" [formGroup]=\"filterForm\">\n    <div class=\"col-12 col-sm-6 col-lg-4 col-xl-3 mg-b-15\" *ngFor=\"let filter of filters\">\n      <label class=\"az-content-label tx-11 text-uppercase\" [for]=\"filter.key\">{{ filter.label }}</label>\n      <select class=\"form-control\" [id]=\"filter.key\" [formControlName]=\"filter.key\">\n        <option value=\"\">{{ filter.placeholder }}</option>\n        <option *ngFor=\"let option of filter.options\" [value]=\"option.value\">{{ option.name }}</option>\n      </select>\n    </div>\n  </form>\n</div>\n<div class=\"row row-sm\">\n  <div class=\"col-xl-6 mg-b-20 mg-xl-b-0\">\n    <div class=\"card card-dashboard-one ht-100p\">\n      <div class=\"card-header\">\n        <h6 class=\"card-title\">Consent Outcomes by Time</h6>\n        <span class=\"card-text\">Compare missing, rejected, and successful data points.</span>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"chart-wrapper\">\n          <div echarts class=\"echart-container\" [options]=\"divergingChartOptions\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"col-xl-6\">\n    <div class=\"card card-dashboard-one ht-100p\">\n      <div class=\"card-header d-flex flex-wrap justify-content-between align-items-center\">\n        <div>\n          <h6 class=\"card-title\">Platform &amp; Brand Effectiveness</h6>\n          <span class=\"card-text\">Treemap grouped by platform and colored by consent failure rate.</span>\n        </div>\n        <div class=\"legend d-flex align-items-center flex-wrap\">\n          <span class=\"legend-swatch severity-low\"></span>\n          <span class=\"legend-label\">Healthy (&lt; 20%)</span>\n          <span class=\"legend-swatch severity-medium\"></span>\n          <span class=\"legend-label\">Watch (2039%)</span>\n          <span class=\"legend-swatch severity-high\"></span>\n          <span class=\"legend-label\">Action (&ge; 40%)</span>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <ng-container *ngIf=\"treemapHasData; else emptyTreemap\">\n          <div class=\"chart-wrapper\">\n            <div echarts class=\"echart-container\" [options]=\"treemapOptions\"></div>\n          </div>\n        </ng-container>\n        <ng-template #emptyTreemap>\n          <div class=\"empty-state\">\n            <p class=\"tx-14 tx-medium text-muted mb-0\">No consent data available for the selected filters.</p>\n          </div>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"row row-sm mg-t-20\">\n  <div class=\"col-12\">\n    <div class=\"card card-dashboard-one ht-100p\">\n      <div class=\"card-header\">\n        <h6 class=\"card-title\">Consent Flow</h6>\n        <span class=\"card-text\">Visualize how consents progress across platforms and brands.</span>\n      </div>\n      <div class=\"card-body\">\n        <ng-container *ngIf=\"sankeyHasData; else emptySankey\">\n          <div class=\"chart-wrapper chart-wrapper--sankey\" [style.height.px]=\"sankeyHeight\">\n            <div echarts class=\"echart-container\" [options]=\"sankeyOptions\"></div>\n          </div>\n        </ng-container>\n        <ng-template #emptySankey>\n          <div class=\"empty-state\">\n            <p class=\"tx-14 tx-medium text-muted mb-0\">No consent flow data available for the selected filters.</p>\n          </div>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {AdminService} from \"../../services/admin.service\";\nimport {Organization} from \"../../models/fasten/organization\";\nimport {\n  OrgSummary,\n  OrgStripeInvoice,\n  OrgStripePayment,\n  OrgStripeSubscription,\n  OrgUsageRow\n} from \"../../models/admin/org-summary\";\n\ntype Environment = 'Test' | 'Live';\n\n@Component({\n  selector: 'app-organization-details',\n  templateUrl: './organization-details.component.html',\n  styleUrls: ['./organization-details.component.scss']\n})\nexport class OrganizationDetailsComponent implements OnInit {\n  organizations: Organization[] = [];\n\n  organizationSummary: OrgSummary | null = null;\n\n  selectedOrgId = '';\n\n  constructor(private adminService: AdminService) {}\n\n  ngOnInit(): void {\n    this.adminService.listOrgs().subscribe((data) => {\n      this.organizations = [...data].sort((a, b) => a.name.localeCompare(b.name));\n      if (this.organizations.length) {\n        this.selectedOrgId = this.organizations[0].id;\n        this.loadOrganizationSummary(this.selectedOrgId);\n      }\n    });\n  }\n\n  get selectedOrganization(): Organization | undefined {\n    return this.organizations.find((org) => org.id === this.selectedOrgId);\n  }\n\n  trackByEnvironment(_index: number, row: OrgUsageRow): Environment {\n    return row.environment;\n  }\n\n  getSubscriptionBadge(status?: string): string {\n    switch (status) {\n      case 'active':\n        return 'badge badge-success';\n      case 'trialing':\n        return 'badge badge-primary';\n      case 'past_due':\n        return 'badge badge-warning';\n      case 'canceled':\n        return 'badge badge-secondary';\n      default:\n        return 'badge badge-secondary';\n    }\n  }\n\n  getStatusChip(status?: string): string {\n    const normalized = (status ?? '').toLowerCase();\n    switch (normalized) {\n      case 'succeeded':\n      case 'paid':\n      case 'open':\n      case 'active':\n        return 'badge badge-success';\n      case 'pending':\n      case 'trialing':\n        return 'badge badge-warning';\n      case 'past_due':\n      case 'failed':\n      case 'canceled':\n      case 'void':\n      case 'uncollectible':\n        return 'badge badge-danger';\n      default:\n        return 'badge';\n    }\n  }\n\n  handleOrganizationChange(id: string): void {\n    this.selectedOrgId = id;\n    this.loadOrganizationSummary(id);\n  }\n\n  get primarySubscription(): OrgStripeSubscription | null {\n    return this.organizationSummary?.stripe?.subscription ?? null;\n  }\n\n  get recentPayment(): OrgStripePayment | null {\n    return this.organizationSummary?.stripe?.recent_payment ?? null;\n  }\n\n  get recentInvoice(): OrgStripeInvoice | null {\n    return this.organizationSummary?.stripe?.recent_invoice ?? null;\n  }\n\n  formatAmount(amount?: number, currency?: string): string {\n    if (amount == null) {\n      return '';\n    }\n\n    const value = amount / 100;\n    const formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: (currency ?? 'USD').toUpperCase(),\n    });\n\n    return formatter.format(value);\n  }\n\n  formatTimestamp(timestamp: number): string {\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(new Date(timestamp*1000));\n  }\n  formatDate(dateIso?: string): string {\n    if (!dateIso) {\n      return '';\n    }\n\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(new Date(dateIso));\n  }\n\n  private loadOrganizationSummary(orgId: string): void {\n    if (!orgId) {\n      this.organizationSummary = null;\n      return;\n    }\n\n    this.organizationSummary = null;\n    this.adminService.getOrgSummary(orgId).subscribe((data) => {\n      const consent = this.normalizeUsage(data?.consent_activity);\n      const collection = this.normalizeUsage(data?.collect_activity);\n      const stripeDetails = data?.stripe ?? {};\n      const subscription = stripeDetails?.subscription ?? stripeDetails?.subscriptions?.[0] ?? null;\n\n      this.organizationSummary = {\n        ...data,\n        consent_activity: consent,\n        collect_activity: collection,\n        stripe: {\n          ...stripeDetails,\n          subscription,\n        },\n      } as OrgSummary;\n    });\n  }\n\n  private normalizeUsage(rows: unknown): OrgUsageRow[] {\n    if (!Array.isArray(rows)) {\n      return [];\n    }\n\n    return (rows as Array<Record<string, number | string>>).map((row) => {\n      const environmentRaw = String(row['environment'] ?? row['env'] ?? '').toLowerCase();\n      const environment: Environment = environmentRaw === 'live' ? 'Live' : 'Test';\n\n      return {\n        environment,\n        success: Number(row['success'] ?? 0),\n        failed: Number(row['failed'] ?? 0),\n        pending: Number(row['pending'] ?? 0),\n      };\n    });\n  }\n}\n","<div class=\"card card-body mg-b-20\">\n  <div class=\"d-flex flex-wrap justify-content-between align-items-center mg-b-20\">\n    <div>\n      <div class=\"az-content-label mg-b-5\">Organization Overview</div>\n      <p class=\"az-content-text mg-b-0\">Review customer usage, billing, and compliance details.</p>\n    </div>\n\n    <div class=\"btn-group btn-group-toggle timeframe-group\">\n      <button type=\"button\"\n              class=\"btn btn-outline-indigo\"\n              >\n        Weekly\n      </button>\n      <button type=\"button\"\n              class=\"btn btn-outline-indigo\"\n              >\n        Monthly\n      </button>\n    </div>\n    <div class=\"org-selector\">\n      <label class=\"tx-12 text-uppercase tx-medium mg-b-5\" for=\"organization\">Select Organization</label>\n      <select id=\"organization\" class=\"form-control\" [(ngModel)]=\"selectedOrgId\" (ngModelChange)=\"handleOrganizationChange($event)\">\n        <option *ngFor=\"let org of organizations\" [value]=\"org.id\">{{ org.name }} <span *ngIf=\"org.plan === 'paid'\">(paid)</span></option>\n      </select>\n    </div>\n  </div>\n\n  <ng-container *ngIf=\"selectedOrganization as org\">\n    <div class=\"org-header\">\n      <div class=\"org-identity\">\n        <img class=\"org-logo\" [src]=\"org.logo_uri\" [alt]=\"org.name + ' logo'\" />\n        <div>\n          <h3 class=\"org-name\">{{ org.name }}</h3>\n          <p class=\"org-slug\">{{ org.website_uri }}</p>\n        </div>\n      </div>\n      <div class=\"link-group\">\n        <a class=\"link\" [href]=\"org.privacy_policy_uri\" target=\"_blank\" rel=\"noopener\">Privacy Policy <i class=\"fas fa-external-link-alt\"></i></a>\n        <a class=\"link\" [href]=\"org.terms_and_conditions_uri\" target=\"_blank\" rel=\"noopener\">Terms of Use <i class=\"fas fa-external-link-alt\"></i></a>\n      </div>\n    </div>\n  </ng-container>\n</div>\n\n<ng-container *ngIf=\"selectedOrganization as org\">\n  <ng-container *ngIf=\"organizationSummary as summary\">\n    <div class=\"row row-sm\">\n      <div class=\"col-lg-6 mg-b-20\">\n        <div class=\"card h-100\">\n          <div class=\"card-header d-flex justify-content-between align-items-center\">\n            <div>\n              <h6 class=\"card-title\">Consent Activity</h6>\n              <span class=\"card-subtitle\">Environment breakdown of consent outcomes.</span>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-responsive\">\n              <table class=\"table table-usage\">\n                <thead>\n                <tr>\n                  <th>Environment</th>\n                  <th class=\"text-right\">Success</th>\n                  <th class=\"text-right\">Failed</th>\n                  <th class=\"text-right\">Pending</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let row of summary.consent_activity; trackBy: trackByEnvironment\">\n                  <td>{{ row.environment }}</td>\n                  <td class=\"text-right tx-success\">{{ row.success | number }}</td>\n                  <td class=\"text-right tx-danger\">{{ row.failed | number }}</td>\n                  <td class=\"text-right tx-warning\">{{ row.pending | number }}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-lg-6 mg-b-20\">\n        <div class=\"card h-100\">\n          <div class=\"card-header d-flex justify-content-between align-items-center\">\n            <div>\n              <h6 class=\"card-title\">Data Collection Activity</h6>\n              <span class=\"card-subtitle\">Environment breakdown of collection outcomes.</span>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-responsive\">\n              <table class=\"table table-usage\">\n                <thead>\n                <tr>\n                  <th>Environment</th>\n                  <th class=\"text-right\">Success</th>\n                  <th class=\"text-right\">Failed</th>\n                  <th class=\"text-right\">Pending</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let row of summary.collect_activity; trackBy: trackByEnvironment\">\n                  <td>{{ row.environment }}</td>\n                  <td class=\"text-right tx-success\">{{ row.success | number }}</td>\n                  <td class=\"text-right tx-danger\">{{ row.failed | number }}</td>\n                  <td class=\"text-right tx-warning\">{{ row.pending | number }}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row row-sm\">\n      <div class=\"col-lg-4 mg-b-20\">\n        <div class=\"card h-100\">\n          <div class=\"card-header\">\n            <h6 class=\"card-title\">Billing</h6>\n            <span class=\"card-subtitle\">Plan &amp; payment context.</span>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"billing-row\">\n              <span class=\"label\">Plan</span>\n              <span class=\"badge\"\n                    [class.badge-success]=\"org.plan == 'paid'\"\n                    [class.badge-danger]=\"org.plan != 'paid'\"\n              >{{ org.plan ? org.plan : '' }}</span>\n            </div>\n            <div class=\"billing-row\">\n              <span class=\"label\">Company Size</span>\n              <span class=\"value\">{{ org.company_size || '' }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-lg-8 mg-b-20\">\n        <div class=\"card h-100\">\n          <div class=\"card-header d-flex justify-content-between align-items-center\">\n            <div>\n              <h6 class=\"card-title\">Stripe Billing</h6>\n              <span class=\"card-subtitle\">Customer, subscription, and recent billing events.</span>\n            </div>\n            <span class=\"badge-wrapper\">\n              <span [class]=\"getSubscriptionBadge(primarySubscription?.status)\">{{ (primarySubscription?.status || 'Unknown') | titlecase }}</span>\n            </span>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"stripe-section\" *ngIf=\"summary.stripe?.customer as customer\">\n              <div class=\"section-title\">Customer</div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Customer ID</span>\n                <a class=\"value\" [href]=\"customer.url || ('https://dashboard.stripe.com/customers/' + customer.id)\" target=\"_blank\" rel=\"noopener\">\n                  {{ customer.id }} <i class=\"fas fa-external-link-alt\"></i>\n                </a>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"customer.email\">\n                <span class=\"label\">Email</span>\n                <a class=\"value\" [href]=\"'mailto:' + customer.email\">\n                  {{ customer.email }}\n                </a>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"customer.portal_url\">\n                <span class=\"label\">Billing Portal</span>\n                <a class=\"value\" [href]=\"customer.portal_url\" target=\"_blank\" rel=\"noopener\">\n                  Open portal <i class=\"fas fa-external-link-alt\"></i>\n                </a>\n              </div>\n            </div>\n\n            <div class=\"stripe-section\" *ngIf=\"primarySubscription as subscription\">\n              <div class=\"section-title\">Subscription</div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Subscription ID</span>\n                <a class=\"value\" [href]=\"subscription.url || ('https://dashboard.stripe.com/subscriptions/' + subscription.id)\" target=\"_blank\" rel=\"noopener\">\n                  {{ subscription.id }} <i class=\"fas fa-external-link-alt\"></i>\n                </a>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"subscription.plan_name\">\n                <span class=\"label\">Plan</span>\n                <span class=\"value\">{{ subscription.plan_name }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"subscription.amount != null\">\n                <span class=\"label\">Amount</span>\n                <span class=\"value\">{{ formatAmount(subscription.amount, subscription.currency) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"subscription.current_period_end\">\n                <span class=\"label\">Renews</span>\n                <span class=\"value\">{{ formatDate(subscription.current_period_end) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Cancel at Period End</span>\n                <span class=\"value\">{{ subscription.cancel_at_period_end ? 'Yes' : 'No' }}</span>\n              </div>\n            </div>\n\n            <div class=\"stripe-section\" *ngIf=\"recentPayment as payment\">\n              <div class=\"section-title\">Most Recent Payment</div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Payment ID</span>\n                <a class=\"value\" [href]=\"payment.receipt_url || ('https://dashboard.stripe.com/payments/' + payment.id)\" target=\"_blank\" rel=\"noopener\">\n                  {{ payment.id }} <i class=\"fas fa-external-link-alt\"></i>\n                </a>\n              </div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Status</span>\n                <span class=\"value\">\n                  <span [class]=\"getStatusChip(payment.status)\">{{ payment.status | titlecase }}</span>\n                </span>\n              </div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Amount</span>\n                <span class=\"value\">{{ formatAmount(payment.amount, payment.currency) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"payment.created\">\n                <span class=\"label\">Paid</span>\n                <span class=\"value\">{{ formatTimestamp(payment.created) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"payment.method || payment.last4\">\n                <span class=\"label\">Method</span>\n                <span class=\"value\">{{ payment.method || 'Card' }}  {{ payment.last4 }}</span>\n              </div>\n            </div>\n\n            <div class=\"stripe-section\" *ngIf=\"recentInvoice as invoice\">\n              <div class=\"section-title\">Most Recent Invoice</div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Invoice ID</span>\n                <a class=\"value\" [href]=\"invoice.url || ('https://dashboard.stripe.com/invoices/' + invoice.id)\" target=\"_blank\" rel=\"noopener\">\n                  {{ invoice.id }} <i class=\"fas fa-external-link-alt\"></i>\n                </a>\n              </div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Status</span>\n                <span class=\"value\">\n                  <span [class]=\"getStatusChip(invoice.status)\">{{ invoice.status | titlecase }}</span>\n                </span>\n              </div>\n              <div class=\"stripe-meta-row\">\n                <span class=\"label\">Amount Due</span>\n                <span class=\"value\">{{ formatAmount(invoice.amount_due, invoice.currency) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"invoice.issued_at\">\n                <span class=\"label\">Issued</span>\n                <span class=\"value\">{{ formatDate(invoice.issued_at) }}</span>\n              </div>\n              <div class=\"stripe-meta-row\" *ngIf=\"invoice.due_at\">\n                <span class=\"label\">Due</span>\n                <span class=\"value\">{{ formatDate(invoice.due_at) }}</span>\n              </div>\n            </div>\n\n            <div class=\"stripe-empty\" *ngIf=\"!primarySubscription && !recentPayment && !recentInvoice\">\n              <span class=\"value\">No Stripe billing data available.</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-payment-metrics',\n  templateUrl: './payment-metrics.component.html',\n  styleUrls: ['./payment-metrics.component.scss']\n})\nexport class PaymentMetricsComponent {}\n","<div class=\"payment-placeholder text-center py-5\">\n  <div class=\"az-content-label mg-b-5\">Payment Metrics</div>\n  <h2 class=\"az-dashboard-title mg-b-10\">Coming Soon</h2>\n  <p class=\"az-content-text mb-2\">We will extend this page with billing and invoicing insights.</p>\n  <span class=\"badge badge-pill badge-primary\">Planned Q4 release</span>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {DevelopersComponent} from './pages/developers/developers.component';\nimport {DashboardComponent} from './pages/dashboard/dashboard.component';\nimport {AuthSigninComponent} from './pages/auth-signin/auth-signin.component';\nimport {AuthSignupComponent} from './pages/auth-signup/auth-signup.component';\nimport {AuthSignupOrganizationComponent} from './pages/auth-signup-organization/auth-signup-organization.component';\nimport {IsAuthenticatedAuthGuard} from './auth-guards/is-authenticated-auth-guard';\nimport {OrgSettingsComponent} from './pages/org-settings/org-settings.component';\nimport {AccountSettingsComponent} from './pages/account-settings/account-settings.component';\nimport {WebhookLogsComponent} from './pages/webhook-logs/webhook-logs.component';\nimport {OrgBillingComponent} from './pages/org-billing/org-billing.component';\nimport {OrgTeamComponent} from './pages/org-team/org-team.component';\nimport {AuthResetRequestComponent} from './pages/auth-reset-request/auth-reset-request.component';\nimport {AuthResetComponent} from './pages/auth-reset/auth-reset.component';\nimport {AdminShellComponent} from './admin/admin-shell/admin-shell.component';\nimport {ConsentMetricsComponent} from './admin/consent-metrics/consent-metrics.component';\nimport {CollectMetricsComponent} from './admin/collect-metrics/collect-metrics.component';\nimport {PaymentMetricsComponent} from './admin/payment-metrics/payment-metrics.component';\nimport {AdminLoginComponent} from './admin/admin-login/admin-login.component';\nimport {IsAdminAuthGuard} from \"./auth-guards/is-admin-auth-guard\";\nimport {OrganizationDetailsComponent} from \"./admin/organization-details/organization-details.component\";\nimport {AuthDomainClaimedComponent} from \"./pages/auth-domain-claimed/auth-domain-claimed.component\";\n\nconst routes: Routes = [\n\n  { path: 'auth/signin', component: AuthSigninComponent },\n  { path: 'auth/signup', component: AuthSignupComponent },\n  { path: 'auth/invite', component: AuthSignupComponent },\n  { path: 'auth/signup/org', component: AuthSignupOrganizationComponent },\n  { path: 'auth/reset/request', component: AuthResetRequestComponent },\n  { path: 'auth/reset', component: AuthResetComponent },\n  { path: 'auth/claimed', component: AuthDomainClaimedComponent },\n\n  { path: '', redirectTo: '/developers', pathMatch: 'full' },\n  { path: 'dashboard', component: DashboardComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'developers', component: DevelopersComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'developers/webhooks/:webhookId/logs', component: WebhookLogsComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'org/settings', component: OrgSettingsComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'org/billing', component: OrgBillingComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'org/team', component: OrgTeamComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'account/settings', component: AccountSettingsComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'admin/login', component: AdminLoginComponent },\n  {\n    path: 'admin',\n    component: AdminShellComponent,\n    canActivate: [IsAdminAuthGuard],\n    canActivateChild: [IsAdminAuthGuard],\n    children: [\n      { path: '', redirectTo: 'consent-metrics', pathMatch: 'full' },\n      { path: 'consent-metrics', component: ConsentMetricsComponent },\n      { path: 'collect-metrics', component: CollectMetricsComponent },\n      { path: 'payment-metrics', component: PaymentMetricsComponent },\n      { path: 'organization-details', component: OrganizationDetailsComponent },\n    ]\n  },\n\n  //must be at bottom of list\n  { path: '**', redirectTo: 'developers' },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport {NavigationEnd, Router, RouterEvent} from '@angular/router';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'fastenhealth';\n\n  showHeader:boolean = false;\n  showFooter:boolean = true;\n\n  constructor(\n    private router: Router,\n    // private toastService: ToastService,\n    private modalService: NgbModal\n  ) {}\n\n  ngOnInit() {\n\n    // navbar backdrop for mobile only\n    const navbarBackdrop = document.createElement('div');\n    navbarBackdrop.classList.add('az-navbar-backdrop');\n    document.querySelector('body')?.appendChild(navbarBackdrop);\n\n    //determine if we should show the header\n    this.router.events.subscribe(event => this.routerEvent(event));\n  }\n\n  routerEvent(event: any) {\n    if (event instanceof NavigationEnd) {\n      //modify header\n      if (event.url?.startsWith('/auth') || event.url?.startsWith('/desktop') || event.url?.startsWith('/admin')) {\n        this.showHeader = false;\n      } else {\n        // console.log(\"NU\")\n        this.showHeader = true;\n      }\n\n      // close all open modals when route change\n      this.modalService.dismissAll();\n    }\n  }\n}\n","<div>\n  <app-header *ngIf=\"showHeader\"></app-header>\n  <div class=\"az-content-wrapper\">\n    <router-outlet></router-outlet>\n  </div>\n  <app-footer *ngIf=\"showFooter\"></app-footer>\n</div>\n","export const URL_PATTERN = /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,64}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/;\n\n\n// HANDLE DEEPLINKING - https://snipplr.com/view/6889/regular-expressions-for-uri-validationparsing\n// acmenativeappdeeplink://item/view/12345\n// http://freecodecamp.org\n// https://www.freecodecamp.orgsdfsdf\n// http://www.freecodecamp.org\n//\n// NOT:\n// google.co.uk\n// facebook.net\n// google.com.ng\n// google.com.in\n// freecodecamp.org\nexport const URI_PATTERN = /^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*))(\\3)@)?(?=(\\[[0-9A-F:.]{2,}\\]|(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*))\\5(?::(?=(\\d*))\\6)?)(\\/(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\8)?|(\\/?(?!\\/)(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\10)?)(?:\\?(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\11)?(?:#(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\12)?$/i;\n\n\n\n// https://medium.com/@ojiofor/angular-reactive-forms-strong-password-validation-8dbcce92eb6c\n//     Minimum Length: A strong password should have a minimum length, typically at least 8 characters.\n//     Uppercase Letters: It should contain at least one uppercase letter.\n//     Lowercase Letters: It should contain at least one lowercase letter.\n//     Numbers: It should contain at least one number.\n//     Special Characters: It should contain at least one special character (e.g., !, @, #, $).\nexport const STRONG_PASSWORD_PATTERN = /^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\D*\\d).{8,}$/;\n\nexport enum ApiMode {\n  Live = 'live',\n  Test = 'test',\n}\n\nexport enum CredentialStatus {\n  Active = 'active',\n  Inactive = 'inactive',\n}\n\nexport enum WebhookStatus {\n  Active = 'active',\n  Inactive = 'inactive',\n}\n\nexport enum WebhookDeliveryStatus {\n  Success = 'success',\n  Failure = 'failure',\n}\n\nexport enum CRUDMode {\n  Create = 'create',\n  Update = 'update',\n  Delete = 'delete',\n}\n\nexport enum EventTypes{\n  EventTypesPatientEHIExportFailed = \"patient.ehi_export_failed\",\n  EventTypesPatientEHIExportSuccess = \"patient.ehi_export_success\",\n  EventTypesPatientAuthorizationRevoked = \"patient.authorization_revoked\",\n  EventTypesPatientConnectionSuccess = \"patient.connection_success\",\n  EventTypesWebhookTest               = \"webhook.test\",\n}\n\nexport const ORG_ONBOARDING_GRID_IMAGES: string[] = [\n  \"f8f9ce28-d79b-4b54-9f7d-3f0aaba88c2c.png\",\n  \"89bb6993-b806-49a2-84e2-6e70705c504a.png\",\n  \"9fcc4529-7dc9-4c66-9198-574f978c8bb7.png\",\n  \"68952002-f17e-4086-aae5-841241b194dd.png\",\n  \"767b97b9-4538-433f-ab7a-14ccb0053323.png\",\n  \"74078880-4084-430e-bc6c-223e5990cef8.png\",\n  \"10668246-1077-4c1d-a6ce-0557c9476e77.png\",\n  \"f7e4fc08-c6f6-426b-be98-d60aa36d3b8b.png\",\n  \"65308856-beaa-46a0-9775-20c6c9322add.png\",\n  \"6e901e85-8f45-4c60-8d1f-12621aad07f1.png\",\n  \"e675376d-03de-4e66-8196-eaccda536ad5.png\",\n  \"a36fd256-2751-464f-b6d7-418279595b1e.png\",\n  \"c623f37e-6399-4a13-909f-3d9886130673.png\",\n  \"467592a3-7f5f-4258-909e-a99ca971ce15.png\",\n  \"5ad8a5ab-6570-4f1e-8002-30a051ec52c2.png\",\n  \"ddbef50d-3940-4411-9dea-6bf759704c6e.png\",\n  \"fc2dcde0-0848-4b09-aeaf-bfef58120de9.png\",\n  \"347c0df7-5817-470e-8b28-2802f90461f6.png\",\n  \"ec5bc181-5466-4ebd-9e42-471593b8d104.png\",\n  \"d3b1eba5-ec53-4e6d-9600-9510afbc4dda.png\",\n  \"16483fad-5c24-4766-ad53-bd78551f0768.png\",\n  \"ae8026ed-e74b-4bf3-9f53-458c250420ba.png\",\n  \"907d39f4-6b30-46cd-b0c8-f525c636c933.png\",\n  \"6b076b97-18f7-452d-9f09-20dffb01729f.png\",\n  \"c7feccc5-ad10-4aeb-91b0-12b6b93feeba.png\",\n  \"c66a7c1e-21f2-44aa-9486-cdfb5ad699ba.png\",\n  \"82af2366-1d27-4665-ba99-e5a60a75205a.png\",\n  \"2289e832-64da-47d9-82ef-1f4e15ccf627.png\",\n  \"26768525-2b04-4715-9159-3679598289a3.png\",\n  \"80af4067-77e9-4c13-b617-4f370dc14d3f.png\",\n  \"ec6c5f06-d7f8-4eac-8e2f-6cda4536d8ab.png\",\n  \"93ee1d70-6eaa-487b-84d1-cc18bcda253f.png\",\n  \"6d5ba4db-4b63-4277-bb80-dc278dbe28bd.png\",\n  \"b22e4e71-1121-4fca-b158-efbb906918e9.png\",\n  \"49fd46d0-05ce-4c7d-923c-3891935f6947.png\",\n  \"19652f82-98b9-44e6-9964-e426192a723d.png\",\n  \"314a06fc-4efc-4e34-8048-565455e4f3e1.png\",\n  \"8123cfc7-53b6-45d6-ace3-b64d4bd3234b.png\",\n  \"35159b16-a1b5-45ba-9d4f-83f471d5f44b.png\",\n  \"d6c0016f-aaec-4764-ac28-7a6eda64b693.png\",\n  \"d09c7811-213b-4c19-9154-48e57174f239.png\",\n  \"2bcdcc4c-0f13-4edb-85f4-2c9f4f948df0.png\",\n  \"4a4720a0-0efc-4b63-a83d-a8cc5b1c15ad.png\",\n  \"98f680b2-15c4-4854-902b-ed6b69425164.png\",\n  \"32283b0a-3c36-4f92-b9c2-dd2edf3a3db1.png\",\n  \"d56e9e82-3f62-4ce8-8a55-27da90fbe183.png\",\n  \"4fc37973-195c-4e25-8751-331a3b88e685.png\",\n  \"fb0bb8fa-8336-4b26-bdc5-7f8a432c1d94.png\",\n  \"7ca2d9d1-d300-479d-ab85-f956b6ef60de.png\",\n  \"4fd8bb55-bb2d-4748-a134-bbab7a22e4db.png\",\n  \"63cde119-f9d8-468d-900a-1976211739f8.png\",\n  \"e8290a84-88a1-4eac-a5b4-b2c63146b2c9.png\",\n  \"13b592f9-5c8b-4f90-aa54-5ab57a29ea89.png\",\n  \"0398ce8e-9200-430c-a654-f2057bc9a2d4.png\",\n  \"92b1d310-99a1-4de2-99b6-975eaf5a3744.png\",\n  \"418d563f-bd82-473f-a738-cd9775db4e56.png\",\n  \"8fb52893-1e93-4fea-adba-838e9b42e4d2.png\",\n  \"acec8466-8b0a-4adc-9929-561b7136fccb.png\",\n  \"3d01addb-1103-49ca-9c74-3027112e4aa8.png\",\n  \"5f5973bf-d11c-4f99-9b86-b1303cea3503.png\",\n  \"1317665c-e5c4-48b8-b3a5-2a90aa0283d7.png\",\n  \"48f2153e-6f4a-4da5-99a5-775a888c218a.png\",\n  \"34451b52-0f65-4e1a-91aa-5f2b1420f4b7.png\",\n  \"d3a10e7c-63c1-4309-b801-e42ce6e575d5.png\",\n  \"4c74937f-c30d-49c8-993e-c5a133f92414.png\",\n  \"5c4c748f-acd5-4fc8-b6cd-a37f629709fb.png\",\n  \"0293e1f1-291e-48ad-a5d0-cc7fcb062603.png\",\n  \"407f63d2-8fc7-42dd-9a46-23c76693789b.png\",\n  \"6d5de058-cc60-4f07-89db-bcc6817bb115.png\",\n  \"a1c9be32-3539-4390-bf01-828d5fb9f57d.png\",\n  \"562c8d0a-e524-49d7-81c2-70b34b4b9a15.png\",\n  \"8023b832-eaca-414a-9a53-c2fe423087d2.png\",\n  \"e8e73128-7722-4514-9684-1c17d43d880e.png\",\n  \"24cb81a7-dd2b-4b07-808b-f6611fea0393.png\",\n  \"5266bc57-58db-4171-8d73-a2a40ff380d2.png\",\n  \"9752c0a1-49f5-4842-8554-bfa3a6a3c3b4.png\",\n  \"df4a6dd3-672f-4547-8ade-609df28dcda9.png\",\n  \"921bb517-fdc9-4ca2-b9fc-a9e17e6cb8fc.png\",\n  \"e3f229a1-8637-49b1-abaa-84d228aff34a.png\",\n  \"53f22687-4635-4bff-99e2-2eacdc402359.png\",\n  \"c7fe32b2-97c6-45f7-90f8-47213c9b85f1.png\",\n  \"a7a87c72-1d8a-42d6-b0a4-c72b7dd8933a.png\",\n  \"2630415e-1871-437a-84de-52ad7ce88f3e.png\",\n  \"b53ff282-4725-45f7-a436-89f77320f062.png\",\n];\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport { HighlightModule, HIGHLIGHT_OPTIONS } from 'ngx-highlightjs';\n\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { FontAwesomeModule, FaIconLibrary } from '@fortawesome/angular-fontawesome';\nimport { HeaderComponent } from './components/header/header.component';\nimport { FooterComponent } from './components/footer/footer.component';\nimport { DevelopersComponent } from './pages/developers/developers.component';\nimport { DashboardComponent } from './pages/dashboard/dashboard.component';\nimport { AuthSigninComponent } from './pages/auth-signin/auth-signin.component';\nimport { AuthSignupComponent } from './pages/auth-signup/auth-signup.component';\nimport { AuthSignupOrganizationComponent } from './pages/auth-signup-organization/auth-signup-organization.component';\nimport { PasswordConfirmValidatorDirective } from './directives/password-confirm-validator.directive';\nimport { IsAuthenticatedAuthGuard } from './auth-guards/is-authenticated-auth-guard';\nimport { Router } from '@angular/router';\nimport { AuthService } from './services/auth.service';\nimport { AuthInterceptorService } from './services/auth-interceptor.service';\nimport { ImageCropperModule } from 'ngx-image-cropper';\nimport { LogoCropperComponent } from './components/logo-cropper/logo-cropper.component';\nimport { NgChartsModule } from 'ng2-charts';\nimport { NgxEchartsModule } from 'ngx-echarts';\nimport { MomentModule } from 'ngx-moment';\nimport { OrgSettingsComponent } from './pages/org-settings/org-settings.component';\nimport { AccountSettingsComponent } from './pages/account-settings/account-settings.component';\nimport { OrgCredentialsEditorComponent } from './components/org-credentials-editor/org-credentials-editor.component';\nimport { OrgWebhooksEditorComponent } from './components/org-webhooks-editor/org-webhooks-editor.component';\nimport { WebhookLogsComponent } from './pages/webhook-logs/webhook-logs.component';\nimport { OrgBillingComponent } from './pages/org-billing/org-billing.component';\nimport { OrgTeamComponent } from './pages/org-team/org-team.component';\nimport { OrgTeamInviteComponent } from './components/org-team-invite/org-team-invite.component';\nimport { OrgTeamInviteMultipleComponent } from './components/org-team-invite-multiple/org-team-invite-multiple.component';\nimport { AuthResetRequestComponent } from './pages/auth-reset-request/auth-reset-request.component';\nimport { AuthResetComponent } from './pages/auth-reset/auth-reset.component';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { OrgWebhookSimulateComponent } from './components/org-webhook-simulate/org-webhook-simulate.component';\nimport { EmailLowercaseValidatorDirective } from './directives/email-lowercase-validator.directive';\nimport { AdminShellComponent } from './admin/admin-shell/admin-shell.component';\nimport { ConsentMetricsComponent } from './admin/consent-metrics/consent-metrics.component';\nimport { CollectMetricsComponent } from './admin/collect-metrics/collect-metrics.component';\nimport { PaymentMetricsComponent } from './admin/payment-metrics/payment-metrics.component';\nimport { AdminLoginComponent } from './admin/admin-login/admin-login.component';\nimport { OrganizationDetailsComponent } from './admin/organization-details/organization-details.component';\nimport {AdminService} from \"./services/admin.service\";\nimport {IsAdminAuthGuard} from \"./auth-guards/is-admin-auth-guard\";\nimport { WeekMonthPickerComponent } from './components/week-month-picker/week-month-picker.component';\nimport { WeekPickerComponent } from './components/week-month-picker/week-picker/week-picker.component';\nimport { MonthPickerComponent } from './components/week-month-picker/month-picker/month-picker.component';\nimport { AuthDomainClaimedComponent } from './pages/auth-domain-claimed/auth-domain-claimed.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    FooterComponent,\n    DevelopersComponent,\n    DashboardComponent,\n    AuthSigninComponent,\n    AuthSignupComponent,\n    AuthSignupOrganizationComponent,\n    LogoCropperComponent,\n    OrgSettingsComponent,\n    AccountSettingsComponent,\n    OrgCredentialsEditorComponent,\n    OrgWebhooksEditorComponent,\n    WebhookLogsComponent,\n    OrgBillingComponent,\n    OrgTeamComponent,\n    OrgTeamInviteComponent,\n    OrgTeamInviteMultipleComponent,\n    AuthResetRequestComponent,\n    AuthResetComponent,\n    OrgWebhookSimulateComponent,\n    AdminShellComponent,\n    ConsentMetricsComponent,\n    CollectMetricsComponent,\n    PaymentMetricsComponent,\n    AdminLoginComponent,\n    OrganizationDetailsComponent,\n    WeekMonthPickerComponent,\n    WeekPickerComponent,\n    MonthPickerComponent,\n    AuthDomainClaimedComponent,\n  ],\n  imports: [\n    FormsModule,\n    NgSelectModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    PasswordConfirmValidatorDirective,\n    EmailLowercaseValidatorDirective,\n    NgbModule,\n    NgChartsModule,\n    NgxEchartsModule.forRoot({\n      echarts: () => import('echarts')\n    }),\n    InfiniteScrollModule,\n    FontAwesomeModule,\n    ImageCropperModule,\n    MomentModule,\n    HighlightModule\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptorService,\n      multi: true,\n      deps: [AuthService, AdminService, Router]\n    },\n    IsAuthenticatedAuthGuard,\n    IsAdminAuthGuard,\n    {\n      provide: HIGHLIGHT_OPTIONS,\n      useValue: {\n        fullLibraryLoader: () => import('highlight.js'),\n      }\n    }\n  ],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AppModule {\n  constructor(library: FaIconLibrary) {\n    library.addIconPacks(fas, far);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanActivateChild,\n  Router,\n  RouterStateSnapshot,\n  UrlTree,\n} from '@angular/router';\nimport {AdminService} from \"../services/admin.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IsAdminAuthGuard implements CanActivate, CanActivateChild {\n  constructor(\n    private readonly adminService: AdminService,\n    private readonly router: Router,\n  ) {}\n\n  canActivate(\n    _route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot,\n  ): boolean | UrlTree {\n    return this.evaluateAccess(state.url);\n  }\n\n  canActivateChild(\n    _route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot,\n  ): boolean | UrlTree {\n    return this.evaluateAccess(state.url);\n  }\n\n  private evaluateAccess(targetUrl: string): boolean | UrlTree {\n    if (this.adminService.readAdminToken() !== null) {\n      console.log(\"Admin token was found\", this.adminService.readAdminToken())\n      return true;\n    } else {\n      console.log(\"Admin token not found, \", this.adminService.readAdminToken())\n    }\n\n    const queryParams = targetUrl ? { returnUrl: targetUrl } : undefined;\n    return this.router.createUrlTree(['/admin/login'], { queryParams });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router} from '@angular/router';\nimport {AuthService} from '../services/auth.service';\n\n@Injectable()\nexport class IsAuthenticatedAuthGuard implements CanActivate {\n  constructor(private authService: AuthService, private router: Router) {\n\n  }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise <boolean> {\n    let jwtPayload = await this.authService.GetJWTPayload()\n\n    //check if the user is authenticated, if not, redirect to login\n    if (!jwtPayload) {\n      return await this.router.navigate(['/auth/signin']);\n    } else if(jwtPayload.org_id == '' || jwtPayload.org_id == null){\n      console.log(\"User is not associated with an organization, redirecting to org signup\", jwtPayload)\n      return await this.router.navigate(['/auth/signup/org']);\n    }\n\n\n    // continue as normal\n    return true\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {versionInfo} from '../../../environments/versions';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  appVersion: string;\n\n  constructor() {\n    this.appVersion = versionInfo.version\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"az-footer ht-40 page-footer fixed-bottom\">\n  <div class=\"container ht-100p pd-t-0-f\">\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between py-2 w-100\">\n      <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">Copyright  Fasten Health, Inc. 2022 | {{appVersion}}</span>\n      <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center\"><a href=\"https://www.fastenhealth.com/connect\">Fasten Connect: Unified API For Medical Records</a></span>\n    </div>\n  </div><!-- container -->\n</div><!-- az-footer -->\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\nimport {ConnectService} from '../../services/connect.service';\nimport {PortalConfig} from '../../models/portal-config';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {Organization} from '../../models/fasten/organization';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  constructor(\n    private authService: AuthService,\n    private connectService: ConnectService,\n    public portalConfigService: PortalConfigService,\n    private router: Router,\n  ) { }\n\n  ngOnInit() {\n\n    this.portalConfigService.ConfigSubject.subscribe((config: PortalConfig) => {\n      console.log(\"Configuration changed:\", config)\n      if(config.user && config.user.org_id && !config.org){\n        console.log(\"attempt to download org information, and store in config\")\n        this.connectService.getOrg(config.user.org_id).subscribe((org: Organization )=>{\n          console.log(\"org:\", org)\n          this.portalConfigService.config = {org: org}\n        })\n      }\n    });\n\n  }\n\n  toggleHeaderMenu(event: Event) {\n    event.preventDefault();\n    document.querySelector('body')?.classList.toggle('az-header-menu-show');\n  }\n  closeMenu(e: Event) {\n    (e.target as HTMLElement).closest('.dropdown')?.classList.remove('show');\n    (e.target as HTMLElement).closest('.dropdown .dropdown-menu')?.classList.remove('show');\n  }\n\n  signOut(event: Event) {\n    this.authService.Signout().then(r => {\n      return this.router.navigate(['/auth/signin'])\n    })\n  }\n}\n","<div [hidden]=\"portalConfigService.config$.apiMode == 'live'\" class=\"bg-danger text-white pd-5\">\n  <strong>Test Mode Enabled</strong>\n  <span class=\"text-white float-right\">You're using test data. You will only be able to access sandbox accounts.</span>\n</div>\n\n<div class=\"az-header\">\n  <div class=\"container\">\n    <div class=\"az-header-left\">\n      <a routerLink=\"/\" >\n        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-logo az-img-logo\">\n      </a>\n      <a href=\"#\" id=\"azMenuShow\" (click)=\"toggleHeaderMenu($event)\" class=\"az-header-menu-icon d-lg-none\"><span></span></a>\n    </div><!-- az-header-left -->\n    <div class=\"az-header-menu\">\n      <div class=\"az-header-menu-header\">\n        <a routerLink=\"/\">\n          <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n        </a>\n        <a href=\"#\" (click)=\"toggleHeaderMenu($event)\" class=\"close\">&times;</a>\n      </div><!-- az-header-menu-header -->\n      <ul class=\"nav\">\n\n        <li class=\"nav-item\" ngbDropdown [ngClass]=\"{ 'active': dashboard?.isActive }\">\n          <a routerLink=\"/dashboard\" routerLinkActive=\"active\" #dashboard=\"routerLinkActive\" class=\"nav-link\"><fa-icon [icon]=\"['fas', 'table-columns']\"></fa-icon>&nbsp; Dashboard</a>\n        </li>\n        <li class=\"nav-item\" ngbDropdown [ngClass]=\"{ 'active': developers?.isActive }\">\n          <a routerLink=\"/developers\" routerLinkActive=\"active\" #developers=\"routerLinkActive\" class=\"nav-link\"><fa-icon [icon]=\"['fas', 'code']\"></fa-icon>&nbsp; Developer</a>\n        </li>\n        <li class=\"pd-l-20\">\n          <div [ngClass]=\"{'on': portalConfigService.config$.apiMode == 'test'}\" (click)=\"portalConfigService.toggleApiMode()\" class=\"mg-l-10 az-toggle az-toggle-danger\"><span></span></div>\n        </li>\n      </ul>\n    </div><!-- az-header-menu -->\n    <div class=\"az-header-right\">\n\n      <div class=\"dropdown az-header-notification\" ngbDropdown>\n        <a class=\"new\" id=\"notificationsDropdown\" ngbDropdownToggle><i class=\"far fa-sm fa-bell\"></i></a>\n        <div class=\"dropdown-menu\" ngbDropdownMenu aria-labelledby=\"notificationsDropdown\">\n          <div class=\"az-dropdown-header mg-b-20 d-sm-none\">\n            <a class=\"az-header-arrow\" (click)=\"closeMenu($event)\"><i class=\"icon ion-md-arrow-back\"></i></a>\n          </div>\n          <h6 class=\"az-notification-title\">Notifications</h6>\n          <p class=\"az-notification-text\">Background Jobs & Updates</p>\n          <div class=\"dropdown-footer\"><a routerLink=\"/background-jobs\">View History</a></div>\n        </div><!-- dropdown-menu -->\n      </div><!-- az-header-notification -->\n      <div class=\"dropdown az-profile-menu\" ngbDropdown>\n        <a class=\"az-img-user cursor-pointer\" id=\"profileDropdown\" ngbDropdownToggle>\n          <img src=\"/assets/images/profile-image.svg\" alt=\"\">\n        </a>\n        <div class=\"dropdown-menu\" ngbDropdownMenu aria-labelledby=\"profileDropdown\">\n          <div class=\"az-dropdown-header d-sm-none\">\n            <a class=\"az-header-arrow\" (click)=\"closeMenu($event)\"><i class=\"icon ion-md-arrow-back\"></i></a>\n          </div>\n          <div [routerLink]=\"'/patient-profile'\" class=\"az-header-profile cursor-pointer\">\n            <div class=\"az-img-user\">\n              <img src=\"{{portalConfigService.config$.org?.logo_uri}}\" alt=\"\">\n            </div><!-- az-img-user -->\n            <h6>{{portalConfigService.config$.user?.name}}</h6>\n          </div><!-- az-header-profile -->\n\n          <a routerLink=\"account/settings\"  class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-user-circle\"></i> Profile Settings</a>\n          <a routerLink=\"org/settings\" class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-hospital\"></i> Org Settings</a>\n          <a  class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-life-ring\"></i> Get Support</a>\n          <a (click)=\"signOut($event)\" class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-power-off\"></i> Sign Out</a>\n        </div><!-- dropdown-menu -->\n      </div>\n    </div><!-- az-header-right -->\n  </div><!-- container -->\n</div><!-- az-header -->\n\n","import { Component, OnInit } from '@angular/core';\nimport {ImageCroppedEvent, LoadedImage} from 'ngx-image-cropper';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {NgbActiveModal, NgbModal} from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-logo-cropper',\n  templateUrl: './logo-cropper.component.html',\n  styleUrls: ['./logo-cropper.component.scss']\n})\nexport class LogoCropperComponent implements OnInit {\n\n  //image cropper\n  imageChangedEvent: any = '';\n  croppedImage: any = '';\n  croppedImageEvent: ImageCroppedEvent | null = null;\n  submitLogoLoading = false;\n\n  constructor(\n    public activeModal: NgbActiveModal,\n    private modalService: NgbModal,\n    private sanitizer: DomSanitizer\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  fileChangeEvent(event: any): void {\n    this.imageChangedEvent = event;\n  }\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = this.sanitizer.bypassSecurityTrustUrl(event.objectUrl!);\n    // event.blob can be used to upload the cropped image\n    this.croppedImageEvent = event;\n  }\n  imageLoaded(image: LoadedImage) {\n    // show cropper\n  }\n  cropperReady() {\n    // cropper ready\n  }\n  loadImageFailed() {\n    // show message\n  }\n\n  onSubmit() {\n    console.log(this.croppedImage)\n    this.activeModal.close(this.croppedImageEvent)\n  }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\">Organization Logo</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <p>Fasten Connect requires a logo for display when connecting providers</p>\n      <input type=\"file\" (change)=\"fileChangeEvent($event)\" accept=\".png,.jpeg,.jpg\" />\n\n      <image-cropper\n        [imageChangedEvent]=\"imageChangedEvent\"\n        [maintainAspectRatio]=\"true\"\n        [aspectRatio]=\"1 / 1\"\n        format=\"png\"\n        (imageCropped)=\"imageCropped($event)\"\n        (imageLoaded)=\"imageLoaded($event)\"\n        (cropperReady)=\"cropperReady()\"\n        (loadImageFailed)=\"loadImageFailed()\"\n      ></image-cropper>\n\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button type=\"button\" class=\"btn btn-indigo\" [disabled]=\"submitLogoLoading\" (click)=\"onSubmit()\">\n    Save Logo\n  </button>\n  <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"activeModal.dismiss('Close click')\">Close</button>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport {ApiMode, URI_PATTERN, URL_PATTERN} from '../../app.constants';\nimport { OrganizationCredential } from '../../models/fasten/organization-credential';\nimport { ConnectService } from '../../services/connect.service';\nimport { Organization } from '../../models/fasten/organization';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport {FormArray, FormControl, Validators} from \"@angular/forms\";\nimport {isEqual, compact, uniq} from 'lodash';\n\nconst MAX_REDIRECT_URIS = 25\n\n@Component({\n  selector: 'app-org-credentials-editor',\n  templateUrl: './org-credentials-editor.component.html',\n  styleUrls: ['./org-credentials-editor.component.scss']\n})\nexport class OrgCredentialsEditorComponent implements OnInit {\n  @Input() editorMode: 'create' | 'edit' = 'create'\n  @Input() org: Organization | null = null\n  @Input() apiMode: ApiMode = ApiMode.Test\n  @Input() orgCredential: OrganizationCredential | null = null //only set when editing\n\n  submitOrgCredentialLoading: boolean = false\n  deleteOrgCredentialLoading: boolean = false\n  redirectUris = new FormArray([new FormControl('', [Validators.required, Validators.pattern(URI_PATTERN)])]);\n  note: string = \"\"\n  submitOrgCredentialError: string = ''\n\n\n  constructor(\n    private connectService: ConnectService,\n    public activeModal: NgbActiveModal\n  ) { }\n\n  ngOnInit(): void {\n    if (this.editorMode === 'edit' && this.orgCredential) {\n\n      //reset formArray (empty it)\n      this.redirectUris.clear()\n\n      for(let uri of this.orgCredential.redirect_uris){\n        this.redirectUris.push(new FormControl(uri, [Validators.required, Validators.pattern(URI_PATTERN)]))\n      }\n      this.note = this.orgCredential.note\n    }\n  }\n\n  public deleteOrgCredential() {\n    if (confirm(\"Are you sure you'd like to delete these API Credentials?\") == true) {\n      this.deleteOrgCredentialLoading = true\n\n      if (!this.orgCredential?.id) {\n        this.deleteOrgCredentialLoading = false\n        this.submitOrgCredentialError = \"Unknown Organization Credential ID\"\n        return\n      }\n\n      this.connectService.deleteOrgCredential(this.org!.id, this.orgCredential.id).subscribe((result) => {\n        console.log(\"Deleted Org Credential\", result)\n        this.deleteOrgCredentialLoading = false\n        this.activeModal.close(result)\n      }, (error: any) => {\n        console.log(\"Error Updating Org Credential\", error)\n        this.deleteOrgCredentialLoading = false\n        this.submitOrgCredentialError = JSON.stringify(error)\n\n      },\n        () => {\n          console.log(\"Completed Deleting Org Credential\")\n          this.deleteOrgCredentialLoading = false\n        })\n\n    }\n  }\n\n  public addRedirectUri() {\n    if(this.redirectUris.length >= MAX_REDIRECT_URIS){\n      alert(`You can only add up to ${MAX_REDIRECT_URIS} redirect URIs`)\n      return\n    }\n    this.redirectUris.push(new FormControl('', [Validators.required, Validators.pattern(URI_PATTERN)]))\n  }\n\n  public removeRedirectUri(index: number): void {\n    if (this.redirectUris.length > 1) {\n      this.redirectUris.removeAt(index);\n    } else {\n      alert(\"At least one redirect URI is required.\");\n    }\n  }\n\n  public updateOrgCredential() {\n    this.submitOrgCredentialLoading = true\n    this.submitOrgCredentialError = ''\n\n    if (!this.orgCredential?.id) {\n      this.submitOrgCredentialLoading = false\n      this.submitOrgCredentialError = \"Unknown Organization Credential ID\"\n      return\n    }\n\n    //sort, compact & remove duplicates from the redirectUris array\n    let redirectUris  = this.redirectUris.getRawValue() as string[]\n    redirectUris = uniq(compact(redirectUris)).sort((a, b) => a.localeCompare(b))\n\n    if (isEqual(redirectUris, this.orgCredential.redirect_uris)){\n      this.submitOrgCredentialLoading = false\n      this.submitOrgCredentialError = \"Redirect URI has not changed\"\n    }\n\n\n\n    //TODO: we're not currently checking if the redirectUris array is empty, because the frontend will validate it. However the backend will verify it as well.\n    this.connectService.updateOrgCredential(this.org!.id, this.orgCredential.id, redirectUris, this.note).subscribe((result) => {\n      console.log(\"Updated Org Credential\", result)\n      this.submitOrgCredentialLoading = false\n      this.activeModal.close(result)\n    }, (error: any) => {\n      console.log(\"Error Updating Org Credential\", error)\n      this.submitOrgCredentialLoading = false\n      this.submitOrgCredentialError = JSON.stringify(error)\n\n    },\n      () => {\n        console.log(\"Completed Updating Org Credential\")\n        this.submitOrgCredentialLoading = false\n      })\n  }\n\n  public createOrgCredential() {\n    this.submitOrgCredentialLoading = true\n    this.submitOrgCredentialError = ''\n\n    if (!this.org?.id) {\n      this.submitOrgCredentialLoading = false\n      this.submitOrgCredentialError = \"Unknown Organization ID\"\n      return\n    }\n\n    //TODO: we're not currently checking if the redirectUris array is empty, because the frontend will validate it. However the backend will verify it as well.\n    this.connectService.createOrgCredentials(this.org.id, this.apiMode, this.redirectUris.getRawValue() as string[], this.note).subscribe((result) => {\n      console.log(\"Added Org Credential\", result)\n      this.submitOrgCredentialLoading = false\n      this.activeModal.close(result)\n    }, (error: any) => {\n      console.log(\"Error Adding Org Credential\", error)\n      this.submitOrgCredentialLoading = false\n      this.submitOrgCredentialError = JSON.stringify(error)\n\n    },\n      () => {\n        console.log(\"Completed Adding Org Credential\")\n        this.submitOrgCredentialLoading = false\n      })\n  }\n\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-credential-title\">\n    {{ editorMode == \"create\" ? \"Create\" : \"Update\" }} Credential\n  </h4>\n  <button\n    type=\"button\"\n    class=\"close\"\n    aria-label=\"Close\"\n    (click)=\"activeModal.dismiss('Cross click')\"\n  >\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n<div class=\"modal-body\">\n  <p>\n    API Credentials are used by your application to access the Fasten Connect\n    API\n  </p>\n\n  <form>\n    <div class=\"mb-3\">\n      <label>\n        Redirect Url<span ngbTooltip=\"required\" class=\"text-danger\">*</span>\n        <i class=\"fa fa-plus-circle text-indigo ml-2\"\n          style=\"cursor: pointer;\"\n          (click)=\"addRedirectUri()\"\n        ></i>\n      </label>\n      <div *ngIf=\"redirectUris.controls.length > 1\" class=\"alert alert-warning\">\n        If more than 1 Redirect Url is provided, a matching <code>redirect-uri</code> parameter <strong>MUST</strong> be included in the\n        <a href=\"https://docs.connect.fastenhealth.com/api-reference/registration/connect\" target=\"_blank\" rel=\"noopener noreferrer\">/connect endpoint</a> query parameters.\n      </div>\n      <div class=\"redirect-container\">\n        <div *ngFor=\"let control of redirectUris.controls; index as i\" class=\"input-group pb-1\">\n          <input\n            required\n            [formControl]=\"redirectUris.controls[i]\"\n            class=\"form-control\"\n            placeholder=\"https://example.com/...\"\n            name=\"redirectUri\"\n            type=\"url\"\n          />\n          <div *ngIf=\"i >= 1\" class=\"input-group-append d-flex align-items-center redirect-padding\">\n            <i class=\"fa fa-minus-circle text-indigo ml-2\"\n               (click)=\"removeRedirectUri(i)\"\n               style=\"cursor: pointer;\"\n            ></i>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mb-3\">\n      <label for=\"note\">Note</label>\n      <div class=\"input-group\">\n        <input\n          id=\"note\"\n          class=\"form-control\"\n          placeholder=\"Additional Note\"\n          name=\"note\"\n          type=\"text\"\n          [(ngModel)]=\"note\"\n          #noteField=\"ngModel\"\n        />\n      </div>\n    </div>\n\n    <div\n      *ngIf=\"redirectUris.invalid && (redirectUris.dirty || redirectUris.touched)\"\n      class=\"alert alert-danger\">\n\n      <ng-container *ngFor=\"let control of redirectUris.controls; index as i\">\n        <div *ngIf=\"control.errors?.['required']\">\n          Redirect Url ({{ i + 1 }}) is required.\n        </div>\n        <div *ngIf=\"control.errors?.['pattern']\">\n          Redirect Url ({{ i + 1 }}) must be a valid url starting with https:// or a custom scheme\n        </div>\n      </ng-container>\n    </div>\n\n    <div *ngIf=\"submitOrgCredentialError\" class=\"alert alert-danger\">\n      {{ submitOrgCredentialError }}\n    </div>\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <div style=\"display: block; width: 100%\">\n    <ng-container *ngIf=\"editorMode == 'edit'\">\n      <button\n        type=\"button\"\n        class=\"float-left btn btn-outline-danger\"\n        (click)=\"deleteOrgCredential()\"\n      >Delete\n        <span\n          *ngIf=\"deleteOrgCredentialLoading\"\n          class=\"spinner-border spinner-border-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        ></span>\n      </button>\n\n      <button\n        type=\"button\"\n        class=\"float-right btn btn-outline-indigo\"\n        [disabled]=\"!(redirectUris.dirty || noteField.dirty) || submitOrgCredentialLoading\"\n        (click)=\"updateOrgCredential()\"\n      >Update\n        <span\n          *ngIf=\"submitOrgCredentialLoading\"\n          class=\"spinner-border spinner-border-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        ></span>\n      </button>\n    </ng-container>\n\n    <ng-container *ngIf=\"editorMode == 'create'\">\n      <button\n        type=\"button\"\n        class=\"btn btn-outline-indigo\"\n        [disabled]=\"submitOrgCredentialLoading\"\n        (click)=\"createOrgCredential()\"\n      >Create\n        <span\n          *ngIf=\"submitOrgCredentialLoading\"\n          class=\"spinner-border spinner-border-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        ></span>\n      </button>\n    </ng-container>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, FormArray, Validators} from '@angular/forms';\nimport {ConnectService} from '../../services/connect.service';\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\nimport {forkJoin} from 'rxjs';\n\n@Component({\n  selector: 'app-org-team-invite-multiple',\n  templateUrl: './org-team-invite-multiple.component.html',\n  styleUrls: ['./org-team-invite-multiple.component.scss']\n})\nexport class OrgTeamInviteMultipleComponent implements OnInit {\n  @Input() orgId: string = '';\n\n  inviteForm: FormGroup;\n  submitOrgInviteLoading: boolean = false;\n  submitOrgInviteError: string = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private connectService: ConnectService,\n    public activeModal: NgbActiveModal\n  ) {\n    this.inviteForm = this.fb.group({\n      emails: this.fb.array(\n        Array(4).fill('').map(() => this.fb.control('', [Validators.email]))\n      )\n    });\n  }\n\n  ngOnInit(): void {}\n\n  get emails(): FormArray {\n    return this.inviteForm.get('emails') as FormArray;\n  }\n\n  sendOrgTeamInvites() {\n    const emails = this.emails.value\n      .map((e: string) => e.trim())\n      .filter((e: string) => e.length > 0);\n\n    if (emails.length === 0) {\n      this.activeModal.close([]);\n      return;\n    }\n\n    this.submitOrgInviteLoading = true;\n    this.submitOrgInviteError = '';\n\n    forkJoin(emails.map((email: string) => this.connectService.sendOrgInvite(this.orgId, email))).subscribe({\n      next: () => {\n        this.submitOrgInviteLoading = false;\n        this.activeModal.close(emails);\n      },\n      error: (error) => {\n        console.error('Error sending Org Invites', error);\n        this.submitOrgInviteLoading = false;\n        this.submitOrgInviteError = JSON.stringify(error);\n      }\n    });\n  }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-team-invite-title\">Invite Team Members</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n<div class=\"modal-body\">\n  <p>You can invite up to four team members now or skip this step.</p>\n  <form [formGroup]=\"inviteForm\">\n    <div formArrayName=\"emails\" *ngFor=\"let email of emails.controls; let i = index\" class=\"mb-3\">\n      <input [formControlName]=\"i\" class=\"form-control\" type=\"email\" placeholder=\"team_member@example.com\">\n    </div>\n    <div *ngIf=\"submitOrgInviteError\" class=\"alert alert-danger\">\n      {{submitOrgInviteError}}\n    </div>\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <button type=\"button\" class=\"btn btn-outline-secondary\" [disabled]=\"submitOrgInviteLoading\" (click)=\"activeModal.dismiss('skip')\">Skip</button>\n  <button type=\"button\" class=\"btn btn-outline-indigo\" [disabled]=\"submitOrgInviteLoading || inviteForm.invalid\" (click)=\"sendOrgTeamInvites()\">\n    Send Invites\n    <span *ngIf=\"submitOrgInviteLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n  </button>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Organization} from '../../models/fasten/organization';\nimport {ConnectService} from '../../services/connect.service';\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {parseHttpErrorResponse} from \"../../../utils/error-parser\";\n\n@Component({\n  selector: 'app-org-team-invite',\n  templateUrl: './org-team-invite.component.html',\n  styleUrls: ['./org-team-invite.component.scss']\n})\nexport class OrgTeamInviteComponent implements OnInit {\n  @Input() org: Organization | null = null\n\n  teamMemberEmail: string = ''\n\n  submitOrgInviteLoading: boolean = false\n  submitOrgInviteError: string = ''\n\n  constructor(\n    public portalConfig: PortalConfigService,\n    private connectService: ConnectService,\n    public activeModal: NgbActiveModal\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  public sendOrgTeamInvite() {\n    this.submitOrgInviteLoading = true\n    this.submitOrgInviteError = ''\n\n    if(!this.portalConfig.config$.org?.id){\n      this.submitOrgInviteLoading = false\n      this.submitOrgInviteError = \"Unknown Organization ID\"\n      return\n    }\n\n\n    this.connectService.sendOrgInvite(this.portalConfig.config$.org?.id, this.teamMemberEmail).subscribe((result) => {\n        console.log(\"Added Org Invite\", result)\n        this.submitOrgInviteLoading = false\n        this.activeModal.close({name: this.teamMemberEmail, email: this.teamMemberEmail, status: 'pending'})\n      }, (error: any) => {\n        console.log(\"Error Adding Org Invite\", error)\n        this.submitOrgInviteLoading = false\n        this.submitOrgInviteError = parseHttpErrorResponse(error).error || \"An unknown error occurred.\"\n\n      })\n  }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-webhook-title\">Invite Team Member</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n<div class=\"modal-body\">\n\n  <div class=\"alert alert-warning mg-t-10\" role=\"alert\">\n    <strong>Warning</strong> Fasten Health highly discourages email address from free domains such as Gmail due to access to sensitive information.\n  </div>\n\n  <form>\n    <div class=\"mb-3\">\n      <label for=\"emailAddress\">Member Email<span ngbTooltip=\"required\" class=\"text-danger\">*</span></label>\n      <div class=\"input-group\">\n        <input\n          required\n          id=\"emailAddress\"\n          class=\"form-control\"\n          placeholder=\"team_member@example.com\"\n          name=\"emailAddress\"\n          type=\"email\"\n          [(ngModel)]=\"teamMemberEmail\"\n          #emailAddressField=\"ngModel\"\n          emailLowercaseValidator\n        />\n      </div>\n    </div>\n\n    <div *ngIf=\"emailAddressField.invalid && (emailAddressField.dirty || emailAddressField.touched)\"\n         class=\"alert alert-danger\">\n\n      <div *ngIf=\"emailAddressField.errors?.['required']\">\n        Email Address is required\n      </div>\n      <div *ngIf=\"emailAddressField.errors?.['email_lowercase']\">\n        Email Address must be lowercase\n      </div>\n    </div>\n\n    <div *ngIf=\"submitOrgInviteError\" class=\"alert alert-danger\">\n      {{submitOrgInviteError}}\n    </div>\n\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <div style=\"display:block; width:100%\">\n    <button type=\"button\" class=\"btn  btn-outline-indigo\" [disabled]=\"submitOrgInviteLoading\" (click)=\"sendOrgTeamInvite()\">\n      Create\n      <span *ngIf=\"submitOrgInviteLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n    </button>\n  </div>\n</div>\n","import { ConnectService } from './../../services/connect.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { requiredFields, WebhookSimulation } from '../../models/fasten/webhook-simulate-payload';\nimport { PortalConfigService } from '../../services/portal-config.service';\nimport { EHIExportSuccessPayload, EHIExportFailedPayload, ConnectionSuccessPayload, AuthorizationRevokedPayload, WebhookTestPayload } from '../../models/fasten/webhook-simulate-payload';\n\n@Component({\n    selector: 'app-org-webhook-simulate',\n    templateUrl: './org-webhook-simulate.component.html',\n    styleUrls: ['./org-webhook-simulate.component.scss']\n\n})\nexport class OrgWebhookSimulateComponent implements OnInit {\n    @Input() webhookId!: string;\n    type: string | null = null;\n    payload: string = '';\n    submitLoading = false;\n    submitError: string | null = null;\n    submitSuccess: string | null = null;\n\n    eventTypes = [\n        { label: 'Patient EHI Export Success', value: 'patient.ehi_export_success' },\n        { label: 'Patient EHI Export Failed', value: 'patient.ehi_export_failed' },\n        { label: 'Patient Connection Success (beta)', value: 'patient.connection_success' },\n        { label: 'Patient Authorization Revoked (beta)', value: 'patient.authorization_revoked' },\n        { label: 'Webhook Test', value: 'webhook.test' }\n    ];\n\n    defaultPayloads: Record<string, any> = {\n        'patient.ehi_export_success': new EHIExportSuccessPayload(),\n        'patient.connection_success': new ConnectionSuccessPayload(),\n        'patient.authorization_revoked': new AuthorizationRevokedPayload(),\n        'patient.ehi_export_failed': new EHIExportFailedPayload(),\n        'webhook.test': new WebhookTestPayload(),\n    };\n    requiredFields = requiredFields;\n\n    constructor(\n        public activeModal: NgbActiveModal,\n        public portalConfig: PortalConfigService,\n        private connectService: ConnectService,\n    ) { }\n\n    ngOnInit(): void {\n    }\n\n    onTypeChange() {\n        if (this.type) {\n            this.payload = JSON.stringify(this.defaultPayloads[this.type], null, 2);\n        }\n    }\n\n    submitWebhookSimulation() {\n        this.submitLoading = true;\n        this.submitError = null;\n\n        if (!this.webhookId) {\n            this.submitLoading = false;\n            this.submitError = 'Webhook ID not found in route';\n            return;\n        }\n\n        try {\n            const parsedPayload = JSON.parse(this.payload);\n            if (this.type && this.requiredFields[this.type]) {\n                const missingFields = this.requiredFields[this.type].filter(\n                    field => !(field in parsedPayload) || parsedPayload[field] === ''\n                );\n\n                if (missingFields.length > 0) {\n                    this.submitLoading = false;\n                    this.submitError = `Missing required field(s): ${missingFields.join(', ')}`;\n                    return;\n                }\n            }\n\n            const simulation: WebhookSimulation = {\n                type: this.type!,\n                payload: parsedPayload\n            };\n\n            this.submitLoading = true;\n            const orgId = this.portalConfig.config$.user?.org_id!;\n            this.connectService.simulateWebhook(orgId, this.webhookId, simulation).subscribe({\n                next: (response) => {\n                    this.submitLoading = false;\n\n                    if (response.success) {\n                        this.submitError = '';\n                        this.submitSuccess = 'Simulation successful!';\n                        this.activeModal.close(response.data);\n                    } else {\n                        this.submitError = `Simulation failed: ${response.error}`;\n                        this.submitSuccess = '';\n                    }\n                },\n                error: (err) => {\n                    this.submitLoading = false;\n                    const backendMessage = err?.error?.error;\n                    this.submitError = `Simulation failed: ${backendMessage || err.statusText || 'Server error'}`;\n                    this.submitSuccess = '';\n                }\n            });\n        } catch {\n            this.submitLoading = false;\n            this.submitError = 'Invalid JSON payload';\n        }\n\n    }\n\n    getFieldsForType(type: string | null) {\n        if (!type) return [];\n\n        const defaults = this.defaultPayloads[type] || {};\n        const required = new Set(this.requiredFields[type] || []);\n\n        return Object.keys(defaults).map(key => ({\n            name: key,\n            type: typeof defaults[key],\n            required: required.has(key)\n        }));\n    }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-credential-title\">\n    Simulate Webhook Event\n  </h4>\n  <button\n    type=\"button\"\n    class=\"close\"\n    aria-label=\"Close\"\n    (click)=\"activeModal.dismiss('Cross click')\"\n  >\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n\n<div class=\"modal-body\">\n  <form (ngSubmit)=\"submitWebhookSimulation()\" novalidate>\n    <!-- Type Dropdown -->\n    <div class=\"mb-3\">\n      <label for=\"type\">Event Type <span class=\"text-danger\">*</span></label>\n      <select\n        id=\"type\"\n        class=\"form-control\"\n        [(ngModel)]=\"type\"\n        name=\"type\"\n        (change)=\"onTypeChange()\"\n        required\n      >\n        <option [ngValue]=\"null\" disabled>Select event type...</option>\n        <option *ngFor=\"let t of eventTypes\" [value]=\"t.value\">\n          {{ t.label }}\n        </option>\n      </select>\n    </div>\n\n    <label for=\"type\">Payload<span class=\"text-danger\">*</span></label>\n\n    <!-- Schema (left) + JSON Editor (right) -->\n    <div class=\"d-flex border rounded\" style=\"height: 400px\">\n      <div\n        class=\"border-end w-50 overflow-auto bg-white small rounded-3 shadow-sm\"\n      >\n        <table\n          class=\"table table-hover align-middle mb-0 rounded-3 table-purple\"\n          *ngIf=\"type\"\n        >\n          <thead>\n            <tr>\n              <th scope=\"col\" class=\"py-3 px-4\">Field</th>\n              <th scope=\"col\" class=\"py-3 px-4\">Type</th>\n              <th scope=\"col\" class=\"py-3 px-4\">Required</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let field of getFieldsForType(type)\">\n              <td class=\"fw-semibold py-2 px-3\">{{ field.name }}</td>\n              <td class=\"py-2 px-3\">\n                <span class=\"badge badge-type\">{{ field.type }}</span>\n              </td>\n              <td class=\"py-2 px-3\">\n                <span\n                  class=\"badge\"\n                  [ngClass]=\"\n                    field.required ? 'badge-danger' : 'badge-optional'\n                  \"\n                >\n                  {{ field.required ? \"Yes\" : \"No\" }}\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- JSON Editor (right) -->\n      <div class=\"payload-container\">\n        <textarea\n          id=\"payload\"\n          class=\"form-control font-monospace json-textarea\"\n          [(ngModel)]=\"payload\"\n          name=\"payload\"\n          required\n          spellcheck=\"false\"\n        ></textarea>\n      </div>\n    </div>\n\n    <small class=\"text-muted d-block mt-1\">\n      Edit JSON payload if necessary. Defaults are pre-filled.\n    </small>\n\n    <!-- Error -->\n    <div *ngIf=\"submitError\" class=\"alert alert-danger mt-2\">\n      {{ submitError }}\n    </div>\n  </form>\n</div>\n\n\n<div class=\"modal-footer\">\n  <div style=\"display: block; width: 100%\">\n\n    <!-- Submit Button -->\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-indigo\"\n      [disabled]=\"submitLoading\"\n      (click)=\"submitWebhookSimulation()\"\n    >\n      {{ submitLoading ? \"Submitting...\" : \"Send Simulated Payload\" }}\n      <span\n        *ngIf=\"submitLoading\"\n        class=\"spinner-border spinner-border-sm\"\n        role=\"status\"\n        aria-hidden=\"true\"\n      ></span>\n    </button>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ApiMode, URL_PATTERN, EventTypes } from '../../app.constants';\nimport {Organization} from '../../models/fasten/organization';\nimport {OrganizationCredential} from '../../models/fasten/organization-credential';\nimport {OrganizationWebhook} from '../../models/fasten/organization-webhook';\nimport {ConnectService} from '../../services/connect.service';\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-org-webhooks-editor',\n  templateUrl: './org-webhooks-editor.component.html',\n  styleUrls: ['./org-webhooks-editor.component.scss']\n})\nexport class OrgWebhooksEditorComponent implements OnInit {\n  urlPattern = URL_PATTERN\n\n  @Input() editorMode: 'create' | 'edit' = 'create'\n  @Input() org: Organization | null = null\n  @Input() apiMode: ApiMode = ApiMode.Test\n  @Input() orgWebhook: OrganizationWebhook | null = null //only set when editing\n\n  submitOrgWebhookLoading: boolean = false\n  deleteOrgWebhookLoading: boolean = false\n  eventTypesChanged: boolean = false;\n  endpointUri: string = \"\"\n  submitOrgWebhookError: string = ''\n  active: boolean = true\n\n  // Event\n  availableEventTypes = [\n    { value: EventTypes.EventTypesPatientEHIExportFailed, label: 'patient.ehi_export_failed', required: true },\n    { value: EventTypes.EventTypesPatientEHIExportSuccess, label: 'patient.ehi_export_success', required: true },\n    { value: EventTypes.EventTypesPatientAuthorizationRevoked, label: 'patient.authorization_revoked (beta)', required: false },\n    { value: EventTypes.EventTypesPatientConnectionSuccess, label: 'patient.connection_success (beta)', required: false },\n    { value: EventTypes.EventTypesWebhookTest, label: 'webhook.test', required: true }\n  ];\n\n  selectedEventTypes: string[] = [];\n\n\n  constructor(\n    private connectService: ConnectService,\n    public activeModal: NgbActiveModal\n  ) { }\n\n  ngOnInit(): void {\n    // Always include required events\n    const requiredEvents = this.availableEventTypes.filter(e => e.required).map(e => e.value);\n\n    if (this.editorMode === 'edit' && this.orgWebhook) {\n      this.endpointUri = this.orgWebhook.endpoint_uri\n      this.active = this.orgWebhook.status === 'active'\n      this.selectedEventTypes = [...new Set([...requiredEvents, ...(this.orgWebhook.event_types || [])])];\n    } else {\n      // For create mode, start with just required events\n      this.selectedEventTypes = [...requiredEvents];\n    }\n  }\n\n  validateRequiredEvents(): boolean {\n    const requiredEvents = this.availableEventTypes\n      .filter(e => e.required)\n      .map(e => e.value);\n\n    const missing = requiredEvents.filter(req => !this.selectedEventTypes.includes(req));\n\n    if (missing.length > 0) {\n      this.submitOrgWebhookError = 'Required event types must be selected.';\n      return false;\n    }\n\n    this.submitOrgWebhookError = '';\n    return true;\n  }\n\n  onEventTypesChanged() {\n    this.eventTypesChanged = true;\n  }\n\n  public deleteOrgWebhook() {\n    if (confirm(\"Are you sure you'd like to delete this Webhook?\") == true) {\n      this.deleteOrgWebhookLoading = true\n\n      if(!this.orgWebhook?.id){\n        this.deleteOrgWebhookLoading = false\n        this.submitOrgWebhookError = \"Unknown Organization Webhook ID\"\n        return\n      }\n\n      this.connectService.deleteOrgWebhook(this.org!.id, this.orgWebhook.id).subscribe((result) => {\n          console.log(\"Deleted Org Webhook\", result)\n          this.deleteOrgWebhookLoading = false\n          this.activeModal.close(result)\n        }, (error: any) => {\n          console.log(\"Error Updating Org Webhook\", error)\n          this.deleteOrgWebhookLoading = false\n          this.submitOrgWebhookError = JSON.stringify(error)\n\n        },\n        () => {\n          console.log(\"Completed Deleting Org Webhook\")\n          this.deleteOrgWebhookLoading = false\n        })\n\n    }\n  }\n\n  public updateOrgWebhook() {\n    this.eventTypesChanged = false;\n    this.submitOrgWebhookLoading = true\n    this.submitOrgWebhookError = ''\n\n    if(!this.orgWebhook?.id){\n      this.submitOrgWebhookLoading = false\n      this.submitOrgWebhookError = \"Unknown Organization Webhook ID\"\n      return\n    }\n\n    if(this.endpointUri == this.orgWebhook.endpoint_uri  && this.active == (this.orgWebhook.status === 'active')){\n      this.submitOrgWebhookLoading = false\n      this.submitOrgWebhookError = \"Webhook settings have not changed\"\n    }\n\n    if (!this.validateRequiredEvents()) {\n      this.submitOrgWebhookLoading = false;\n      return;\n    }\n\n    console.log('Submitting event types:', this.selectedEventTypes);\n\n\n    this.connectService.updateOrgWebhook(this.org!.id, this.orgWebhook.id, this.endpointUri, this.active? 'active' : 'inactive', this.selectedEventTypes).subscribe((result) => {\n        console.log(\"Updated Org Webhook\", result)\n        this.submitOrgWebhookLoading = false\n        this.activeModal.close(result)\n      }, (error: any) => {\n        console.log(\"Error Updating Org Webhook\", error)\n        this.submitOrgWebhookLoading = false\n        this.submitOrgWebhookError = JSON.stringify(error)\n\n      },\n      () => {\n        console.log(\"Completed Updating Org Webhook\")\n        this.submitOrgWebhookLoading = false\n      })\n  }\n\n  public createOrgWebhook() {\n    this.submitOrgWebhookLoading = true\n    this.submitOrgWebhookError = ''\n\n    if(!this.org?.id){\n      this.submitOrgWebhookLoading = false\n      this.submitOrgWebhookError = \"Unknown Organization ID\"\n      return\n    }\n\n    if (!this.validateRequiredEvents()) {\n      this.submitOrgWebhookLoading = false;\n      return;\n    }\n\n    this.connectService.createOrgWebhooks(this.org.id, this.apiMode!, this.endpointUri, this.active? 'active' : 'inactive', this.selectedEventTypes).subscribe((result) => {\n        this.submitOrgWebhookLoading = false\n        this.activeModal.close(result)\n      }, (error: any) => {\n        console.log(\"Error Adding Org Webhook\", error)\n        this.submitOrgWebhookLoading = false\n        this.submitOrgWebhookError = JSON.stringify(error)\n\n      },\n      () => {\n        console.log(\"Completed Adding Org Webhook\")\n        this.submitOrgWebhookLoading = false\n      })\n  }\n\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-webhook-title\">{{editorMode == 'create' ? 'Create' : 'Update' }} Webhook</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n    <span aria-hidden=\"true\"></span>\n  </button>\n</div>\n<div class=\"modal-body\">\n  <p>\n    Webhooks allow Fasten Connect to notify you once patient medical records have been retrieved and are ready for download.\n  </p>\n  <p>\n\n  </p>\n\n  <div *ngIf=\"apiMode! == 'test'\" class=\"alert alert-warning mg-t-10\" role=\"alert\">\n    <strong>Testing</strong> If you don't have an environment to receive webhooks, you can use <a target=\"_blank\" href=\"https://webhook.site\">webhook.site</a> to test.\n  </div>\n\n  <form>\n    <div class=\"mb-3\">\n      <label for=\"endpointUri\">Endpoint Url<span ngbTooltip=\"required\" class=\"text-danger\">*</span></label>\n      <div class=\"input-group\">\n        <input\n          required\n          id=\"endpointUri\"\n          class=\"form-control\"\n          placeholder=\"https://example.com/...\"\n          name=\"endpointUri\"\n          type=\"url\"\n          [pattern]=\"urlPattern\"\n          [(ngModel)]=\"endpointUri\"\n          #endpointUriField=\"ngModel\"\n        />\n      </div>\n    </div>\n    <div *ngIf=\"endpointUriField.invalid && (endpointUriField.dirty || endpointUriField.touched)\"\n         class=\"alert alert-danger\">\n\n      <div *ngIf=\"endpointUriField.errors?.['required']\">\n        Endpoint Url is required\n      </div>\n      <div *ngIf=\"endpointUriField.errors?.['pattern']\">\n        Endpoint Url must be a valid url starting with https://\n      </div>\n    </div>\n\n    <div class=\"mb-3\">\n      <label for=\"event-types\">Webhook Event Types</label>\n      <a href=\"https://docs.connect.fastenhealth.com/webhooks/events\" target=\"_blank\"><i class=\"fa fa-info-circle text-indigo ml-1\"></i></a>\n      <ng-select\n        name=\"webhookEventTypes\"\n        [items]=\"availableEventTypes\"\n        bindLabel=\"label\"\n        bindValue=\"value\"\n        [(ngModel)]=\"selectedEventTypes\"\n        (change)=\"onEventTypesChanged()\"\n        [multiple]=\"true\"\n        placeholder=\"Select event types...\">\n\n        <ng-template ng-option-tmp let-item=\"item\" let-index=\"index\">\n          {{ item.label }}\n          <span *ngIf=\"item.required\"> (required)</span>\n        </ng-template>\n      </ng-select>\n\n    </div>\n\n    <div class=\"mb-3\">\n      <span>Webhook Status</span>\n      <div class=\"az-toggle\" [ngClass]=\"{'on': active}\"><label for=\"webhook-active\"><span></span></label></div>\n      <input\n        id=\"webhook-active\"\n        class=\"\"\n        name=\"webhook-active\"\n        type=\"checkbox\"\n        [(ngModel)]=\"active\"\n        style=\"display: none\"\n        #webhookActiveField=\"ngModel\"\n      />\n    </div>\n\n    <div *ngIf=\"submitOrgWebhookError\" class=\"alert alert-danger\">\n      {{submitOrgWebhookError}}\n    </div>\n\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <div style=\"display:block; width:100%\">\n    <ng-container *ngIf=\"editorMode == 'edit'\">\n      <button type=\"button\" class=\"float-left btn btn-outline-danger\" (click)=\"deleteOrgWebhook()\">\n        Delete\n        <span *ngIf=\"deleteOrgWebhookLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n      </button>\n\n      <button type=\"button\" class=\"float-right btn btn-outline-indigo\" [disabled]=\"(!endpointUriField.dirty && !webhookActiveField.dirty && !eventTypesChanged) || submitOrgWebhookLoading\" (click)=\"updateOrgWebhook()\">\n        Update\n        <span *ngIf=\"submitOrgWebhookLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n      </button>\n    </ng-container>\n\n    <ng-container *ngIf=\"editorMode == 'create'\">\n      <button type=\"button\" class=\"btn  btn-outline-indigo\" [disabled]=\"submitOrgWebhookLoading\" (click)=\"createOrgWebhook()\">\n        Create\n        <span *ngIf=\"submitOrgWebhookLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n      </button>\n    </ng-container>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { MonthPickerComponent } from './month-picker.component';\n\n/**\n * A service that represents the keyboard navigation.\n *\n * Default keyboard shortcuts [are documented in the overview](#/components/datepicker/overview#keyboard-shortcuts)\n *\n * @since 5.2.0\n */\n\n@Injectable({ providedIn: 'root' })\nexport class NgbMonthDatepickerKeyboardService {\n  /**\n   * Processes a keyboard event.\n   */\n  processKey(event: KeyboardEvent, cal: MonthPickerComponent) {\n    const cells = cal.cells?.toArray();\n    let index = cal.isyear\n      ? cells?.findIndex((x) => x.nativeElement.dataset.year == cal.displayYear)\n      : cells?.findIndex(\n        (x) => x.nativeElement.dataset.month == cal.displayMonth\n      );\n\n    if ((index || -1) < 0) return;\n    switch (event.key) {\n      case 'ArrowDown':\n        if (cal.isyear) {\n          if ((index || -1) > 8)\n            cal.setValues(\n              cal.initialYear + 12,\n              cal.displayYear + 3,\n              cal.displayMonth\n            );\n          else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear + 3,\n              cal.displayMonth\n            );\n        } else {\n          if ((index || -1) > 8) {\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear + 1,\n              ((cal.displayMonth + 2) % 12) + 1\n            );\n          } else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear,\n              ((cal.displayMonth + 2) % 12) + 1\n            );\n        }\n        cal.focus();\n\n        break;\n      case 'ArrowUp':\n        if (cal.isyear) {\n          if ((index || -1) < 3)\n            cal.setValues(\n              cal.initialYear - 12,\n              cal.displayYear - 3,\n              cal.displayMonth\n            );\n          else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear - 3,\n              cal.displayMonth\n            );\n        } else {\n          if ((index || -1) < 3)\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear - 1,\n              ((cal.displayMonth + 8) % 12) + 1\n            );\n          else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear,\n              ((cal.displayMonth + 8) % 12) + 1\n            );\n        }\n        cal.focus();\n        break;\n      case 'ArrowLeft':\n        if (cal.isyear) {\n          if (index == 0)\n            cal.setValues(\n              cal.initialYear - 12,\n              cal.displayYear - 1,\n              cal.displayMonth\n            );\n          else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear - 1,\n              cal.displayMonth\n            );\n        } else {\n          if (index == 0) {\n            cal.setValues(cal.initialYear, cal.displayYear - 1, 12);\n          } else\n            cal.setValues(\n              cal.initialYear,\n              cal.displayYear,\n              cal.displayMonth - 1\n            );\n        }\n\n        cal.focus();\n        break;\n      case 'ArrowRight':\n        if (index == 11) {\n          if (cal.isyear)\n            cal.setValues(\n              cal.initialYear + 12,\n              cal.displayYear + 1,\n              cal.displayMonth\n            );\n          else\n            cal.setValues(cal.initialYear,cal.displayYear+1,1)\n\n        } else {\n          if (cal.isyear)\n            cal.setValues(cal.initialYear,cal.displayYear+1,cal.displayMonth)\n          else\n            cal.setValues(cal.initialYear,cal.displayYear,cal.displayMonth+1)\n        }\n        cal.focus();\n        break;\n      case 'PageDown':\n        cal.displayYear++;\n        break;\n      case 'PageUp':\n        cal.displayYear--;\n        break;\n      case 'Enter':\n        cal.selectYearMonth((index || -1));\n        break;\n\n      case 'Tab':\n        const bt = cal.buttons?.find(\n          (x) => x.nativeElement.getAttribute('disabled') == null\n        );\n        if (bt) bt.nativeElement.focus();\n        break;\n      case 'Escape':\n        if (cal.isyear) {\n          cal.displayYear = cal.displayYearOld;\n          cal.isyear = false;\n          cal.focus();\n        } else return;\n        break;\n      default:\n        return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","import {\n  Component,\n  forwardRef,\n  TemplateRef,\n  Input,\n  ViewChild,\n  ViewChildren,\n  QueryList,\n  ElementRef,\n} from '@angular/core';\nimport { formatDate } from '@angular/common';\nimport {\n  ControlValueAccessor,\n  Validator,\n  FormControl,\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS,\n} from '@angular/forms';\nimport { NgbDropdown, NgbDatepickerI18n } from '@ng-bootstrap/ng-bootstrap';\nimport { NgbMonthDatepickerKeyboardService } from './month-picker-keyboard.service';\n\ninterface Idata {\n  month: number;\n  year: number;\n}\n@Component({\n  selector: 'app-month-picker',\n  templateUrl: './month-picker.component.html',\n  styleUrls: ['./month-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MonthPickerComponent),\n      multi: true,\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: MonthPickerComponent,\n      multi: true,\n    },\n  ],\n})\nexport class MonthPickerComponent\n  implements ControlValueAccessor, Validator\n{\n\n  data: Idata | undefined;\n\n  dataTxt: string | undefined;\n  separator: string;\n  monthFirst: boolean;\n  place: number;\n\n  isyear: boolean = false;\n  _initialYear: number = 0;\n\n  displayMonth: number = new Date().getMonth();\n  _displayYear: number = new Date().getFullYear();\n  displayYearOld = this.displayYear;\n\n  cellsSelectables: boolean[] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(\n    (x) => true\n  );\n\n  get displayYear() {\n    return this._displayYear;\n  }\n  set displayYear(value) {\n    this._displayYear = value;\n    this.setCellsSelectables();\n  }\n\n  get initialYear() {\n    return this._initialYear;\n  }\n  set initialYear(value) {\n    this._initialYear = value;\n    this.setCellsSelectables();\n  }\n\n  setValues(initialYear: number, displayYear: number, displayMonth: number) {\n    if (this.minDate && initialYear < this.getIncr(this.minDate.year)) return;\n    if (this.maxDate && initialYear > this.getIncr(this.maxDate.year) + 11)\n      return;\n\n    if (this.minDate && displayYear < this.minDate.year) return;\n    if (this.maxDate && displayYear > this.maxDate.year) return;\n\n    if (\n      this.minDate &&\n      displayYear == this.minDate.year &&\n      displayMonth < this.minDate.month\n    ) {\n      if (this.isyear) displayMonth = this.minDate.month;\n      else return;\n    }\n\n    if (\n      this.maxDate &&\n      displayYear == this.maxDate.year &&\n      displayMonth > this.maxDate.month\n    ) {\n      if (this.isyear) displayMonth = this.maxDate.month;\n      else return;\n    }\n\n    this.initialYear = initialYear;\n    this.displayYear = displayYear;\n    this.displayMonth = displayMonth;\n  }\n  changeYearMonth(month: number, year: number, focus: boolean) {\n    if (year < this.initialYear) this.initialYear -= 12;\n\n    if (year > this.initialYear + 11) this.initialYear += 12;\n\n    this.displayMonth = month;\n    this.displayYear = year;\n    if (focus) this.focus();\n  }\n\n  get yearId() {\n    return this.buttons?.find((_, index) => index == 1);\n  }\n\n  @ViewChildren('cell') cells: QueryList<ElementRef> | undefined;\n  @ViewChildren('btn') buttons: QueryList<ElementRef> | undefined;\n\n  @ViewChild('template', { static: true }) templateDef: TemplateRef<any> | undefined;\n\n  @Input() templateData: TemplateRef<any> | null = null;\n  @Input() months: string[] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((x) =>\n    this.i18n.getMonthShortName(x)\n  );\n\n  // Allow the input to be disabled, and when it is make it somewhat transparent.\n  @Input() disabled = false;\n  @Input() mask = 'mm-yyyy';\n  @Input() minDate: {year: number, month: number} | undefined;\n  @Input() maxDate: {year: number, month: number} | undefined;\n\n  @ViewChild('calendarPanel') calendar: NgbDropdown | undefined;\n\n  onChange: (data: Idata) => void = () => {};\n  onTouched = () => {};\n\n  setCellsSelectables() {\n    if (this.minDate || this.maxDate) {\n      if (this.isyear)\n        this.cellsSelectables = this.cellsSelectables.map((_, i) =>\n          this.selectable(i + this.initialYear, this.displayMonth)\n        );\n      else\n        this.cellsSelectables = this.cellsSelectables.map((_, i) =>\n          this.selectable(this.displayYear, i + 1)\n        );\n    }\n  }\n  private selectable(year: number, month: number): boolean {\n    let selectable: boolean = this.minDate\n      ? year > this.minDate.year ||\n      (year == this.minDate.year && month >= this.minDate.month)\n      : true;\n    if (selectable && this.maxDate)\n      selectable = this.isyear\n        ? year <= this.maxDate.year\n        : year < this.maxDate.year ||\n        (year == this.maxDate.year && month <= this.maxDate.month);\n\n    return selectable;\n  }\n  constructor(\n    private i18n: NgbDatepickerI18n,\n    private _keyboardService: NgbMonthDatepickerKeyboardService\n  ) {\n    this.separator = this.mask.replace(/m|y|M/gi, '');\n    this.monthFirst = this.mask.indexOf('y') > 0;\n    this.place = this.mask.indexOf(this.separator);\n  }\n\n  /*Functions that use also keyboard*/\n  addYear(incr: number) {\n    this.displayYear = this.isyear\n      ? this.displayYear + 12 * incr\n      : this.displayYear + incr;\n    this.initialYear = this.getIncr(this.displayYear);\n  }\n\n  showYear(show: boolean) {\n    this.isyear = show;\n    this.setCellsSelectables();\n    this.focus();\n  }\n\n  selectYearMonth(index: number) {\n    if (this.isyear) {\n      this.displayYear = index + this.initialYear;\n      this.displayYearOld = this.displayYear;\n      this.isyear = false;\n      this.setCellsSelectables();\n      this.focus();\n    } else {\n      this.displayMonth = index + 1;\n      this.data = { year: this.displayYear, month: this.displayMonth };\n      this.dataTxt = this.formatData(this.data);\n      this.onChange(this.data);\n      this.calendar?.close();\n    }\n  }\n\n  /*function open the \"calendar\"*/\n  open() {\n    if (this.data && this.data.month && this.data.year) {\n      this.displayMonth = this.data.month;\n      this.displayYear = this.data.year;\n      this.displayYearOld = this.displayYear;\n    }\n    this.isyear = false;\n    this.initialYear = this.getIncr(this.displayYear);\n    this.focus();\n  }\n\n  focus() {\n    setTimeout(() => {\n      const cell = this.isyear\n        ? this.cells?.find(\n          (x) => x.nativeElement.dataset.year == this.displayYear\n        )\n        : this.cells?.find(\n          (x) => x.nativeElement.dataset.month == this.displayMonth\n        );\n      if (cell) cell.nativeElement.focus();\n    });\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    this._keyboardService.processKey(event, this);\n  }\n  change(value: string) {\n    value =\n      this.separator == ' '\n        ? value.replace(/\\.|-|\\//, ' ')\n        : this.separator == '/'\n          ? value.replace(/\\.|-| /, '/')\n          : this.separator == '-'\n            ? value.replace(/\\.| |\\//, '-')\n            : value.replace(/.| |\\/ /, '-');\n\n    let lastchar = value.substr(value.length - 1);\n    if (lastchar == this.separator && value.length <= this.place) {\n      if (this.monthFirst) {\n        value = '0' + value;\n      }\n    }\n    if (value.length > this.place && value.indexOf(this.separator) < 0) {\n      value = value.substr(0, value.length - 1) + this.separator + lastchar;\n    }\n    this.dataTxt = value;\n    let items = value.split(this.separator);\n    if (items.length == 2) {\n      let year = this.monthFirst ? items[1] : items[0];\n      let month = this.monthFirst ? items[0] : items[1];\n      let imonth = this.months.indexOf(month);\n      if (imonth < 0) imonth = parseInt(month);\n      else imonth = imonth + 1;\n\n      let iyear = parseInt(year);\n      if (iyear < 100) iyear = iyear + 2000;\n      this.data = {\n        year: iyear,\n        month: imonth,\n      };\n    }\n    this.onChange(this.data!);\n  }\n\n  getIncr(year: number): number {\n    return year - (year % 12) - 1;\n  }\n\n  formatData(data: Idata): string {\n    if (!data)\n      return '';\n    let monthTxt = data.month < 10 ? '0' + data.month : '' + data.month;\n    return this.monthFirst\n      ? monthTxt + this.separator + data.year\n      : '' + data.year + this.separator + monthTxt;\n  }\n\n  writeValue(data: Idata): void {\n    this.data = data;\n    this.dataTxt = this.formatData(this.data);\n  }\n\n  // Allows Angular to register a function to call when the model (rating) changes.\n  // Save the function as a property to call later here.\n  registerOnChange(fn: (data: Idata) => void): void {\n    this.onChange = fn;\n  }\n\n  // Allows Angular to register a function to call when the input has been touched.\n  // Save the function as a property to call later here.\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  // Allows Angular to disable the input.\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  // @ts-ignore\n  validate({ value }: FormControl) {\n    if (!value)\n      return null\n    if (this.minDate)\n      if (\n        value.year < this.minDate.year ||\n        (value.year == this.minDate.year && value.month < this.minDate.month)\n      )\n        return { minDate: this.minDate };\n    if (this.maxDate)\n      if (\n        value.year > this.maxDate.year ||\n        (value.year == this.maxDate.year && value.month > this.minDate!.month)\n      )\n        return { maxDate: this.maxDate };\n  }\n}\n","<div\n  class=\"form-group\"\n  ngbDropdown\n  #calendarPanel=\"ngbDropdown\"\n  (openChange)=\"$event && open()\"\n>\n  <div class=\"input-group\">\n    <input\n      type=\"text\"\n      style=\"display:none\"\n      (keydown.arrowdown)=\"calendar!.open()\"\n      class=\"form-control\"\n      id=\"data\"\n      name=\"data\"\n      [(ngModel)]=\"dataTxt\"\n      [placeholder]=\"mask\"\n      #item\n      (input)=\"change(item.value)\"\n    />\n    <div class=\"input-group-append\">\n      <button\n        class=\"btn btn-outline-indigo dropdown-toggle-split\"\n        ngbDropdownToggle\n      >\n        Month\n      </button>\n    </div>\n  </div>\n  <div ngbDropdownMenu class=\"dropdown-menu\">\n    <div class=\"wrap-container\">\n      <div class=\"btn-first\" >\n        <button\n          [disabled]=\"minDate && (!isyear?displayYear<=minDate.year:initialYear<minDate.year)\"\n          #btn\n          class=\"btn btn-link\"\n          (click)=\"addYear(-1)\"\n        >\n          <span class=\"ngb-dp-navigation-arrow left\"></span>\n        </button>\n      </div>\n      <div class=\"item-center\">\n        <button\n          #btn\n          class=\"btn btn-link\"\n          (click)=\"showYear(!isyear)\"\n        >\n          {{ !isyear ? displayYear : initialYear + '-' + (initialYear + 11) }}\n        </button>\n      </div>\n      <div class=\"btn-last\" >\n        <button  class=\"btn btn-link\" [disabled]=\"maxDate && (!isyear ? displayYear>=(maxDate?.year || 2050) : initialYear+11> (minDate?.year || 2000))\" (click)=\"addYear(+1)\">\n          <span class=\"ngb-dp-navigation-arrow right\"></span>\n        </button>\n      </div>\n    </div>\n    <div class=\"wrap-container\" (keydown)=\"onKeyDown($event)\">\n      <div class=\"item\"\n           *ngFor=\"let month of months; let i = index\"\n\n           (click)=\"cellsSelectables[i] && selectYearMonth(i)\"\n      >\n        <div\n          *ngIf=\"isyear\"\n          #cell class=\"outline-none\"\n          [tabindex]=\"i + initialYear == displayYear ? 4 : -1\"\n          [attr.data-year]=\"i + initialYear\"\n          [class.selectable]=\"cellsSelectables[i]\"\n        >\n          <ng-container\n            *ngTemplateOutlet=\"\n              templateData ? templateData : templateDef!;\n              context: {\n                $implicit: i + initialYear,\n                selected: i + initialYear == displayYear\n              }\n            \"\n          >\n          </ng-container>\n        </div>\n        <div\n          *ngIf=\"!isyear\"\n          #cell class=\"outline-none\"\n          [tabindex]=\"i + 1 == displayMonth ? 0 : -1\"\n          [attr.data-month]=\"i + 1\"\n          [class.selectable]=\"cellsSelectables[i]\"\n        >\n          <ng-container\n            *ngTemplateOutlet=\"\n              templateData ? templateData : templateDef!;\n              context: { $implicit: month, selected: i + 1 == displayMonth }\n            \"\n          >\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<ng-template #template let-data let-selected=\"selected\">\n  <div class=\"cell-body\" [ngClass]=\"selected?'btn-indigo selected':null\">\n    <span>{{ data }}</span>\n  </div>\n</ng-template>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'week-month-picker',\n  templateUrl: './week-month-picker.component.html',\n  styleUrls: ['./week-month-picker.component.scss']\n})\nexport class WeekMonthPickerComponent implements OnInit {\n  currentTimeframe: 'week' | 'month' = 'week';\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  setTimeframe(timeframe: 'week' | 'month'): void {\n    if (this.currentTimeframe === timeframe) {\n      return;\n    }\n\n    console.log(\"Timeframe changed to:\", timeframe);\n\n    this.currentTimeframe = timeframe;\n    // this.rebuildVisuals();\n  }\n\n}\n","<div class=\" btn-group btn-group-toggle\">\n  <input #targetEl type=\"text\" class=\"form-control\" disabled=\"disabled\">\n  <div class=\"input-group-append\">\n    <app-week-picker [targetEl]=\"targetEl\"></app-week-picker>\n<!--    <button type=\"button\"-->\n<!--            class=\"btn btn-outline-indigo\"-->\n<!--            [class.active]=\"currentTimeframe === 'week'\"-->\n<!--            (click)=\"setTimeframe('week')\">-->\n<!--      Week-->\n<!--    </button>-->\n<!--    <button type=\"button\"-->\n<!--            class=\"btn btn-outline-indigo\"-->\n<!--            [class.active]=\"currentTimeframe === 'month'\"-->\n<!--            (click)=\"setTimeframe('month')\">-->\n<!--      Month-->\n<!--    </button>-->\n\n    <app-month-picker></app-month-picker>\n\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {NgbDateStruct} from \"@ng-bootstrap/ng-bootstrap\";\n\n@Component({\n  selector: 'app-week-picker',\n  templateUrl: './week-picker.component.html',\n  styleUrls: ['./week-picker.component.scss'],\n})\nexport class WeekPickerComponent implements OnInit {\n  //@ts-ignore\n  model: NgbDateStruct;\n  //@ts-ignore\n  @Input() targetEl: HTMLElement;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<input\n  style=\"display:none;\"\n  placeholder=\"yyyy-mm-dd\"\n  name=\"dp\"\n  [(ngModel)]=\"model\"\n  ngbDatepicker\n  #d=\"ngbDatepicker\"\n  [placement]=\"'bottom'\"\n  [positionTarget]=\"targetEl\"\n/>\n<button #buttonEl\n        class=\"btn btn-outline-indigo\"\n        (click)=\"d.toggle()\"\n        type=\"button\"\n>Week</button>\n","import { Directive } from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator} from \"@angular/forms\";\n\n@Directive({\n  selector: '[emailLowercaseValidator]',\n  providers: [\n    {\n      provide: NG_VALIDATORS,\n      useExisting: EmailLowercaseValidatorDirective,\n      multi: true,\n    },\n  ],\n  standalone: true,\n})\nexport class EmailLowercaseValidatorDirective implements Validator {\n  validate(control: AbstractControl): ValidationErrors | null {\n    return control.value && control.value.toLowerCase() != control.value\n      ? { email_lowercase: true }\n      : null;\n  }\n\n}\n","import { Directive } from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator} from '@angular/forms';\n\n@Directive({\n  selector: '[passwordConfirmValidator]',\n  providers: [\n    {\n      provide: NG_VALIDATORS,\n      useExisting: PasswordConfirmValidatorDirective,\n      multi: true,\n    },\n  ],\n  standalone: true,\n})\nexport class PasswordConfirmValidatorDirective implements Validator {\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    const password = control.get('password');\n    const passwordConfirm = control.get('password_confirm');\n\n    return password && passwordConfirm && password.value !== passwordConfirm.value\n      ? { password_confirm: true }\n      : null;\n  }\n}\n","\nexport class Organization {\n  id: string = \"\"\n  name: string = \"\"\n  logo_uri: string = \"\"\n  privacy_policy_uri: string = \"\"\n  website_uri: string = \"\"\n  terms_and_conditions_uri?: string = \"\"\n  company_size?: string = \"\"\n  plan?: 'paid' | 'free' | undefined\n}\n","export class User {\n  id?: string\n  name?: string\n  email?: string\n  password?: string\n  org_id?: string\n\n  //not sent to the server\n  password_confirm?: string = \"\"\n  agree_terms?: boolean = false\n}\n","\nexport class WebhookSimulation {\n    type: string = '';\n    payload: any = {};\n}\nexport class EHIExportSuccessPayload {\n    download_link: string = 'https://api.connect.fastenhealth.com/v1/bridge/fhir/ehi-export/abc/download/file.jsonl';\n    org_connection_id: string = '189484f4-1234-1234-1234-78a8caa3b64a';\n    task_id: string = 'fedec7b78cf6905872032b426473';\n    org_id: string = '592c0579-443f-a94e-4c8847c0c066';\n    stats: { total_resources: number } = { total_resources: 12 };\n}\n\nexport class EHIExportFailedPayload {\n    failure_reason: string = 'suppressed_please_contact';\n    org_connection_id: string = '189484f4-1234-1234-1234-78a8caa3b64a';\n    task_id: string = 'fedec7b78cf6905872032b426473';\n    org_id: string = '592c0579-443f-a94e-4c8847c0c066';\n}\n\n\nexport class ConnectionSuccessPayload {\n    org_connection_id: string = '';\n    endpoint_id: string = '';\n    brand_id: string = '';\n    portal_id: string = '';\n    connection_status: string = '';\n    platform_type: string = '';\n    request_id?: string = '';\n    external_id?: string = '';\n}\n\nexport class AuthorizationRevokedPayload {\n    org_connection_id: string = '';\n    endpoint_id?: string = '';\n    portal_id?: string = '';\n    brand_id?: string = '';\n    platform_type: string = '';\n    connection_status: string = '';\n}\n\nexport class WebhookTestPayload {\n    hello: string = 'world';\n    random: string = '12345';\n}\n\n\n\nexport const requiredFields: Record<string, string[]> = {\n    'webhook.test': [\n      'hello',\n      'random'\n    ],\n    'patient.ehi_export_success': [\n        'download_link',\n        'stats'\n    ],\n    'patient.ehi_export_failed': [\n        'failure_reason'\n    ],\n    'patient.connection_success': [\n        'org_connection_id',\n        'endpoint_id',\n        'brand_id',\n        'portal_id',\n        'connection_status',\n        'platform_type',\n    ],\n    'patient.authorization_revoked': [\n        'org_connection_id',\n        'platform_type',\n        'connection_status'\n    ]\n};\n","/**\n * AppConfig interface. Update this interface to strictly type your config\n * object.\n */\nimport {ApiMode} from '../app.constants';\nimport {Organization} from './fasten/organization';\nimport {User} from './fasten/user';\n\nexport interface PortalConfig {\n  apiMode?: ApiMode;\n  org?: Organization;\n  user?: User\n}\n\n/**\n * Default configuration for the entire application. This object is used by\n * \"PortalConfigService\" to set the default configuration.\n */\nexport const portalConfigDefaults: PortalConfig = {\n  apiMode: ApiMode.Test\n};\n","import { Component, OnInit } from '@angular/core';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {ConnectService} from \"../../services/connect.service\";\nimport {STRONG_PASSWORD_PATTERN} from \"../../app.constants\";\nimport {Router} from \"@angular/router\";\nimport {AuthService} from \"../../services/auth.service\";\n\n@Component({\n  selector: 'app-account-settings',\n  templateUrl: './account-settings.component.html',\n  styleUrls: ['./account-settings.component.scss']\n})\nexport class AccountSettingsComponent implements OnInit {\n  strong_password_pattern = STRONG_PASSWORD_PATTERN\n  passChangeLoading: boolean = false;\n  emailChangeLoading: boolean = false;\n  passChangeErrorMsg: string = \"\";\n  emailChangeErrorMsg: string = \"\";\n\n  passChangeUpdate = {\n    oldPass: \"\",\n    newPass: \"\",\n    newPassConfirm: \"\"\n  };\n\n  emailChangeUpdate = {\n    oldEmail: this.portalConfig.config$.user?.email || \"\",\n    newEmail: \"\",\n    password: \"\"\n  };\n\n  constructor(\n    public portalConfig: PortalConfigService,\n    private authService: AuthService,\n    private connectService: ConnectService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  passChangeSubmit():  void {\n    this.passChangeLoading = true\n    this.connectService.updateUser(this.passChangeUpdate.oldPass, this.portalConfig.config$.user?.email || \"\", \"\", this.passChangeUpdate.newPass).subscribe(\n      (user) => {\n        console.log(\"Password Updated\", user)\n        this.passChangeLoading = false\n        this.passChangeErrorMsg = \"\";\n        this.authService.Signout().then(() => {\n          return this.router.navigateByUrl('/auth/signin?action=password-changed');\n        }).catch((err) => {\n          console.error(\"Error signing out after password change\", err)\n        });\n      },\n      (err) => {\n        console.error(\"Error updating Password\", err)\n        this.passChangeErrorMsg = err.error.message\n        this.passChangeLoading = false;\n      }\n    );\n  }\n  emailChangeSubmit(): void {\n    this.emailChangeLoading = true;\n    this.connectService.updateUser(this.emailChangeUpdate.password, this.emailChangeUpdate.oldEmail, this.emailChangeUpdate.newEmail, \"\").subscribe(\n      (user) => {\n        console.log(\"Email Updated\", user)\n        this.emailChangeLoading = false\n        this.emailChangeErrorMsg = \"\";\n        this.authService.Signout().then(() => {\n          return this.router.navigateByUrl('/auth/signin?action=email-changed');\n        }).catch((err) => {\n          console.error(\"Error signing out after email change\", err)\n        });\n      },\n      (err) => {\n        console.error(\"Error updating Email\", err)\n        this.emailChangeErrorMsg = err.error.message\n        this.emailChangeLoading = false;\n      }\n    );\n\n  }\n}\n","<div class=\"mg-t-20 container \">\n\n\n  <div class=\"mg-b-20\">\n    <div>\n      <h2>{{portalConfig.config$?.user?.name}}</h2>\n      <p class=\"az-dashboard-text\">{{portalConfig.config$?.user?.email}}</p>\n    </div>\n  </div>\n\n\n  <div class=\"row\">\n    <div class=\"col-md-10 col-lg-8 col-xl-6\">\n      <div class=\"card mg-t-20\">\n        <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n          Update Password\n        </h5>\n        <form (ngSubmit)=\"passChangeSubmit()\" #passChangeForm=\"ngForm\" passwordConfirmValidator>\n          <div class=\"card-body\">\n            <p>Use this form to change the password you use to login to your account</p>\n\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Old Password</label>\n              <input type=\"password\" name=\"old_password\" #old_password=\"ngModel\" class=\"form-control\" required [(ngModel)]=\"passChangeUpdate.oldPass\">\n              <div *ngIf=\"old_password.invalid && (old_password.dirty || old_password.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"old_password.errors?.['required']\">\n                  Your current password is required.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">New Password</label>\n              <input class=\"form-control\" name=\"new_password\" #new_password=\"ngModel\" required minlength=\"8\" [pattern]=\"strong_password_pattern\" type=\"password\" [(ngModel)]=\"passChangeUpdate.newPass\">\n              <div *ngIf=\"new_password.invalid && (new_password.dirty || new_password.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"new_password.errors?.['required']\">\n                  A new password is required.\n                </div>\n                <div *ngIf=\"new_password.errors?.['minlength']\">\n                  The new password must be at least 8 characters long.\n                </div>\n\n                <ng-container *ngIf=\"new_password.errors?.['pattern']\">\n                  <div *ngIf=\"!passChangeUpdate.newPass?.match('^(?=.*[A-Z])')\">\n                    The new password must contain at least one uppercase letter.\n                  </div>\n                  <div *ngIf=\"!passChangeUpdate.newPass?.match('(?=.*[a-z])')\">\n                    The new password must contain at least one lowercase letter.\n                  </div>\n                  <div *ngIf=\"!passChangeUpdate.newPass?.match('(.*[0-9].*)')\">\n                    The new password must contain at least one digit.\n                  </div>\n                  <div *ngIf=\"!passChangeUpdate.newPass?.match('(?=.*[!@#$%^&*])')\">\n                    The new password must contain at least special character.\n                  </div>\n                </ng-container>\n              </div>\n            </div><!-- form-group -->\n\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Confirm new Password</label>\n              <input class=\"form-control\" name=\"new_password_confirm\" #new_password_confirm=\"ngModel\" required type=\"password\" [(ngModel)]=\"passChangeUpdate.newPassConfirm\">\n              <div *ngIf=\"new_password_confirm.invalid && (new_password_confirm.dirty || new_password_confirm.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"new_password_confirm.errors?.['password_confirm']\">\n                  The new passwords do not match.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <button [disabled]=\"!passChangeForm.form.valid || passChangeLoading\" class=\"btn btn-az-primary btn-block\">\n              Save New Password\n              <span *ngIf=\"passChangeLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            </button>\n\n            <div *ngIf=\"passChangeErrorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n              <strong>Error</strong> {{passChangeErrorMsg}}\n            </div>\n\n          </div>\n        </form>\n\n      </div>\n    </div><!-- col -->\n\n\n    <div class=\"col-md-10 col-lg-8 col-xl-6\">\n\n      <div class=\"card mg-t-20\">\n        <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n          Update Email Address\n        </h5>\n        <form (ngSubmit)=\"emailChangeSubmit()\" #emailChangeForm=\"ngForm\">\n          <div class=\"card-body\">\n            <p>Use this form to change the email address associated with your account.</p>\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Current Email Address</label>\n              <input type=\"text\" class=\"form-control\" required=\"required\" readonly value=\"{{emailChangeUpdate.oldEmail}}\">\n            </div><!-- form-group -->\n\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">New Email Address</label>\n              <input class=\"form-control\" required email minlength=\"4\" type=\"email\" name=\"email\" #email=\"ngModel\" autocapitalize=\"none\" [(ngModel)]=\"emailChangeUpdate.newEmail\">\n              <div *ngIf=\"email.invalid && (email.dirty || email.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"email.errors?.['required']\">\n                  Email is required.\n                </div>\n                <div *ngIf=\"email.errors?.['minlength']\">\n                  Email must be at least 4 characters long.\n                </div>\n                <div *ngIf=\"email.errors?.['email']\">\n                  Email must be a valid email address.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <div class=\"form-group\">\n              <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Verify Password</label>\n              <input type=\"password\" class=\"form-control\" required name=\"password\" #password=\"ngModel\" [(ngModel)]=\"emailChangeUpdate.password\">\n              <div *ngIf=\"password.invalid && (password.dirty || password.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"password.errors?.['required']\">\n                  Your current password is required.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <button [disabled]=\"!emailChangeForm.form.valid || emailChangeLoading\" class=\"btn btn-az-primary btn-block\">\n              Update Email Address\n              <span *ngIf=\"emailChangeLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div><!-- col -->\n  </div>\n\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\n\n@Component({\n  selector: 'app-auth-domain-claimed',\n  templateUrl: './auth-domain-claimed.component.html',\n  styleUrls: ['./auth-domain-claimed.component.scss']\n})\nexport class AuthDomainClaimedComponent implements OnInit {\n\n  @Input() orgName = \"\"\n  @Input() orgLogo = \"\"\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    const queryParams = this.route.snapshot.queryParamMap;\n    const queryOrgName = queryParams.get('orgName');\n    const queryOrgLogo = queryParams.get('orgLogo');\n\n    if (queryOrgName) {\n      this.orgName = queryOrgName;\n    }\n\n    if (queryOrgLogo) {\n      this.orgLogo = queryOrgLogo;\n    }\n  }\n\n}\n","<div class=\"az-signin-wrapper\">\n  <div class=\"az-card-signin az-card-domain-restricted\">\n    <div class=\"domain-restricted-grid\">\n      <div class=\"domain-restricted-copy\">\n        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo mb-3\">\n        <h3 class=\"text-indigo\">A team for '{{orgName}}' <br/> already exists.</h3>\n\n        <p class=\"mt-3\">\n          We detected that your company's email domain is already connected to an existing Fasten team.\n          For security, users cannot create multiple teams, and must be invited by an Administrator.\n        </p>\n        <p>\n          Please reach out to your Administrator and wait for their invitation before trying to sign in again.\n          If you feel this is unexpected, contact\n          <a href=\"mailto:support@fastenhealth.com\">support@fastenhealth.com</a> for assistance.\n        </p>\n\n        <button routerLink=\"/auth/signin\" type=\"button\" class=\"btn btn-az-primary btn-block mt-4\">\n          Return to Sign In\n        </button>\n      </div>\n\n      <div class=\"domain-restricted-illustration\">\n        <ng-container *ngIf=\"orgLogo; else fallbackIllustration\">\n          <div class=\"org-logo-wrapper\">\n            <img [src]=\"orgLogo\"\n                 class=\"org-logo\"\n                 [attr.alt]=\"orgName ? orgName + ' logo' : 'Organization logo'\">\n          </div>\n        </ng-container>\n        <ng-template #fallbackIllustration>\n          <img src=\"assets/images/profile-image.svg\" alt=\"Fasten team illustration\">\n        </ng-template>\n      </div>\n    </div>\n\n    <div class=\"domain-restricted-footer\">\n      <span>Waiting for your invite?</span>\n      <a href=\"mailto:support@fastenhealth.com\">Contact support</a>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\n\n@Component({\n  selector: 'app-auth-reset-request',\n  templateUrl: './auth-reset-request.component.html',\n  styleUrls: ['./auth-reset-request.component.scss']\n})\nexport class AuthResetRequestComponent implements OnInit {\n  email: string = ''\n  loading: boolean = false\n  errorMsg: string = \"\"\n  successMsg: string = \"\"\n\n  constructor(private authService: AuthService) { }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit() {\n    this.loading = true\n\n    this.authService.UserResetRequest(this.email).then(\n      (resp) => {\n        console.log(\"User Password Reset Request Created\", resp)\n        this.errorMsg = \"\"\n        this.successMsg = \"Password reset request sent. Check your email for further instructions.\"\n        this.loading = false;\n      },\n      (err) => {\n        console.error(\"Error submitting password reset request\", err)\n        this.errorMsg = \"An error occurred while submitting password reset request.\\nPlease try again later or contact support for assistance.\"\n        this.successMsg = \"\"\n        this.loading = false\n      }\n    )\n  }\n}\n","<div class=\"az-signin-wrapper\">\n  <div class=\"az-card-signin\">\n    <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n\n    <div class=\"az-signin-header\">\n      <h2>Reset Password</h2>\n      <h4>Please enter your email to receive a password reset link</h4>\n\n      <form (ngSubmit)=\"onSubmit()\" #resetForm=\"ngForm\">\n        <div class=\"form-group\">\n          <label>Email</label>\n          <input type=\"email\" class=\"form-control\" id=\"email\" required [(ngModel)]=\"email\" #emailCtrl=\"ngModel\" name=\"email\" placeholder=\"Enter your email\" emailLowercaseValidator>\n\n          <div *ngIf=\"emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)\" class=\"alert alert-danger\">\n            <div *ngIf=\"emailCtrl.errors?.['required']\">\n              Email is required.\n            </div>\n            <div *ngIf=\"emailCtrl.errors?.['email']\">\n              Email must be a valid email address.\n            </div>\n            <div *ngIf=\"emailCtrl.errors?.['email_lowercase']\">\n              Email must be lowercase\n            </div>\n          </div>\n        </div><!-- form-group -->\n\n        <button [disabled]=\"!resetForm.form.valid || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\">Reset Password</button>\n        <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n          <strong>Error</strong> {{errorMsg}}\n        </div>\n\n        <div *ngIf=\"successMsg\" class=\"alert alert-success mt-3\" role=\"alert\">\n          <strong>Submitted</strong> {{successMsg}}\n        </div>\n      </form>\n    </div><!-- az-signin-header -->\n\n    <div class=\"az-signin-footer\">\n      <p>Remembered your password? <a routerLink=\"/auth/signin\">Sign In</a></p>\n    </div><!-- az-signin-footer -->\n  </div><!-- az-card-signin -->\n</div><!-- az-signin-wrapper -->\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-auth-reset',\n  templateUrl: './auth-reset.component.html',\n  styleUrls: ['./auth-reset.component.scss']\n})\nexport class AuthResetComponent implements OnInit {\n  password: string = \"\"\n  confirmPassword: string = \"\"\n  loading: boolean = false\n  resetToken: string | null = \"\"\n  errorMsg: string = \"\"\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit(): void {\n    const urlParams = new URLSearchParams(window.location.search);\n    this.resetToken = urlParams.get('token');\n  }\n\n  onSubmit() {\n    if(this.password != this.confirmPassword){\n      this.errorMsg = \"passwords do not match\"\n      return\n    }\n\n    if(!this.resetToken){\n      this.errorMsg = \"no reset token provided\"\n      return\n    }\n\n    this.loading = true\n\n    this.authService.UserReset(this.password, this.resetToken)\n      .then(() => {\n        this.loading = false\n        this.router.navigateByUrl('/dashboard')\n      })\n      .catch((err)=>{\n        this.loading = false\n        this.errorMsg = \"an error occurred during password reset\"\n        console.log(err)\n      })\n  }\n\n}\n","<div class=\"az-signin-wrapper\">\n  <div class=\"az-card-signin\">\n    <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n\n    <div class=\"az-signin-header\">\n      <h2>Reset Password</h2>\n      <h4>Please enter your new password</h4>\n\n      <form (ngSubmit)=\"onSubmit()\" #resetForm=\"ngForm\">\n        <div class=\"form-group\">\n          <label>Password</label>\n          <input #passwordCtrl=\"ngModel\" required minlength=\"8\" type=\"password\" class=\"form-control\" id=\"password\" [(ngModel)]=\"password\" name=\"password\" placeholder=\"Enter your new password\">\n          <div   *ngIf=\"passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)\" class=\"alert alert-danger\">\n            <div *ngIf=\"passwordCtrl.errors?.['required']\">\n              Password is required.\n            </div>\n            <div *ngIf=\"passwordCtrl.errors?.['minlength']\">\n              Password must be at least 8 characters long.\n            </div>\n          </div>\n        </div>\n        <div class=\"form-group\">\n\n          <label>Confirm Password</label>\n          <input #passwordConfirmCtrl=\"ngModel\" type=\"password\" class=\"form-control\" id=\"confirmPassword\" required [(ngModel)]=\"confirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm your new password\">\n\n          <div *ngIf=\"passwordConfirmCtrl.invalid && (passwordConfirmCtrl.dirty || passwordConfirmCtrl.touched)\" class=\"alert alert-danger\">\n            <div *ngIf=\"passwordConfirmCtrl.errors?.['required']\">\n              Confirm password is required.\n            </div>\n          </div>\n        </div><!-- form-group -->\n\n        <button [disabled]=\"!resetForm.form.valid || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\">Reset Password</button>\n        <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n          <strong>Error</strong> {{errorMsg}}\n        </div>\n      </form>\n    </div><!-- az-signin-header -->\n    <div class=\"az-signin-footer\"></div>\n  </div><!-- az-card-signin -->\n</div><!-- az-signin-wrapper -->\n","import {Component, OnInit} from '@angular/core';\nimport {User} from '../../models/fasten/user';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../../services/auth.service';\nimport {AuthResponse} from \"../../models/fasten/auth-response\";\n\n@Component({\n  selector: 'app-auth-signin',\n  templateUrl: './auth-signin.component.html',\n  styleUrls: ['./auth-signin.component.scss']\n})\nexport class AuthSigninComponent implements OnInit {\n  loading: boolean = false\n  showMessage: boolean = false\n\n  submitted: boolean = false\n  existingUser: User = new User()\n  errorMsg: string = \"\"\n  message: string = \"\"\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n    const urlParams = new URLSearchParams(window.location.search);\n    this.setMessage(urlParams.get('action') || \"\")\n\n  }\n\n  signinSubmit(){\n    this.submitted = true;\n    this.loading = true\n\n    this.authService.Signin(this.existingUser.email!, this.existingUser.password!)\n      .then((authResponse: AuthResponse) => {\n        this.loading = false\n        console.log(authResponse);\n        if (authResponse?.organization_claimed) {\n          //if the organization is already claimed, redirect to dashboard\n          return this.router.navigate(['/auth/claimed'], { queryParams: { orgName: authResponse.organization_claimed.name, orgLogo: authResponse.organization_claimed.logo_uri }})\n        } else {\n          this.router.navigateByUrl('/developers')\n          return\n        }\n      })\n      .catch((err)=>{\n        this.loading = false\n        if(err?.name){\n          this.errorMsg = \"email or password is incorrect\"\n        } else{\n          this.errorMsg = \"an unknown error occurred during sign-in\"\n        }\n        // const toastNotification = new ToastNotification()\n        // toastNotification.type = ToastType.Error\n        // toastNotification.message = this.errorMsg\n        // this.toastService.show(toastNotification)\n      })\n  }\n\n  setMessage(action: string) {\n    if (action === \"email-changed\"){\n      this.showMessage = true;\n      this.message = \"Email successfully changed! Please sign in with your new email.\";\n    } else if (action === \"password-changed\"){\n      this.showMessage = true;\n      this.message = \"Password successfully changed! Please sign in with your new password.\";\n    }\n  }\n}\n","<div *ngIf=\"showMessage\" class=\"az-signin-message\">\n  {{message}}\n</div>\n\n<div class=\"az-signin-wrapper\">\n  <div class=\"az-card-signin\" [ngStyle]=\"{'height' : '560px' }\">\n    <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n\n    <div class=\"az-signin-header\">\n      <h2>Welcome back!</h2>\n      <h4 *ngIf=\"!loading\">Please sign in to continue</h4>\n\n      <form (ngSubmit)=\"signinSubmit()\" #userForm=\"ngForm\">\n        <div class=\"form-group\">\n          <label>Email</label>\n          <input [(ngModel)]=\"existingUser.email\" name=\"email\" #email=\"ngModel\" required email minlength=\"4\" type=\"text\" class=\"form-control\" placeholder=\"Enter your username\" emailLowercaseValidator>\n\n          <div *ngIf=\"email.invalid && (email.dirty || email.touched)\" class=\"alert alert-danger\">\n            <div *ngIf=\"email.errors?.['required']\">\n              Email is required.\n            </div>\n            <div *ngIf=\"email.errors?.['minlength']\">\n              Email must be at least 4 characters long.\n            </div>\n            <div *ngIf=\"email.errors?.['email']\">\n              Email must be a valid email address.\n            </div>\n            <div *ngIf=\"email.errors?.['email_lowercase']\">\n              Email must be lowercase\n            </div>\n          </div>\n        </div><!-- form-group -->\n        <div class=\"form-group\">\n          <label>Password</label>\n          <input [(ngModel)]=\"existingUser.password\" name=\"password\" #password=\"ngModel\" required minlength=\"8\" type=\"password\" class=\"form-control\" placeholder=\"Enter your password\">\n\n          <div *ngIf=\"password.invalid && (password.dirty || password.touched)\" class=\"alert alert-danger\">\n            <div *ngIf=\"password.errors?.['required']\">\n              Password is required.\n            </div>\n            <div *ngIf=\"password.errors?.['minlength']\">\n              Password must be at least 8 characters long.\n            </div>\n          </div>\n        </div><!-- form-group -->\n        <button [disabled]=\"!userForm.form.valid || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\">\n          Sign In\n          <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n        </button>\n\n        <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n          <strong>Error</strong> {{errorMsg}}\n        </div>\n      </form>\n\n    </div><!-- az-signin-header -->\n    <div class=\"az-signin-footer\">\n      <p><a routerLink=\"/auth/reset/request\">Forgot password?</a></p>\n      <p>Don't have an account? <a routerLink=\"/auth/signup\">Create an Account</a></p>\n    </div><!-- az-signin-footer -->\n  </div><!-- az-card-signin -->\n</div><!-- az-signin-wrapper -->\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\nimport {Organization} from '../../models/fasten/organization';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {ImageCroppedEvent, LoadedImage} from 'ngx-image-cropper';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {LogoCropperComponent} from '../../components/logo-cropper/logo-cropper.component';\nimport {ConnectService} from '../../services/connect.service';\nimport {OrgTeamInviteMultipleComponent} from '../../components/org-team-invite-multiple/org-team-invite-multiple.component';\nimport {URL_PATTERN, ORG_ONBOARDING_GRID_IMAGES} from '../../app.constants';\n\n@Component({\n  selector: 'app-auth-signup-organization',\n  templateUrl: './auth-signup-organization.component.html',\n  styleUrls: ['./auth-signup-organization.component.scss']\n})\nexport class AuthSignupOrganizationComponent implements OnInit {\n\n  gridImages: string[] = ORG_ONBOARDING_GRID_IMAGES;\n\n  loading: boolean = false\n\n  urlPattern = URL_PATTERN\n\n  submitted: boolean = false\n  newOrg: Organization = new Organization()\n  errorMsg: string = \"\"\n\n  croppedImage: any = '';\n  croppedImageEvent: ImageCroppedEvent | null = null;\n\n  constructor(\n    private connectService: ConnectService,\n    private authService: AuthService,\n    private router: Router,\n    private modalService: NgbModal,\n    private sanitizer: DomSanitizer\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  signupOrgSubmit(){\n    this.loading = true\n    this.submitted = true;\n\n    this.newOrg.logo_uri = \"https://example.com\" //TODO: placeholder logo url.\n    console.log(\"starting signup process...\",this.newOrg)\n    this.connectService.createOrg(this.newOrg, this.croppedImageEvent?.blob!).subscribe(\n      (resp) => {\n        console.log(\"Organization Created\", resp)\n        this.loading = false\n\n        //get the current orgId from the cookie and open the invite modal\n        return this.authService.GetJWTPayload()\n          .then((jwtPayload) => {\n            if (!jwtPayload) {\n              console.error(\"No JWT Payload found after org creation\")\n              this.router.navigate(['/auth/signin'])\n              return\n            }\n            if (!jwtPayload.org_id) {\n              console.error(\"No org_id found in JWT Payload after org creation\")\n              this.router.navigate(['/auth/signup/org'])\n              return\n            }\n            let orgId = jwtPayload.org_id\n            console.log(\"Current Org ID:\", orgId)\n            return orgId\n          })\n          .then((orgId) => {\n            const modalRef = this.modalService.open(OrgTeamInviteMultipleComponent)\n            modalRef.componentInstance.orgId = orgId\n            modalRef.result.then(\n              () => this.router.navigate(['/developers']),\n              () => this.router.navigate(['/developers'])\n            )\n          })\n      },\n      (err) => {\n        console.error(\"Error creating Organization\", err)\n        this.errorMsg = err.error.message\n        this.loading = false\n      }\n    )\n\n  }\n  openLogoCropper(){\n    this.modalService.open(LogoCropperComponent).result.then(\n      (result) => {\n        this.croppedImageEvent = result\n        this.croppedImage = this.sanitizer.bypassSecurityTrustUrl(this.croppedImageEvent?.objectUrl!);\n      },\n      (reason) => {\n        console.log(`Dismissed`, reason);\n      },\n    );\n  }\n\n}\n","<div style=\"overflow:hidden;height: 95vh;\" class=\"row\">\n  <div *ngFor=\"let img of gridImages\" class=\"col-1 nopadding\">\n\n    <div class=\"d-flex h-100\">\n      <div class=\"mx-auto my-auto\">\n        <img src=\"https://cdn.fastenhealth.com/logos/sources/{{img}}\" class=\"rounded img-fluid opacity-20\">\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"floating-signup outer-div\">\n  <div class=\"inner-div\">\n    <div class=\"az-signin-wrapper\">\n      <div class=\"az-card-signin\">\n        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo mg-b-20\">\n\n        <div class=\"az-signin-header\">\n          <h2>Let's Get Started!</h2>\n          <p>Tell us about your Organization</p>\n\n\n\n          <img class=\"cursor-pointer mx-auto d-block rounded-circle border\" height=\"150px\" (click)=\"openLogoCropper()\" [src]=\"croppedImage || 'assets/images/missing_logo.jpg'\" />\n\n\n          <form (ngSubmit)=\"signupOrgSubmit()\" #orgForm=\"ngForm\">\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newOrg.name\" name=\"name\" #name=\"ngModel\" required minlength=\"2\" type=\"text\" class=\"form-control\" placeholder=\"Organization Name\">\n\n              <div *ngIf=\"name.invalid && (name.dirty || name.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"name.errors?.['required']\">\n                  Organization Name is required.\n                </div>\n                <div *ngIf=\"name.errors?.['minlength']\">\n                  Organization Name must be at least 2 characters long.\n                </div>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newOrg.website_uri\" name=\"website_uri\" #website_uri=\"ngModel\" required [pattern]=\"urlPattern\" class=\"form-control\" autocapitalize=\"none\" placeholder=\"Website\">\n              <div *ngIf=\"website_uri.invalid && (website_uri.dirty || website_uri.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"website_uri.errors?.['required']\">\n                  Website is required.\n                </div>\n                <div *ngIf=\"website_uri.errors?.['pattern']\">\n                  Website must be a valid url starting with https://\n                </div>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newOrg.privacy_policy_uri\" name=\"privacy_policy_uri\" #privacy_policy_uri=\"ngModel\" required [pattern]=\"urlPattern\" class=\"form-control\" placeholder=\"Privacy Policy Url\">\n              <div *ngIf=\"privacy_policy_uri.invalid && (privacy_policy_uri.dirty || privacy_policy_uri.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"privacy_policy_uri.errors?.['required']\">\n                  Privacy Policy Url is required.\n                </div>\n                <div *ngIf=\"privacy_policy_uri.errors?.['pattern']\">\n                  Privacy Policy must be a valid url starting with https://\n                </div>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newOrg.terms_and_conditions_uri\" name=\"terms_and_conditions_uri\" #terms_and_conditions_uri=\"ngModel\" [pattern]=\"urlPattern\" class=\"form-control\" placeholder=\"Terms & Conditions Url\">\n              <div *ngIf=\"terms_and_conditions_uri.invalid && (terms_and_conditions_uri.dirty || terms_and_conditions_uri.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"terms_and_conditions_uri.errors?.['pattern']\">\n                  Terms & Conditions must be a valid url starting with https://\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <div class=\"form-group\">\n              <select [(ngModel)]=\"newOrg.company_size\" name=\"company_size\" #company_size=\"ngModel\" required class=\"form-control\">\n                <option value=\"\" disabled selected>Company Size</option>\n                <option value=\"1_10\">1-10</option>\n                <option value=\"10_100\">11-100</option>\n                <option value=\"100_500\">101-500</option>\n                <option value=\"500_2000\">501-2000</option>\n                <option value=\"2000_5000\">2001-5000</option>\n                <option value=\"5000_plus\">5000+</option>\n              </select>\n              <div *ngIf=\"company_size.invalid && (company_size.dirty || company_size.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"company_size.errors?.['required']\">\n                  Company Size is required.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <button [disabled]=\"!orgForm.form.valid || !croppedImageEvent || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\"\n                    ngbTooltip=\"Logo is required\" [disableTooltip]=\"!!croppedImageEvent\" placement=\"top\">\n              Save Organization\n              <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            </button>\n\n            <p class=\"text-muted text-center mt-3\">\n              You can invite more administrators to manage the organization after creating it.\n            </p>\n\n            <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n              <strong>Error</strong> {{errorMsg}}\n            </div>\n          </form>\n\n        </div><!-- az-signin-header -->\n      </div><!-- az-card-signin -->\n    </div><!-- az-signin-wrapper -->\n\n  </div>\n</div>\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport {User} from '../../models/fasten/user';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\nimport {STRONG_PASSWORD_PATTERN} from '../../app.constants';\nimport {parseHttpErrorResponse} from \"../../../utils/error-parser\";\nimport {AuthResponse} from \"../../models/fasten/auth-response\";\n\n@Component({\n  selector: 'app-auth-signup',\n  templateUrl: './auth-signup.component.html',\n  styleUrls: ['./auth-signup.component.scss']\n})\nexport class AuthSignupComponent implements OnInit {\n\n  strong_password_pattern = STRONG_PASSWORD_PATTERN\n\n  gridImages: string[] = [\n    \"f8f9ce28-d79b-4b54-9f7d-3f0aaba88c2c.png\",\n    \"89bb6993-b806-49a2-84e2-6e70705c504a.png\",\n    \"9fcc4529-7dc9-4c66-9198-574f978c8bb7.png\",\n    \"68952002-f17e-4086-aae5-841241b194dd.png\",\n    \"767b97b9-4538-433f-ab7a-14ccb0053323.png\",\n    \"74078880-4084-430e-bc6c-223e5990cef8.png\",\n    \"10668246-1077-4c1d-a6ce-0557c9476e77.png\",\n    \"f7e4fc08-c6f6-426b-be98-d60aa36d3b8b.png\",\n    \"65308856-beaa-46a0-9775-20c6c9322add.png\",\n    \"6e901e85-8f45-4c60-8d1f-12621aad07f1.png\",\n    \"e675376d-03de-4e66-8196-eaccda536ad5.png\",\n    \"a36fd256-2751-464f-b6d7-418279595b1e.png\",\n    \"c623f37e-6399-4a13-909f-3d9886130673.png\",\n    \"467592a3-7f5f-4258-909e-a99ca971ce15.png\",\n    \"5ad8a5ab-6570-4f1e-8002-30a051ec52c2.png\",\n    \"ddbef50d-3940-4411-9dea-6bf759704c6e.png\",\n    \"fc2dcde0-0848-4b09-aeaf-bfef58120de9.png\",\n    \"347c0df7-5817-470e-8b28-2802f90461f6.png\",\n    \"ec5bc181-5466-4ebd-9e42-471593b8d104.png\",\n    \"d3b1eba5-ec53-4e6d-9600-9510afbc4dda.png\",\n    \"16483fad-5c24-4766-ad53-bd78551f0768.png\",\n    \"ae8026ed-e74b-4bf3-9f53-458c250420ba.png\",\n    \"907d39f4-6b30-46cd-b0c8-f525c636c933.png\",\n    \"6b076b97-18f7-452d-9f09-20dffb01729f.png\",\n    \"c7feccc5-ad10-4aeb-91b0-12b6b93feeba.png\",\n    \"c66a7c1e-21f2-44aa-9486-cdfb5ad699ba.png\",\n    \"82af2366-1d27-4665-ba99-e5a60a75205a.png\",\n    \"2289e832-64da-47d9-82ef-1f4e15ccf627.png\",\n    \"26768525-2b04-4715-9159-3679598289a3.png\",\n    \"80af4067-77e9-4c13-b617-4f370dc14d3f.png\",\n    \"ec6c5f06-d7f8-4eac-8e2f-6cda4536d8ab.png\",\n    \"93ee1d70-6eaa-487b-84d1-cc18bcda253f.png\",\n    \"6d5ba4db-4b63-4277-bb80-dc278dbe28bd.png\",\n    \"b22e4e71-1121-4fca-b158-efbb906918e9.png\",\n    \"49fd46d0-05ce-4c7d-923c-3891935f6947.png\",\n    \"19652f82-98b9-44e6-9964-e426192a723d.png\",\n    \"314a06fc-4efc-4e34-8048-565455e4f3e1.png\",\n    \"8123cfc7-53b6-45d6-ace3-b64d4bd3234b.png\",\n    \"35159b16-a1b5-45ba-9d4f-83f471d5f44b.png\",\n    \"d6c0016f-aaec-4764-ac28-7a6eda64b693.png\",\n    \"d09c7811-213b-4c19-9154-48e57174f239.png\",\n    \"2bcdcc4c-0f13-4edb-85f4-2c9f4f948df0.png\",\n    \"4a4720a0-0efc-4b63-a83d-a8cc5b1c15ad.png\",\n    \"98f680b2-15c4-4854-902b-ed6b69425164.png\",\n    \"32283b0a-3c36-4f92-b9c2-dd2edf3a3db1.png\",\n    \"d56e9e82-3f62-4ce8-8a55-27da90fbe183.png\",\n    \"4fc37973-195c-4e25-8751-331a3b88e685.png\",\n    \"fb0bb8fa-8336-4b26-bdc5-7f8a432c1d94.png\",\n    \"7ca2d9d1-d300-479d-ab85-f956b6ef60de.png\",\n    \"4fd8bb55-bb2d-4748-a134-bbab7a22e4db.png\",\n    \"63cde119-f9d8-468d-900a-1976211739f8.png\",\n    \"e8290a84-88a1-4eac-a5b4-b2c63146b2c9.png\",\n    \"13b592f9-5c8b-4f90-aa54-5ab57a29ea89.png\",\n    \"0398ce8e-9200-430c-a654-f2057bc9a2d4.png\",\n    \"92b1d310-99a1-4de2-99b6-975eaf5a3744.png\",\n    \"418d563f-bd82-473f-a738-cd9775db4e56.png\",\n    \"8fb52893-1e93-4fea-adba-838e9b42e4d2.png\",\n    \"acec8466-8b0a-4adc-9929-561b7136fccb.png\",\n    \"3d01addb-1103-49ca-9c74-3027112e4aa8.png\",\n    \"5f5973bf-d11c-4f99-9b86-b1303cea3503.png\",\n    \"1317665c-e5c4-48b8-b3a5-2a90aa0283d7.png\",\n    \"48f2153e-6f4a-4da5-99a5-775a888c218a.png\",\n    \"34451b52-0f65-4e1a-91aa-5f2b1420f4b7.png\",\n    \"d3a10e7c-63c1-4309-b801-e42ce6e575d5.png\",\n    \"4c74937f-c30d-49c8-993e-c5a133f92414.png\",\n    \"5c4c748f-acd5-4fc8-b6cd-a37f629709fb.png\",\n    \"0293e1f1-291e-48ad-a5d0-cc7fcb062603.png\",\n    \"407f63d2-8fc7-42dd-9a46-23c76693789b.png\",\n    \"6d5de058-cc60-4f07-89db-bcc6817bb115.png\",\n    \"a1c9be32-3539-4390-bf01-828d5fb9f57d.png\",\n    \"562c8d0a-e524-49d7-81c2-70b34b4b9a15.png\",\n    \"8023b832-eaca-414a-9a53-c2fe423087d2.png\",\n    \"e8e73128-7722-4514-9684-1c17d43d880e.png\",\n    \"24cb81a7-dd2b-4b07-808b-f6611fea0393.png\",\n    \"5266bc57-58db-4171-8d73-a2a40ff380d2.png\",\n    \"9752c0a1-49f5-4842-8554-bfa3a6a3c3b4.png\",\n    \"df4a6dd3-672f-4547-8ade-609df28dcda9.png\",\n    \"921bb517-fdc9-4ca2-b9fc-a9e17e6cb8fc.png\",\n    \"e3f229a1-8637-49b1-abaa-84d228aff34a.png\",\n    \"53f22687-4635-4bff-99e2-2eacdc402359.png\",\n    \"c7fe32b2-97c6-45f7-90f8-47213c9b85f1.png\",\n    \"a7a87c72-1d8a-42d6-b0a4-c72b7dd8933a.png\",\n    \"2630415e-1871-437a-84de-52ad7ce88f3e.png\",\n    \"b53ff282-4725-45f7-a436-89f77320f062.png\",\n  ]\n\n  loading: boolean = false\n\n  submitted: boolean = false\n  newUser: User = new User()\n  errorMsg: string = \"\"\n\n  inviteToken: string | null = \"\"\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n\n    const urlParams = new URLSearchParams(window.location.search);\n    this.inviteToken = urlParams.get('token');\n  }\n\n  signupSubmit(){\n    this.loading = true\n    this.submitted = true;\n\n    let signupFn = null\n    if (this.inviteToken){\n      signupFn = this.authService.SignupWithInvite(this.newUser, this.inviteToken)\n    } else {\n      signupFn = this.authService.Signup(this.newUser)\n    }\n\n\n    signupFn.then((authResponse: AuthResponse) => {\n        this.loading = false\n        console.log(authResponse);\n\n        if(this.inviteToken){\n          //if we are signing up with an invite, we should redirect to the dashboard\n          return this.router.navigateByUrl('/dashboard');\n        } else if (authResponse?.organization_claimed) {\n          //if the organization is already claimed, redirect to dashboard\n          return this.router.navigate(['/auth/claimed'], { queryParams: { orgName: authResponse.organization_claimed.name, orgLogo: authResponse.organization_claimed.logo_uri }})\n        } else {\n          //after creating a user, proceed to create an organization\n          return this.router.navigateByUrl('/auth/signup/org');\n        }\n      },\n      (err)=>{\n        this.loading = false\n        console.error(\"an error occured while signup\",err)\n        this.errorMsg = parseHttpErrorResponse(err).error || \"An unknown error occurred during sign-up\"\n      })\n  }\n\n}\n","<div style=\"overflow:hidden;height: 95vh;\" class=\"row\">\n  <div *ngFor=\"let img of gridImages\" class=\"col-1 nopadding\">\n\n    <div class=\"d-flex h-100\">\n      <div class=\"mx-auto my-auto\">\n        <img src=\"https://cdn.fastenhealth.com/logos/sources/{{img}}\" class=\"rounded img-fluid opacity-20\">\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"floating-signup outer-div\">\n  <div class=\"inner-div\">\n    <div class=\"az-signin-wrapper\">\n      <div class=\"az-card-signin\">\n        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n\n        <div class=\"az-signin-header\">\n          <h2>Let's Get Started!</h2>\n          <p>Create your Fasten Connect account</p>\n\n          <form (ngSubmit)=\"signupSubmit()\" #userForm=\"ngForm\" passwordConfirmValidator>\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newUser.name\" name=\"name\" #name=\"ngModel\" required minlength=\"2\" type=\"text\" class=\"form-control\" placeholder=\"First Name & Last Name\">\n\n              <div *ngIf=\"name.invalid && (name.dirty || name.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"name.errors?.['required']\">\n                  Name is required.\n                </div>\n                <div *ngIf=\"name.errors?.['minlength']\">\n                  Name must be at least 2 characters long.\n                </div>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newUser.email\" name=\"email\" #email=\"ngModel\" required email minlength=\"4\" type=\"email\" class=\"form-control\" autocapitalize=\"none\" placeholder=\"Email Address\" emailLowercaseValidator>\n              <div *ngIf=\"email.invalid && (email.dirty || email.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"email.errors?.['required']\">\n                  Email is required.\n                </div>\n                <div *ngIf=\"email.errors?.['minlength']\">\n                  Email must be at least 4 characters long.\n                </div>\n                <div *ngIf=\"email.errors?.['email']\">\n                  Email must be a valid email address.\n                </div>\n                <div *ngIf=\"email.errors?.['email_lowercase']\">\n                  Email must be lowercase\n                </div>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newUser.password\" name=\"password\" #password=\"ngModel\" required minlength=\"8\" [pattern]=\"strong_password_pattern\" type=\"password\" class=\"form-control\" placeholder=\"Password\">\n              <div *ngIf=\"password.invalid && (password.dirty || password.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"password.errors?.['required']\">\n                  Password is required.\n                </div>\n                <div *ngIf=\"password.errors?.['minlength']\">\n                  Password must be at least 8 characters long.\n                </div>\n\n                <ng-container *ngIf=\"password.errors?.['pattern']\">\n                  <div *ngIf=\"!newUser.password?.match('^(?=.*[A-Z])')\">\n                    Password must contain at least one uppercase letter.\n                  </div>\n                  <div *ngIf=\"!newUser.password?.match('(?=.*[a-z])')\">\n                    Password must contain at least one lowercase letter.\n                  </div>\n                  <div *ngIf=\"!newUser.password?.match('(.*[0-9].*)')\">\n                    Password must contain at least one digit.\n                  </div>\n                  <div *ngIf=\"!newUser.password?.match('(?=.*[!@#$%^&*])')\">\n                    Password must contain at least special character.\n                  </div>\n                </ng-container>\n              </div>\n            </div><!-- form-group -->\n            <div class=\"form-group\">\n              <input [(ngModel)]=\"newUser.password_confirm\" name=\"password_confirm\" #password_confirm=\"ngModel\" required type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\">\n              <div *ngIf=\"userForm.errors?.['password_confirm'] && (password_confirm.dirty || password_confirm.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"userForm.errors?.['password_confirm']\">\n                  Password confirmation does not match.\n                </div>\n              </div>\n            </div><!-- form-group -->\n\n            <div class=\"form-group form-check\">\n              <input [(ngModel)]=\"newUser.agree_terms\" name=\"agree_terms\" #agree_terms=\"ngModel\" type=\"checkbox\" class=\"form-check-input\" id=\"agreeTermsCheck\" required>\n              <label class=\"form-check-label\" for=\"agreeTermsCheck\">\n                I have read and agree to the Fasten Connect <br/> <a href=\"https://policy.fastenhealth.com/connect/privacy_policy.html\">Privacy Policy</a>\n              </label>\n\n              <div *ngIf=\"agree_terms.invalid && (agree_terms.dirty || agree_terms.touched)\" class=\"alert alert-danger\">\n                <div *ngIf=\"agree_terms.errors?.['required']\">\n                  You must agree to the Privacy Policy\n                </div>\n              </div>\n            </div>\n\n            <button [disabled]=\"!userForm.form.valid || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\">\n              Create Account\n              <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            </button>\n\n            <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n              <strong>Error</strong> {{errorMsg}}\n            </div>\n          </form>\n\n        </div><!-- az-signin-header -->\n      </div><!-- az-card-signin -->\n    </div><!-- az-signin-wrapper -->\n\n  </div>\n</div>\n\n\n\n","import {Component, OnInit} from '@angular/core';\nimport {ChartConfiguration} from 'chart.js';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n  }\n\n  bounceRateChartData = [{\n    label: 'This week',\n    data: [27.2, 29.9, 29.6, 25.7, 25.9, 29.3, 31.1, 27.9, 28.4, 25.4, 23.2, 18.2, 14, 12.7, 11, 13.7, 9.7, 12.6, 10.9, 12.7, 13.8, 12.9, 13.8, 10.2, 5.8, 7.6, 8.8, 5.6, 5.6, 6.3, 4.2, 3.6, 5.4, 6.5, 8.1, 10.9, 7.6, 9.7, 10.9, 9.5, 5.4, 4.9, .7, 2.3, 5.5, 10, 10.6, 8.3, 8.4, 8.5, 5.8 ],\n    borderWidth: 2,\n    fill: true\n  }];\n\n  bounceRateChartLabels = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51'];\n\n  bounceRateChartOptions = {\n\n    responsive:true,\n    maintainAspectRatio:false,\n    scales: {\n      y: {\n        display: false,\n        gridLines: {\n          drawBorder: false,\n          display: true,\n          drawTicks: false,\n        },\n        ticks: {\n          display: false,\n          beginAtZero: true,\n          min: 0,\n          max: 40,\n          stepSize: 10,\n        }\n      },\n      x: {\n        display: false,\n        position: 'bottom',\n        gridLines: {\n          drawBorder: false,\n          display: false,\n          drawTicks: false,\n        },\n        ticks: {\n          beginAtZero: true,\n          stepSize: 10,\n          fontColor: \"#a7afb7\",\n          padding: 10,\n        }\n      },\n    },\n    plugins: {\n      legend: {\n        display: false,\n      },\n    },\n\n    elements: {\n      point: {\n        radius: 0\n      },\n      line: {\n        tension: 0\n      }\n    },\n    tooltips: {\n      backgroundColor: 'rgba(2, 171, 254, 1)',\n    },\n    backgroundColor: 'rgba(0, 204, 212, .2)',\n    borderColor: 'rgb(0, 204, 212)',\n  }  as ChartConfiguration<'line'>['options']\n\n  //  Total users chart\n  usersBarChartData = [{\n    label: '# of Votes',\n    data: [27.2, 29.9, 29.6, 25.7, 25.9, 29.3, 31.1, 27.9, 28.4, 25.4, 23.2, 18.2, 14, 12.7, 11, 13.7, 9.7, 12.6, 10.9, 12.7, 13.8],\n    borderWidth: 1,\n    fill: false\n  }];\n\n  usersBarChartLabels = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18'];\n\n  usersBarChartOptions = {\n\n    responsive:true,\n    maintainAspectRatio:false,\n    scales: {\n      y: {\n        display: false,\n        ticks: {\n          display: false,\n        },\n        gridLines: {\n          drawBorder: false,\n          display: false\n        }\n      },\n      x: {\n        display: false,\n        barThickness: 5.5,\n        ticks: {\n          display: false,\n        },\n        gridLines: {\n          drawBorder: false,\n          display: false\n        }\n      }\n    },\n    plugins: {\n      legend: {\n        display: false\n      },\n    },\n    elements: {\n      point: {\n        radius: 0\n      }\n    },\n    backgroundColor: '#007bff',\n    borderColor: '#007bff'\n  } as ChartConfiguration<'bar'>['options']\n\n}\n","<div class=\"az-content az-content-dashboard\">\n  <div class=\"container\">\n    <div class=\"az-content-body\">\n      <div class=\"az-dashboard-one-title\">\n        <div>\n          <h2 class=\"az-dashboard-title\">Welcome back!</h2>\n        </div>\n        <div class=\"az-content-header-right\">\n          <div class=\"media\">\n            <div class=\"media-body\">\n              <label>Last Updated</label>\n              <h6>Mar 24, 2024</h6>\n            </div><!-- media-body -->\n          </div><!-- media -->\n          <div class=\"media\">\n            <div class=\"media-body\">\n              <label>Filters</label>\n              <h6>None</h6>\n            </div><!-- media-body -->\n          </div><!-- media -->\n\n        </div>\n      </div><!-- az-dashboard-one-title -->\n\n      <div class=\"alert alert-warning\" role=\"alert\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n          <span aria-hidden=\"true\"></span>\n        </button>\n        <strong>Under Construction!</strong> The Dashboard is still under development. We will notify you once you can start using it.\n      </div>\n\n      <div class=\"row row-sm mg-b-20 mg-lg-b-0\">\n        <div class=\"col-lg-5 col-xl-4\">\n          <div class=\"row row-sm\">\n            <div class=\"col-md-6 col-lg-12 mg-b-20 mg-md-b-0 mg-lg-b-20\">\n\n              <div class=\"row row-sm\">\n                <div class=\"col-sm-6\">\n                  <div class=\"blurred card card-dashboard-two\">\n                    <div class=\"card-header\">\n                      <h6>33.50% <i class=\"icon ion-md-trending-up tx-success\"></i> <small>18.02%</small></h6>\n                      <p>API Requests</p>\n                    </div><!-- card-header -->\n                    <div class=\"card-body\">\n                      <div class=\"bounce-rate-chart-wrapper\">\n                        <canvas baseChart [type]=\"'line'\" [datasets]=\"bounceRateChartData\" [labels]=\"bounceRateChartLabels\" [options]=\"bounceRateChartOptions\"></canvas>\n                      </div>\n                    </div><!-- card-body -->\n                  </div><!-- card -->\n                </div><!-- col -->\n                <div class=\"col-sm-6 mg-t-20 mg-sm-t-0\">\n                  <div class=\"blurred card card-dashboard-two\">\n                    <div class=\"card-header\">\n                      <h6>86 <i class=\"icon ion-md-trending-down tx-danger\"></i> <small>0.86%</small></h6>\n                      <p>Webhooks</p>\n                    </div><!-- card-header -->\n                    <div class=\"card-body\">\n                      <div class=\"users-bar-chart-wrapper\">\n                        <canvas baseChart [type]=\"'bar'\" [datasets]=\"usersBarChartData\" [labels]=\"usersBarChartLabels\" [options]=\"usersBarChartOptions\"></canvas>\n                      </div><!-- chart-wrapper -->\n                    </div><!-- card-body -->\n                  </div><!-- card -->\n                </div><!-- col -->\n              </div>\n\n            </div><!-- col -->\n            <div class=\"col-md-6 col-lg-12\">\n\n              <div class=\"blurred card card-dashboard-five\">\n                <div class=\"card-header\">\n                  <h6 class=\"card-title\">Connections</h6>\n                  <span class=\"card-text\">Total number of authorized patient connections for this billing period.</span>\n                </div><!-- card-header -->\n                <div class=\"card-body row row-sm\">\n                  <div class=\"col-6 d-sm-flex align-items-center\">\n                    <div class=\"card-chart bg-primary\">\n                      <span class=\"peity-bar\" data-peity=\"{&quot;fill&quot;: [&quot;#fff&quot;], &quot;width&quot;: 20, &quot;height&quot;: 20 }\" style=\"display: none;\">6,4,7,5,7</span><svg class=\"peity\" height=\"20\" width=\"20\"><rect data-value=\"6\" fill=\"#fff\" x=\"0.4\" y=\"2.8571428571428577\" width=\"3.2\" height=\"17.142857142857142\"></rect><rect data-value=\"4\" fill=\"#fff\" x=\"4.4\" y=\"8.571428571428573\" width=\"3.1999999999999993\" height=\"11.428571428571427\"></rect><rect data-value=\"7\" fill=\"#fff\" x=\"8.4\" y=\"0\" width=\"3.1999999999999993\" height=\"20\"></rect><rect data-value=\"5\" fill=\"#fff\" x=\"12.4\" y=\"5.7142857142857135\" width=\"3.1999999999999993\" height=\"14.285714285714286\"></rect><rect data-value=\"7\" fill=\"#fff\" x=\"16.4\" y=\"0\" width=\"3.200000000000003\" height=\"20\"></rect></svg>\n                    </div>\n                    <div>\n                      <label>Unique</label>\n                      <h4>33</h4>\n                    </div>\n                  </div><!-- col -->\n                  <div class=\"col-6 d-sm-flex align-items-center\">\n                    <div class=\"card-chart bg-purple\">\n                      <span class=\"peity-bar\" data-peity=\"{&quot;fill&quot;: [&quot;#fff&quot;], &quot;width&quot;: 21, &quot;height&quot;: 20 }\" style=\"display: none;\">7,4,5,7,2</span><svg class=\"peity\" height=\"20\" width=\"21\"><rect data-value=\"7\" fill=\"#fff\" x=\"0.42000000000000004\" y=\"0\" width=\"3.3600000000000003\" height=\"20\"></rect><rect data-value=\"4\" fill=\"#fff\" x=\"4.62\" y=\"8.571428571428573\" width=\"3.3599999999999994\" height=\"11.428571428571427\"></rect><rect data-value=\"5\" fill=\"#fff\" x=\"8.82\" y=\"5.7142857142857135\" width=\"3.3599999999999994\" height=\"14.285714285714286\"></rect><rect data-value=\"7\" fill=\"#fff\" x=\"13.020000000000001\" y=\"0\" width=\"3.3599999999999977\" height=\"20\"></rect><rect data-value=\"2\" fill=\"#fff\" x=\"17.22\" y=\"14.285714285714286\" width=\"3.360000000000003\" height=\"5.7142857142857135\"></rect></svg>\n                    </div>\n                    <div>\n                      <label>Refresh</label>\n                      <h4>9</h4>\n                    </div>\n                  </div><!-- col -->\n                </div><!-- card-body -->\n              </div><!-- card-dashboard-five -->\n            </div><!-- col -->\n          </div><!-- row -->\n        </div><!-- col-lg-3 -->\n        <div class=\"col-lg-7 col-xl-8 mg-t-20 mg-lg-t-0\">\n          <div class=\"blurred card card-table-one\">\n            <h6 class=\"card-title\">Authorized Connections</h6>\n            <p class=\"az-content-text mg-b-20\">Recently connected healthcare insitutions.</p>\n            <div class=\"table-responsive\">\n              <table class=\"table\">\n                <thead>\n                <tr>\n                  <th class=\"wd-5p\">&nbsp;</th>\n                  <th class=\"wd-45p\">Portal Name</th>\n                  <th>Synced Records</th>\n                  <th>Patient Auth ID</th>\n                  <th>Status</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/e16b9952-8885-4905-b2e3-b0f04746ed5c.png\"/></td>\n                  <td><strong>Epic</strong></td>\n                  <td><strong>134</strong> (1.51%)</td>\n                  <td>6f3f3770-ad00-...</td>\n                  <td>complete</td>\n                </tr>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/41b42645-350f-475e-b21b-e7a1276fca4f.png\"/></td>\n                  <td><strong>eClincalWorks</strong></td>\n                  <td><strong>290</strong> (3.30%)</td>\n                  <td>ae5e7f40-4e7c-...</td>\n                  <td>complete</td>\n                </tr>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/a0c9ecff-a470-47b9-aa32-debfa2441005.png\"/></td>\n                  <td><strong>Medicare</strong></td>\n                  <td><strong>250</strong> (3.00%)</td>\n                  <td>b3af4ab6-9275-...</td>\n                  <td>complete</td>\n                </tr>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/e16b9952-8885-4905-b2e3-b0f04746ed5c.png\"/></td>\n                  <td><strong>Epic</strong></td>\n                  <td><strong>216</strong> (2.79%)</td>\n                  <td>baccf6e8-f020-...</td>\n                  <td>complete</td>\n                </tr>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/e16b9952-8885-4905-b2e3-b0f04746ed5c.png\"/></td>\n                  <td><strong>Epic</strong></td>\n                  <td><strong>216</strong> (2.79%)</td>\n                  <td>61a193cc-33ed-...</td>\n                  <td>error</td>\n                </tr>\n                <tr>\n                  <td><img style=\"width:2em;\" src=\"https://cdn.fastenhealth.com/logos/sources/5863477c-a178-41fc-b9f4-c881f9e8dbca.png\"/></td>\n                  <td><strong>United Healthcare</strong></td>\n                  <td><strong>197</strong> (2.12%)</td>\n                  <td>6a79f333-9408-...</td>\n                  <td>complete</td>\n                </tr>\n                </tbody>\n              </table>\n            </div><!-- table-responsive -->\n          </div><!-- card -->\n        </div><!-- col-lg -->\n\n      </div>\n\n    </div><!-- az-content-body -->\n  </div>\n</div><!-- az-content -->\n\n","import { Component, OnInit } from '@angular/core';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {ConnectService} from '../../services/connect.service';\nimport {ApiMode, CRUDMode, URL_PATTERN} from '../../app.constants';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {OrganizationCredential} from '../../models/fasten/organization-credential';\nimport {PortalConfig} from '../../models/portal-config';\nimport {OrganizationWebhook} from '../../models/fasten/organization-webhook';\nimport {OrgCredentialsEditorComponent} from '../../components/org-credentials-editor/org-credentials-editor.component';\nimport {OrgWebhooksEditorComponent} from '../../components/org-webhooks-editor/org-webhooks-editor.component';\n\n@Component({\n  selector: 'app-developers',\n  templateUrl: './developers.component.html',\n  styleUrls: ['./developers.component.scss']\n})\nexport class DevelopersComponent implements OnInit {\n\n\n  orgCredentials: {[name: string]: OrganizationCredential[]} = {\n    [ApiMode.Live]: [],\n    [ApiMode.Test]: [],\n  }\n\n  newCredential: {org_credential: OrganizationCredential, private_key: string} | null = null\n\n  orgWebhooks: {[name: string]: OrganizationWebhook[]} = {\n    [ApiMode.Live]: [],\n    [ApiMode.Test]: [],\n  }\n\n\n  constructor(\n    private connectService: ConnectService,\n    private modalService: NgbModal,\n    public portalConfig: PortalConfigService,\n  ) { }\n\n  ngOnInit(): void {\n\n    this.connectService.getOrgCredentials(this.portalConfig.config$.user?.org_id!).subscribe((data) => {\n      for(let cred of data){\n        this.orgCredentials[cred.api_mode].push(cred)\n      }\n    })\n    this.connectService.getOrgWebhooks(this.portalConfig.config$.user?.org_id!).subscribe((data) => {\n      for(let hook of data){\n        this.orgWebhooks[hook.api_mode].push(hook)\n      }\n    })\n  }\n\n\n  public showOrgCredentialEditorModal(editorMode: 'create' | 'edit', orgCredential?: OrganizationCredential) {\n    let orgCredentialEditorModal = this.modalService.open(OrgCredentialsEditorComponent, { ariaLabelledBy: 'modal-basic-title' })\n    orgCredentialEditorModal.componentInstance.org = this.portalConfig.config$.org\n    orgCredentialEditorModal.componentInstance.apiMode = this.portalConfig.config$.apiMode!\n    orgCredentialEditorModal.componentInstance.editorMode = editorMode\n\n    if(editorMode === 'edit'){\n      orgCredentialEditorModal.componentInstance.orgCredential = orgCredential\n    }\n\n    orgCredentialEditorModal.result.then(\n      (result: {action: CRUDMode, org_credential: OrganizationCredential, private_key: string}) => {\n        console.log(`Closed with:`, result)\n\n        if(editorMode == 'create'){\n          this.orgCredentials[result.org_credential.api_mode].push(result.org_credential)\n          this.newCredential = result\n        } else {\n          //find the credential and update it or delete it\n          let apiMode = result.org_credential.api_mode\n          for(let i = 0; i < this.orgCredentials[apiMode].length; i++){\n            if(this.orgCredentials[apiMode][i].id == result.org_credential.id){\n              if(result.action == CRUDMode.Delete){\n                this.orgCredentials[apiMode].splice(i, 1)\n                break\n              } else {\n                //update the credential\n                this.orgCredentials[apiMode][i] = result.org_credential\n                break\n              }\n            }\n          }\n        }\n      },\n      (reason) => {\n        console.log(`Dismissed ${reason}`)\n      },\n    );\n  }\n\n  public copyPublicId(credential: OrganizationCredential) {\n    navigator.clipboard.writeText(credential.id);\n  }\n\n\n  public showOrgWebhookEditorModal(editorMode: 'create' | 'edit', orgWebhook?: OrganizationWebhook) {\n    let orgWebhookEditorModal = this.modalService.open(OrgWebhooksEditorComponent, { ariaLabelledBy: 'modal-basic-title' })\n    orgWebhookEditorModal.componentInstance.org = this.portalConfig.config$.org\n    orgWebhookEditorModal.componentInstance.apiMode = this.portalConfig.config$.apiMode!\n    orgWebhookEditorModal.componentInstance.editorMode = editorMode\n\n    if(editorMode === 'edit'){\n      orgWebhookEditorModal.componentInstance.orgWebhook = orgWebhook\n    }\n    orgWebhookEditorModal.result.then(\n      (result: {action: CRUDMode, org_webhook: OrganizationWebhook}) => {\n        console.log(`Closed with:`, result)\n\n        let apiMode = result.org_webhook.api_mode\n        if(editorMode == 'create'){\n          this.orgWebhooks[apiMode].push(result.org_webhook)\n        } else {\n          apiMode = orgWebhook?.api_mode!\n          //find the webhook and update it\n          for(let i = 0; i < this.orgWebhooks[apiMode].length; i++){\n            if(this.orgWebhooks[apiMode][i].id == result.org_webhook.id){\n              if(result.action == CRUDMode.Delete){\n                this.orgWebhooks[apiMode].splice(i, 1)\n                break\n              } else {\n                //update the webhook\n                this.orgWebhooks[apiMode][i] = result.org_webhook\n                break\n              }\n            }\n          }\n        }\n      },\n      (reason) => {\n        console.log(`Dismissed ${reason}`)\n      },\n    );\n  }\n\n}\n","<div class=\"mg-t-10 container\">\n  <div *ngIf=\"portalConfig.config$.org?.plan == 'free'\" class=\"alert alert-warning text-center mt-3\" role=\"alert\">\n    <strong>Notice:</strong> Free accounts may be deleted after 1 month if not upgraded to a paid account. Please upgrade to retain your account.\n  </div>\n\n  <nav class=\"mg-l-auto nav nav-pills flex-column flex-md-row\">\n    <a class=\"nav-link active\" data-bs-toggle=\"tab\" href=\"#\">API Clients</a>\n    <!--    <a class=\"nav-link\" data-bs-toggle=\"tab\" href=\"#\">Logs</a>-->\n  </nav>\n\n  <div class=\"card mg-t-20\">\n    <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n      API Credentials\n      <a\n        href=\"https://docs.connect.fastenhealth.com\"\n        target=\"_blank\"\n        class=\"btn card-link float-right\">Learn more about API authentication</a>\n    </h5>\n  </div>\n\n  <div class=\"card mg-t-20\">\n    <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n      Credentials\n      <button\n        (click)=\"showOrgCredentialEditorModal('create')\"\n        type=\"button\"\n        class=\"btn btn-outline-indigo float-right\"\n      >Create Credentials\n      </button>\n    </h5>\n\n    <div class=\"card-body\">\n      <p>\n        Create a key that unlocks full API access, enabling extensive\n        interaction with your account.\n      </p>\n\n      <div\n        *ngIf=\"!!newCredential\"\n        #credWarning\n        class=\"alert alert-success mg-t-10\"\n        role=\"alert\"\n      >\n        <button\n          (click)=\"credWarning.hidden = true\"\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"alert\"\n          aria-label=\"Close\"\n        >\n          <span aria-hidden=\"true\"></span>\n        </button>\n        <strong>Credential Created!</strong> Make sure to copy your Private Key\n        now. You wont be able to see it again!\n        <br />\n        <strong class=\"mg-r-10\">Public Id:</strong>\n        <code>{{ newCredential.org_credential.id }}</code\n        ><br />\n        <strong class=\"mg-r-10\">Private Key:</strong>\n        <code>{{ newCredential.private_key }}</code>\n      </div>\n\n      <table class=\"table mg-t-10\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Status</th>\n            <th scope=\"col\">Public Id</th>\n            <th scope=\"col\">Private Key</th>\n            <th scope=\"col\">Created</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let cred of orgCredentials[portalConfig.config$.apiMode!]\">\n            <th scope=\"row\">\n              <span\n                [ngClass]=\"{ 'badge-success': cred.status === 'active', 'badge-danger': cred.status === 'inactive' }\"\n                class=\"badge\">{{ cred.status }}</span>\n            </th>\n            <td>\n              {{ cred.id }}\n              <i (mousedown)=\"copyPublicId(cred)\"\n                ngbTooltip=\"Copy to Clipboard\"\n                class=\"mg-l-2 cursor-pointer fas fa-clipboard\"></i>\n              <i *ngIf=\"cred?.note\"\n                [ngbTooltip]=\"cred.note\"\n                class=\"mg-l-2 cursor-pointer fas fa-info-circle\"></i>\n            </td>\n            <td>\n              <code>{{ cred.private_key || \"REDACTED\" }}</code>\n            </td>\n            <td>{{ cred.created_at | amDateFormat : \"LL\" }}</td>\n            <td>\n              <i (click)=\"showOrgCredentialEditorModal('edit', cred)\"\n                placement=\"top\"\n                ngbTooltip=\"Edit / Delete\"\n                class=\"fas fa-ellipsis-v pl-2 pr-2 float-right cursor-pointer\"></i>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <div class=\"card mg-t-20\">\n    <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n      Webhooks\n      <button\n        (click)=\"showOrgWebhookEditorModal('create')\"\n        type=\"button\"\n        class=\"btn btn-outline-indigo float-right\">Create Webhook</button>\n    </h5>\n\n    <div class=\"card-body\">\n      <p>\n        Set up your webhook endpoint to receive events from Fasten Connect or\n        learn more about Webhooks.\n      </p>\n\n      <div *ngIf=\"((orgWebhooks[portalConfig.config$.apiMode!] | keyvalue) || []).length > 0 \" class=\"alert alert-warning text-center mt-3\" role=\"alert\">\n        <strong>Notice:</strong> Webhooks will be <a target=\"_blank\" href=\"https://docs.connect.fastenhealth.com/webhooks/delivery#%E2%9A%A0%EF%B8%8F-webhook-auto-disable-policy\">disabled automatically</a> if they fail consistently. Please ensure your endpoint is functional.\n      </div>\n\n      <table class=\"table mg-t-10\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Status</th>\n            <th scope=\"col\">Url</th>\n            <th scope=\"col\">Events</th>\n            <th scope=\"col\">Delivery Logs</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let webhook of orgWebhooks[portalConfig.config$.apiMode!]\">\n            <th scope=\"row\">\n              <span ngbTooltip=\"consecutive failures: {{webhook.failure_count}}\" [ngClass]=\"{ 'badge-success': webhook.status === 'active', 'badge-danger': webhook.status === 'inactive' }\" class=\"badge\">\n                {{ webhook.status }}\n              </span>\n            </th>\n            <td>{{ webhook.endpoint_uri }}</td>\n            <td>\n              <span [ngbTooltip]=\"webhook?.event_types?.join(', ')\">\n                {{ webhook?.event_types?.length }} event(s)\n              </span>\n            </td>\n            <td>\n              <a [routerLink]=\"'/developers/webhooks/' + webhook.id + '/logs'\">\n                <i ngbTooltip=\"View Logs\" class=\"mg-l-2 cursor-pointer fas fa-list\"></i>\n              </a>\n            </td>\n            <td>\n              <i (click)=\"showOrgWebhookEditorModal('edit', webhook)\" placement=\"top\" ngbTooltip=\"Edit / Delete\"\n                class=\"fas fa-ellipsis-v pl-2 pr-2 float-right cursor-pointer\"></i>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {ConnectService} from '../../services/connect.service';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {environment} from '../../../environments/environment';\n\n@Component({\n  selector: 'app-org-billing',\n  templateUrl: './org-billing.component.html',\n  styleUrls: ['./org-billing.component.scss']\n})\nexport class OrgBillingComponent implements OnInit {\n\n\n  stripe_customer_portal = environment.stripe_customer_portal;\n  loading = false\n  recentlyChanged = false\n\n  constructor(\n    public portalConfig: PortalConfigService,\n    public connectService: ConnectService,\n  ) { }\n\n  ngOnInit(): void {\n    //read query string parameters\n    const urlParams = new URLSearchParams(window.location.search);\n    const sessionId = urlParams.get('session_id');\n    if(sessionId){\n      this.recentlyChanged = true\n    }\n  }\n\n}\n","<div class=\"mg-t-10 container \">\n  <nav class=\"mg-l-auto nav nav-pills flex-column flex-md-row\">\n    <a class=\"nav-link\" data-bs-toggle=\"tab\" routerLink=\"/org/settings\">Details</a>\n    <a class=\"nav-link\" data-bs-toggle=\"tab\" routerLink=\"/org/team\">Team</a>\n    <a class=\"nav-link active\" data-bs-toggle=\"tab\"  routerLink=\"/org/billing\">Billing</a>\n  </nav>\n\n  <ng-template #activePlan>\n    <div  class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card mg-t-20\">\n          <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n            Invoices & Payment Methods\n            <a [href]=\"stripe_customer_portal\" class=\"btn btn-link float-right\">Visit the Billing Portal</a>\n          </h5>\n          <div class=\"card-body\">\n            <p>Your account is active. You can view invoices and payment methods in the billing portal.</p>\n          </div>\n        </div>\n      </div><!-- col -->\n    </div>\n  </ng-template>\n  <div *ngIf=\"portalConfig.config$.org?.plan != 'paid'; else activePlan\" class=\"row\">\n    <div class=\"col-12\">\n\n      <div class=\"card mg-t-20\">\n        <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n          Inactive Account\n        </h5>\n\n        <div class=\"card-body\">\n          <div class=\"row\">\n            <div class=\"col-12 tx-gray-700\">\n              <h5>No plan selected</h5>\n              <p>\n                Please contact <a href=\"mailto:support@fastenhealth.com\">support@fastenhealth.com</a> to activate your account. <br/>\n                Inactive accounts may be purged after 30 days.\n              </p>\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n      <div *ngIf=\"recentlyChanged\" class=\"alert alert-info mg-b-30\" role=\"alert\">\n        <strong>Plan Changed!</strong> Your plan changed recently. It may take up to 24 hours to reflect plan changes in your organization profile.\n      </div>\n\n    </div>\n  </div>\n\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {environment} from '../../../environments/environment';\nimport {ConnectService} from '../../services/connect.service';\nimport {URL_PATTERN} from '../../app.constants';\nimport {Organization} from '../../models/fasten/organization';\nimport {ImageCroppedEvent} from 'ngx-image-cropper';\nimport {LogoCropperComponent} from '../../components/logo-cropper/logo-cropper.component';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-org-settings',\n  templateUrl: './org-settings.component.html',\n  styleUrls: ['./org-settings.component.scss']\n})\nexport class OrgSettingsComponent implements OnInit {\n  loading: boolean = false\n\n  urlPattern = URL_PATTERN\n\n  submitted: boolean = false\n  updateOrg: Organization = new Organization()\n  errorMsg: string = \"\"\n\n  croppedImage: any = '';\n  croppedImageEvent: ImageCroppedEvent | null = null;\n\n  constructor(\n    public portalConfig: PortalConfigService,\n    public connectService: ConnectService,\n    private modalService: NgbModal,\n    private sanitizer: DomSanitizer\n  ) { }\n\n  ngOnInit(): void {\n\n    this.portalConfig.ConfigSubject.subscribe((config) => {\n      this.updateOrg = {...config.org!}\n    })\n\n  }\n\n  updateOrgSubmit(){\n    this.loading = true\n    this.submitted = true;\n\n    console.log(\"starting update process...\",this.updateOrg)\n    this.connectService.updateOrg(this.portalConfig.config$.org?.id!, this.updateOrg, this.croppedImageEvent?.blob).subscribe(\n      (org) => {\n        console.log(\"Organization Updated\", org)\n        this.loading = false\n\n        //update the org in the portal config\n        this.portalConfig.config = {org: org}\n\n      },\n      (err) => {\n        console.error(\"Error updating Organization\", err)\n        this.errorMsg = err.error.message\n        this.loading = false\n      }\n    )\n\n  }\n\n  openLogoCropper(){\n    this.modalService.open(LogoCropperComponent).result.then(\n      (result) => {\n        this.croppedImageEvent = result\n        this.croppedImage = this.sanitizer.bypassSecurityTrustUrl(this.croppedImageEvent?.objectUrl!);\n      },\n      (reason) => {\n        console.log(`Dismissed`, reason);\n      },\n    );\n  }\n}\n","<div class=\"mg-t-10 container \">\n  <nav class=\"mg-l-auto nav nav-pills flex-column flex-md-row\">\n    <a class=\"nav-link active\" data-bs-toggle=\"tab\" routerLink=\"/org/settings\">Details</a>\n    <a class=\"nav-link\" data-bs-toggle=\"tab\" routerLink=\"/org/team\">Team</a>\n    <a class=\"nav-link\" data-bs-toggle=\"tab\"  routerLink=\"/org/billing\">Billing</a>\n  </nav>\n\n\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <div class=\"card mg-t-20\">\n        <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n          Details\n        </h5>\n\n        <div class=\"card-body\">\n          <form (ngSubmit)=\"updateOrgSubmit()\" #orgForm=\"ngForm\">\n\n            <p>Use this form to update information about your Organization</p>\n\n\n            <div class=\"row\">\n\n\n\n              <div class=\"col-6\">\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Organization ID</label>\n                  <pre><code>{{updateOrg.id}}</code></pre>\n                </div><!-- form-group -->\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Organization Name</label>\n                  <input [(ngModel)]=\"updateOrg.name\" name=\"name\" #name=\"ngModel\" required minlength=\"2\" type=\"text\" class=\"form-control\">\n\n                  <div *ngIf=\"name.invalid && (name.dirty || name.touched)\" class=\"alert alert-danger\">\n                    <div *ngIf=\"name.errors?.['required']\">\n                      Organization Name is required.\n                    </div>\n                    <div *ngIf=\"name.errors?.['minlength']\">\n                      Organization Name must be at least 2 characters long.\n                    </div>\n                  </div>\n                </div><!-- form-group -->\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Organization Logo</label>\n                  <br/>\n                  <div class=\"\">\n                    <img class=\"cursor-pointer mx-auto d-block rounded-circle border\" height=\"150px\" (click)=\"openLogoCropper()\" [src]=\"croppedImage || updateOrg.logo_uri || 'assets/images/missing_logo.jpg'\" alt=\"\">\n                  </div><!-- az-img-user -->\n                </div><!-- form-group -->\n              </div>\n              <div class=\"col-6\">\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Organization Website</label>\n                  <input [(ngModel)]=\"updateOrg.website_uri\" name=\"website_uri\" #website_uri=\"ngModel\" required [pattern]=\"urlPattern\" class=\"form-control\" autocapitalize=\"none\">\n                  <div *ngIf=\"website_uri.invalid && (website_uri.dirty || website_uri.touched)\" class=\"alert alert-danger\">\n                    <div *ngIf=\"website_uri.errors?.['required']\">\n                      Website is required.\n                    </div>\n                    <div *ngIf=\"website_uri.errors?.['pattern']\">\n                      Website must be a valid url starting with https://\n                    </div>\n                  </div>\n                </div><!-- form-group -->\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Privacy Policy Url</label>\n                  <input [(ngModel)]=\"updateOrg.privacy_policy_uri\" name=\"privacy_policy_uri\" #privacy_policy_uri=\"ngModel\" required [pattern]=\"urlPattern\" class=\"form-control\">\n                  <div *ngIf=\"privacy_policy_uri.invalid && (privacy_policy_uri.dirty || privacy_policy_uri.touched)\" class=\"alert alert-danger\">\n                    <div *ngIf=\"privacy_policy_uri.errors?.['required']\">\n                      Privacy Policy Url is required.\n                    </div>\n                    <div *ngIf=\"privacy_policy_uri.errors?.['pattern']\">\n                      Privacy Policy must be a valid url starting with https://\n                    </div>\n                  </div>\n                </div><!-- form-group -->\n\n                <div class=\"form-group\">\n                  <label class=\"az-content-label tx-11 tx-medium tx-gray-600\">Terms & Conditions Url</label>\n                  <input [(ngModel)]=\"updateOrg.terms_and_conditions_uri\" name=\"terms_and_conditions_uri\" #terms_and_conditions_uri=\"ngModel\" [pattern]=\"urlPattern\" class=\"form-control\">\n                  <div *ngIf=\"terms_and_conditions_uri.invalid && (terms_and_conditions_uri.dirty || terms_and_conditions_uri.touched)\" class=\"alert alert-danger\">\n                    <div *ngIf=\"terms_and_conditions_uri.errors?.['pattern']\">\n                      Terms & Conditions must be a valid url starting with https://\n                    </div>\n                  </div>\n                </div><!-- form-group -->\n              </div>\n\n\n            </div>\n\n            <button [disabled]=\"!(orgForm.dirty && orgForm.form.valid) || loading\" type=\"submit\" class=\"btn btn-az-primary float-right\">\n              Save Changes\n              <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            </button>\n\n            <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-5\" role=\"alert\">\n              <strong>Error</strong> {{errorMsg}}\n            </div>\n\n          </form>\n        </div>\n\n      </div>\n    </div><!-- col -->\n\n\n  </div>\n\n</div>\n\n  <!--<div class=\"az-content az-content-profile\">-->\n<!--  <div class=\"container mn-ht-100p\">-->\n<!--    <div class=\"az-content-left az-content-left-profile\">-->\n\n<!--      <div class=\"az-profile-overview\">-->\n<!--        <div class=\"az-img-user\">-->\n<!--          <img src=\"{{portalConfig.config$.org?.logo_uri}}\" alt=\"\">-->\n<!--        </div>&lt;!&ndash; az-img-user &ndash;&gt;-->\n<!--        <div class=\"d-flex justify-content-between mg-b-20\">-->\n<!--          <div>-->\n<!--            <h5 class=\"az-profile-name\">{{portalConfig.config$.org?.name}}</h5>-->\n<!--            <p class=\"az-profile-name-text\">{{portalConfig.config$.org?.plan}}</p>-->\n<!--          </div>-->\n<!--        </div>-->\n\n<!--        <div class=\"\">-->\n<!--          <ul>-->\n<!--            <li>-->\n<!--              <a [href]=\"portalConfig.config$.org?.privacy_policy_uri\" target=\"_blank\" class=\"az-link\">Privacy Policy</a>-->\n<!--            </li>-->\n<!--            <li>-->\n<!--              <a [href]=\"portalConfig.config$.org?.terms_and_conditions_uri\" target=\"_blank\" class=\"az-link\">Terms of Use</a>-->\n<!--            </li>-->\n<!--          </ul>-->\n<!--        </div>-->\n\n<!--        <hr class=\"mg-y-30\">-->\n\n<!--      </div>&lt;!&ndash; az-profile-overview &ndash;&gt;-->\n\n<!--    </div>&lt;!&ndash; az-content-left &ndash;&gt;-->\n<!--    <div class=\"az-content-body az-content-body-profile\">-->\n<!--      <div class=\"az-profile-body\">-->\n\n<!--        <div class=\"row mg-b-20\">-->\n\n<!--          <div class=\"col-12\">-->\n<!--            <div class=\"card mg-t-20\">-->\n<!--              <h5 class=\"card-header d-flex justify-content-between align-items-center\">-->\n<!--                Invoices & Payment Methods-->\n<!--                <a [href]=\"stripe_customer_portal\" class=\"btn btn-link float-right\">Please visit the Billing Portal</a>-->\n<!--              </h5>-->\n<!--            </div>-->\n\n<!--          </div>-->\n<!--        </div>-->\n\n<!--        <div class=\"row mg-b-20\">-->\n\n<!--          <div class=\"col-12\">-->\n<!--            <div class=\"mg-t-10\">-->\n<!--              <div *ngIf=\"recentlyChanged\" class=\"alert alert-info mg-b-30\" role=\"alert\">-->\n<!--                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">-->\n<!--                  <span aria-hidden=\"true\"></span>-->\n<!--                </button>-->\n<!--                <strong>Plan Changed!</strong> Your plan changed recently. It may take up to 24 hours to reflect plan changes in your organization profile.-->\n<!--              </div>-->\n\n\n<!--              <div class=\"card-deck\">-->\n<!--                <div class=\"card\">-->\n<!--                  <img src=\"...\" class=\"card-img-top\" alt=\"...\">-->\n<!--                  <div class=\"card-body\">-->\n<!--                    <h5 class=\"card-title\">Card title</h5>-->\n<!--                    <p class=\"card-text\">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>-->\n<!--                    <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>-->\n<!--                  </div>-->\n<!--                </div>-->\n<!--                <div class=\"card\">-->\n<!--                  <img src=\"...\" class=\"card-img-top\" alt=\"...\">-->\n<!--                  <div class=\"card-body\">-->\n<!--                    <h5 class=\"card-title\">Card title</h5>-->\n<!--                    <p class=\"card-text\">This card has supporting text below as a natural lead-in to additional content.</p>-->\n<!--                    <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>-->\n<!--                  </div>-->\n<!--                </div>-->\n<!--                <div class=\"card\">-->\n<!--                  <img src=\"...\" class=\"card-img-top\" alt=\"...\">-->\n<!--                  <div class=\"card-body\">-->\n<!--                    <h5 class=\"card-title\">Card title</h5>-->\n<!--                    <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>-->\n<!--                    <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>-->\n<!--                  </div>-->\n<!--                </div>-->\n<!--              </div>-->\n\n\n<!--              <div class=\"tab-pane active\" id=\"pricing-two-mnthly\" role=\"tabpanel\" aria-labelledby=\"pricing-two-mnthly-tab\">-->\n<!--                <div class=\"row\">-->\n<!--                  <div class=\"offset-1 col-lg-5 mb-4\">-->\n<!--                    <div class=\"card border-0 card-shadow h-100\">-->\n<!--                      <div class=\"card-body p-4 p-xl-5\">-->\n<!--                        <h4 class=\"mb-3\">Development</h4>-->\n<!--                        <div class=\"d-flex align-items-center\">-->\n<!--                          <h3 class=\"mb-0 mr-auto font-weight-bold\">Free</h3>-->\n<!--                        </div>-->\n<!--                        <h6 class=\"mb-4\">Monthly</h6>-->\n<!--                        <button class=\"btn btn-indigo btn-block mb-4\" [disabled]=\"loading || portalConfig.config$.org?.plan != 'paid'\" >-->\n<!--                          {{portalConfig.config$.org?.plan != 'paid' ? 'Current' : 'Change Plan'}}-->\n<!--                        </button>-->\n<!--                        <ul class=\"list-arrow mb-40px\">-->\n<!--                          <li>Test mode only</li>-->\n<!--                          <li>Sandbox EHR Integrations</li>-->\n<!--                          <li>No live Patient Data</li>-->\n<!--                          <li>Email Support</li>-->\n<!--                        </ul>-->\n<!--                      </div>-->\n<!--                    </div>-->\n<!--                  </div>-->\n<!--                  <div class=\"col-lg-5 mb-4\">-->\n<!--                    <div class=\"card border-0 card-shadow h-100\">-->\n<!--                      <div class=\"card-body p-4 p-xl-5\">-->\n<!--                        <h4 class=\"mb-3\">Live</h4>-->\n<!--                        <div class=\"d-flex align-items-center\">-->\n<!--                          <h3 class=\"mb-0 mr-auto font-weight-bold\">$100.00</h3>-->\n<!--                        </div>-->\n<!--                        <h6 class=\"mb-4\">Minimum Monthly</h6>-->\n<!--                        <button [disabled]=\"loading || portalConfig.config$.org?.plan == 'paid'\" (click)=\"onUpgradePlan()\" class=\"btn btn-indigo btn-block mb-4\">-->\n<!--                          {{portalConfig.config$.org?.plan == 'paid' ? 'Current' : 'Upgrade Plan'}}-->\n\n<!--                          <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>-->\n<!--                        </button>-->\n<!--                        <ul class=\"list-arrow mb-40px\">-->\n<!--                          <li>Test & Live mode</li>-->\n<!--                          <li>27,000+ EHR Integrations</li>-->\n<!--                          <li>Live Patient Data</li>-->\n<!--                          <li>Email & Live Chat Support</li>-->\n<!--                        </ul>-->\n<!--                      </div>-->\n<!--                    </div>-->\n<!--                  </div>-->\n<!--                </div>-->\n<!--              </div>-->\n\n<!--            </div>-->\n<!--          </div>-->\n\n<!--        </div>&lt;!&ndash; row &ndash;&gt;-->\n\n<!--        <hr class=\"mg-y-40\">-->\n\n<!--        <div class=\"mg-b-20\"></div>-->\n\n<!--      </div>&lt;!&ndash; az-profile-body &ndash;&gt;-->\n<!--    </div>&lt;!&ndash; az-content-body &ndash;&gt;-->\n<!--  </div>&lt;!&ndash; container &ndash;&gt;-->\n<!--</div>-->\n\n","import { Component, OnInit } from '@angular/core';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {PortalConfigService} from '../../services/portal-config.service';\nimport {LogoCropperComponent} from '../../components/logo-cropper/logo-cropper.component';\nimport {OrgTeamInviteComponent} from '../../components/org-team-invite/org-team-invite.component';\nimport {ConnectService} from '../../services/connect.service';\nimport {OrganizationTeamMember} from '../../models/fasten/organization-team-member';\n\n@Component({\n  selector: 'app-org-team',\n  templateUrl: './org-team.component.html',\n  styleUrls: ['./org-team.component.scss']\n})\nexport class OrgTeamComponent implements OnInit {\n\n  teamMembers: OrganizationTeamMember[] = []\n\n  constructor(\n    private connectService: ConnectService,\n    private modalService: NgbModal,\n    public portalConfig: PortalConfigService,\n  ) { }\n\n  ngOnInit(): void {\n    this.connectService.getOrgTeam(this.portalConfig.config$.user?.org_id!).subscribe((data) => {\n      this.teamMembers = data\n    })\n  }\n\n  openOrgTeamInviteModal(){\n    this.modalService.open(OrgTeamInviteComponent).result.then(\n      (result: OrganizationTeamMember) => {\n       console.log(`Closed with: ${result}`)\n        this.teamMembers.push(result)\n      },\n      (reason) => {\n        console.log(`Dismissed`, reason);\n      },\n    );\n  }\n}\n","<div class=\"mg-t-10 container \">\n  <nav class=\"mg-l-auto nav nav-pills flex-column flex-md-row\">\n    <a class=\"nav-link\" data-bs-toggle=\"tab\" routerLink=\"/org/settings\">Details</a>\n    <a class=\"nav-link active\" data-bs-toggle=\"tab\" routerLink=\"/org/team\">Team</a>\n    <a class=\"nav-link\" data-bs-toggle=\"tab\"  routerLink=\"/org/billing\">Billing</a>\n  </nav>\n\n  <div class=\"row\">\n    <div class=\"col-12\">\n\n      <div class=\"card mg-t-20\">\n        <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n          Team Members\n          <button (click)=\"openOrgTeamInviteModal()\" class=\"btn btn-outline-indigo float-right text-indigo\">Invite new Member</button>\n        </h5>\n\n        <div class=\"card-body\">\n          <p>Invite your colleagues to join your team.</p>\n          <table class=\"table mg-t-10\">\n            <thead>\n            <tr>\n              <th scope=\"col\">Status</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Email</th>\n              <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor=\"let member of teamMembers\">\n              <th scope=\"row\">\n                <span [ngClass]=\"{ 'badge-success': member.status === 'active', 'badge-warning': member.status === 'pending'}\" class=\"badge\">{{member.status}}</span>\n              </th>\n              <td>{{member.name}}</td>\n              <td>{{member.email}}</td>\n            </tr>\n            </tbody>\n          </table>\n\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ConnectService } from '../../services/connect.service';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { PortalConfigService } from '../../services/portal-config.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { OrganizationWebhookDelivery } from '../../models/fasten/organization-webhook-delivery';\nimport { OrganizationWebhook } from '../../models/fasten/organization-webhook';\nimport { OrganizationCredential } from '../../models/fasten/organization-credential';\nimport { OrgWebhookSimulateComponent } from '../../components/org-webhook-simulate/org-webhook-simulate.component';\n@Component({\n  selector: 'app-webhook-logs',\n  templateUrl: './webhook-logs.component.html',\n  styleUrls: ['./webhook-logs.component.scss']\n})\nexport class WebhookLogsComponent implements OnInit {\n\n  showAllDeliveries = false\n  webhookDeliveries: OrganizationWebhookDelivery[] = []\n  webhook: OrganizationWebhook | null = null\n  selectedWebhookDelivery: OrganizationWebhookDelivery | null = null\n  webhook_Id: string = ''\n  constructor(\n    private connectService: ConnectService,\n    public portalConfig: PortalConfigService,\n    private route: ActivatedRoute,\n    private modalService: NgbModal,\n\n  ) { }\n\n  ngOnInit(): void {\n    let webhookId = this.route.snapshot.paramMap.get('webhookId')\n    if (!webhookId) {\n      return\n    }\n    this.webhook_Id = webhookId;\n    this.connectService.getOrgWebhookDeliveries(this.portalConfig.config$.user?.org_id!, webhookId!).subscribe((data) => {\n      console.log(\"Webhook Deliveries\", data)\n      this.webhookDeliveries = (data.deliveries || []).reverse()\n      this.webhook = data.webhook\n\n      if (this.webhookDeliveries.length > 0) {\n        this.selectedWebhookDelivery = this.webhookDeliveries[0]\n      }\n\n    })\n  }\n\n  public copySecretToken(secretToken: string | undefined) {\n    if (!secretToken) {\n      return\n    }\n    navigator.clipboard.writeText(secretToken);\n  }\n\n  openWebhookSimulateModal() {\n    if (!this.webhook_Id) return;\n\n    const modalRef = this.modalService.open(OrgWebhookSimulateComponent, {\n      ariaLabelledBy: 'modal-basic-title',\n      size: 'xl',\n      centered: true\n    });\n\n    modalRef.componentInstance.webhookId = this.webhook_Id;\n  }\n\n\n\n\n\n}\n","<div class=\"mg-t-10 container mg-b-35\">\n  <nav class=\"mg-l-auto nav nav-pills flex-column flex-md-row\">\n    <a class=\"nav-link\" data-bs-toggle=\"tab\" [routerLink]=\"'developers/'\"\n      >API Clients</a\n    >\n    <a class=\"nav-link active\" data-bs-toggle=\"tab\" href=\"#\">Logs</a>\n  </nav>\n\n  <div\n    *ngIf=\"(webhook?.failure_count || 0) > 0\"\n    class=\"alert alert-warning text-center mt-3\"\n    role=\"alert\"\n  >\n    <strong>Notice:</strong> Webhooks will be\n    <a\n      target=\"_blank\"\n      href=\"https://docs.connect.fastenhealth.com/webhooks/delivery#%E2%9A%A0%EF%B8%8F-webhook-auto-disable-policy\"\n      >disabled automatically</a\n    >\n    if they fail consistently. Please ensure your endpoint is functional.\n  </div>\n\n  <div class=\"card mg-t-20\">\n    <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n      {{ webhook?.endpoint_uri }}\n    </h5>\n\n    <div class=\"card-body\">\n      <div class=\"table-responsive\">\n        <table class=\"table mg-b-0\">\n          <thead>\n            <tr>\n              <th>Status</th>\n              <th>API Mode</th>\n              <th>Failures</th>\n              <th>Listening For</th>\n              <th>Signing Secret</th>\n              <th>Last Updated</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <th scope=\"row\">\n                <span\n                  [ngClass]=\"{\n                    'badge-success': webhook?.status === 'active',\n                    'badge-danger': webhook?.status === 'inactive'\n                  }\"\n                  class=\"badge\"\n                  >{{ webhook?.status }}</span\n                >\n              </th>\n              <th scope=\"row\">\n                {{ webhook?.api_mode }}\n              </th>\n              <th scope=\"row\">\n                {{ webhook?.failure_count }} consecutive failure(s)\n              </th>\n              <td>\n                <code [ngbTooltip]=\"webhook?.event_types?.join(', ')\"\n                  >{{ webhook?.event_types?.length }} event(s)</code\n                >\n              </td>\n              <td>\n                <a\n                  #revealBtn\n                  (click)=\"revealBtn.hidden = true; secret.hidden = false\"\n                  class=\"cursor-pointer\"\n                  >reveal <i class=\"fas fa-lock\"></i\n                ></a>\n                <span hidden #secret\n                  >{{ webhook?.secret_token }}\n                  <i\n                    (mousedown)=\"copySecretToken(webhook?.secret_token)\"\n                    ngbTooltip=\"Copy to Clipboard\"\n                    class=\"mg-l-2 cursor-pointer fas fa-clipboard\"\n                  ></i\n                ></span>\n              </td>\n              <td>{{ webhook?.updated_at | amDateFormat : \"LL\" }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"card mg-t-20\">\n    <h5 class=\"card-header d-flex justify-content-between align-items-center\">\n      <span>Delivery Logs</span>\n      <button\n        [disabled]=\"webhook?.api_mode != 'test' || webhook?.status == 'inactive'\"\n        [ngbTooltip]=\"webhook?.api_mode != 'test' ? 'Simulate is only available in test mode' : (webhook?.status == 'inactive' ? 'Cannot simulate events on an inactive webhook' : '')\"\n        type=\"button\"\n        class=\"btn btn-outline-indigo float-right\"\n        (click)=\"openWebhookSimulateModal()\"\n      >\n        Simulate Webhook\n      </button>\n    </h5>\n    <div class=\"card-body\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-6 bd-r\">\n            <div class=\"list-group\">\n              <a\n                *ngFor=\"\n                  let delivery of showAllDeliveries\n                    ? webhookDeliveries\n                    : (webhookDeliveries | slice : 0 : 15)\n                \"\n                [ngClass]=\"{\n                  active:\n                    selectedWebhookDelivery?.timestamp_event_id ==\n                    delivery?.timestamp_event_id\n                }\"\n                (click)=\"selectedWebhookDelivery = delivery\"\n                class=\"cursor-pointer list-group-item list-group-item-action bd-x-0 bd-y-0\"\n              >\n                <span\n                  [ngClass]=\"{\n                    'badge-success': delivery?.status === 'success',\n                    'badge-danger': delivery?.status === 'failure'\n                  }\"\n                  class=\"badge mg-r-2\"\n                >\n                  <i\n                    [ngClass]=\"{\n                      'fa-check': delivery?.status === 'success',\n                      'fa-times': delivery?.status === 'failure'\n                    }\"\n                    class=\"fas\"\n                  ></i>\n                </span>\n\n                {{ delivery.event_payload.type }}\n                <span\n                  [ngbTooltip]=\"\n                    delivery?.created_at | amDateFormat : 'YYYY-MM-DD HH:mm'\n                  \"\n                  class=\"float-right\"\n                  >{{ delivery?.created_at | amTimeAgo }}</span\n                >\n              </a>\n              <div *ngIf=\"webhookDeliveries.length == 0\">\n                <div class=\"alert alert-info mg-t-10\" role=\"alert\">\n                  No webhook deliveries yet.\n                </div>\n              </div>\n            </div>\n            <button\n              class=\"btn btn-outline-indigo btn-block\"\n              *ngIf=\"(webhookDeliveries?.length || 0) > 15\"\n              (click)=\"showAllDeliveries = !showAllDeliveries\"\n            >\n              {{ showAllDeliveries ? \"Show Less\" : \"Show More\" }}\n            </button>\n          </div>\n          <div class=\"col-6\">\n            <div>\n              <strong>Response</strong>\n              <pre\n                *ngIf=\"!!selectedWebhookDelivery; else waitingResponse\"\n              ><code [languages]=\"['https']\" [highlight]=\"(selectedWebhookDelivery?.http_response || '')\"></code></pre>\n            </div>\n            <hr />\n            <div>\n              <strong>Request</strong>\n              <pre\n                *ngIf=\"!!selectedWebhookDelivery; else waitingResponse\"\n              ><code [languages]=\"['json']\" [highlight]=\"selectedWebhookDelivery?.event_payload | json\"></code></pre>\n            </div>\n            <ng-template #waitingResponse>\n              <div class=\"alert alert-info mg-t-10\" role=\"alert\">\n                Waiting for delivery...\n              </div>\n            </ng-template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {ResponseWrapper} from \"../models/response-wrapper\";\nimport {environment} from \"../../environments/environment\";\nimport {map, Observable} from \"rxjs\";\nimport {Organization} from \"../models/fasten/organization\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {CollectSummary, ConsentSummary} from \"../models/admin/consent-summary\";\nimport {OrgSummary} from \"../models/admin/org-summary\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminService {\n\n  constructor(private _httpClient: HttpClient) { }\n\n  // Function to store a JWT token in local storage\n  storeAdminToken(token: string): void {\n    localStorage.setItem('fasten_connect_admin_jwt', token);\n  }\n\n// Function to read a JWT token from local storage\n  readAdminToken(): string | null {\n    return localStorage.getItem('fasten_connect_admin_jwt');\n  }\n\n  getConsentSummary(filterData?: any, timeframeData?: any): Observable<ConsentSummary> {\n    let requestPayload: {timeframe?: any, filters?: any} = {}\n\n    //always add timeframe data if not present\n    if(!timeframeData) {\n      requestPayload.timeframe = {\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() +1 //0 indexed, this is the current month.\n      };\n    } else {\n      requestPayload.timeframe = timeframeData;\n    }\n\n    if (filterData) {\n      requestPayload.filters = filterData;\n    }\n\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/admin/consent/summary`, requestPayload)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Consent Summary\", response)\n          return response.data as ConsentSummary;\n        })\n      );\n  }\n\n  getCollectSummary(filterData?: any, timeframeData?: any): Observable<CollectSummary> {\n    let requestPayload: {timeframe?: any, filters?: any} = {}\n\n    //always add timeframe data if not present\n    if(!timeframeData) {\n      requestPayload.timeframe = {\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() +1 //0 indexed, this is the current month.\n      };\n    } else {\n      requestPayload.timeframe = timeframeData;\n    }\n\n    if (filterData) {\n      requestPayload.filters = filterData;\n    }\n\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/admin/collect/summary`, requestPayload)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Collect Summary\", response)\n          return response.data as CollectSummary;\n        })\n      );\n  }\n\n  listOrgs(): Observable<Organization[]> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/admin/org`, {})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organizations\", response)\n          return response.data as Organization[];\n        })\n      );\n  }\n\n  getOrgSummary(orgId: string): Observable<OrgSummary> {\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/admin/org/${orgId}/summary`, {})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Org Summary\", response)\n          return response.data as OrgSummary\n        })\n      );\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {Observable, of, throwError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {AuthService} from './auth.service';\nimport {environment} from '../../environments/environment';\nimport {AdminService} from \"./admin.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\n\n// based on https://stackoverflow.com/questions/46017245/how-to-handle-unauthorized-requestsstatus-with-401-or-403-with-new-httpclient\nexport class AuthInterceptorService implements HttpInterceptor {\n\n  constructor(private authService: AuthService, private adminService: AdminService, private router: Router) { }\n\n  private handleAuthError(err: HttpErrorResponse): Observable<any> {\n    //handle your auth error or rethrow\n    if (err.status === 401 || err.status === 403) {\n      //navigate /delete cookies or whatever\n      this.authService.Signout()\n      this.router.navigateByUrl(`/auth/signin`);\n      // if you've caught / handled the error, you don't want to rethrow it unless you also want downstream consumers to have to handle it as well.\n      return of(err.message); // or EMPTY may be appropriate here\n    }\n    return throwError(err);\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    console.log(\"Intercepting Request\", req)\n\n    //only intercept requests to the fasten API & lighthouse, all other requests should be sent as-is\n    let reqUrl = new URL(req.url)\n    let lighthouseUrl = new URL(environment.lighthouse_api_endpoint_base)\n    let apiUrl = new URL(environment.connect_api_endpoint_base)\n\n    if(\n      ((reqUrl.origin == apiUrl.origin && reqUrl.pathname.startsWith(apiUrl.pathname)) ||\n        (reqUrl.origin == lighthouseUrl.origin && reqUrl.pathname.startsWith(lighthouseUrl.pathname)))\n    ){\n      let authReq: HttpRequest<any>\n      if(reqUrl.pathname.startsWith('/v1/admin/')){ //admin request\n        // Clone the request and ensure that admin JWT token is sent, not cookies.\n        authReq = req.clone({withCredentials: false, headers: req.headers.set('Authorization', `Bearer ${this.adminService.readAdminToken()}`)});\n      } else { //regular API request\n        // Clone the request and ensure that cookies are sent\n        authReq = req.clone({withCredentials: true});\n      }\n      // catch the error, make specific functions for catching specific errors and you can chain through them with more catch operators\n      return next.handle(authReq).pipe(catchError(x=> this.handleAuthError(x))); //here use an arrow function, otherwise you may get \"Cannot read property 'navigate' of undefined\" on angular 4.4.2/net core 2/webpack 2.70\n\n    } else {\n      return next.handle(req)\n    }\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {User} from '../models/fasten/user';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {ResponseWrapper} from '../models/response-wrapper';\nimport {BehaviorSubject} from 'rxjs';\nimport * as jose from 'jose'\nimport {PortalConfigService} from './portal-config.service';\n\nexport const FASTEN_AUTH_COOKIE_NAME = 'fasten_connect_auth'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  public IsAuthenticatedSubject = new BehaviorSubject<boolean>(false)\n\n  constructor(private _httpClient: HttpClient, private portalConfigService: PortalConfigService) {}\n\n  /**\n   * Signup  (and Signin) both require an \"online\" user.\n   * @param newUser\n   * @constructor\n   */\n  public async SignupWithInvite(newUser: User, inviteToken: string): Promise<any> {\n    let queryParams = {\n      \"token\": inviteToken\n    }\n\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/auth/invite`, newUser, { withCredentials: true, params:queryParams }).toPromise()\n    console.log(resp)\n    return resp\n  }\n  /**\n   * Signup  (and Signin) both require an \"online\" user.\n   * @param newUser\n   * @constructor\n   */\n  public async Signup(newUser?: User): Promise<any> {\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/auth/signup`, newUser, { withCredentials: true }).toPromise()\n    console.log(resp)\n    return resp\n  }\n\n  public async Signin(email: string, pass: string): Promise<any> {\n    let currentUser = new User()\n    currentUser.email = email\n    currentUser.password = pass\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/auth/login`, currentUser, { withCredentials: true }).toPromise()\n    return resp\n  }\n\n  public async Signout(): Promise<any> {\n    this.publishAuthenticationState(false)\n    return this.deleteCookie(FASTEN_AUTH_COOKIE_NAME)\n    // // let remotePouchDb = new PouchDB(this.getRemoteUserDb(localStorage.getItem(\"current_user\")), {skip_setup: true});\n    // if(this.pouchDb){\n    //   await this.pouchDb.logOut()\n    // }\n    // await this.Close()\n  }\n\n\n  // User has requested a password reset. This is the first step in the process.\n  public async UserResetRequest(userEmail: string): Promise<any> {\n    let payload = {\n      \"email\": userEmail\n    }\n\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/auth/reset/request`, payload, {  }).toPromise()\n    console.log(resp)\n    return resp\n  }\n\n  // Complete the password reset process. This is the second step in the process.\n  public async UserReset(newPassword: string, inviteToken: string): Promise<any> {\n    let queryParams = {\n      \"token\": inviteToken\n    }\n\n    let payload = {\n      \"password\": newPassword\n    }\n\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/auth/reset`, payload, { withCredentials: true, params:queryParams }).toPromise()\n    console.log(resp)\n    return resp\n  }\n\n  public async GetJWTPayload(): Promise<any> {\n    let authToken = this.getCookie(FASTEN_AUTH_COOKIE_NAME)\n    if (!authToken) {\n      return null\n    }\n    let jwks = jose.createRemoteJWKSet(new URL(environment.jwks_uri))\n    let issuerHost = environment.connect_api_jwt_issuer_host\n\n    try {\n      //audience and issuer must be the same. This token is only valid on the fasten connect api\n      const {payload, protectedHeader} = await jose.jwtVerify(authToken, jwks, {\n        issuer: issuerHost,\n        audience: issuerHost,\n      })\n      // @ts-ignore\n      this.portalConfigService.config = {user: payload}\n      return payload\n    } catch (e) {\n      console.error(\"failed to verify jwt:\", e, issuerHost)\n      return null\n    }\n  }\n\n  public async IsAuthenticated(): Promise<boolean> {\n    let payload = await this.GetJWTPayload()\n    let isAuthenticated = payload != null\n    this.publishAuthenticationState(isAuthenticated)\n    return isAuthenticated\n  }\n\n  //https://stackoverflow.com/questions/34298133/angular-cookies\n  private getCookie(name: string): string {\n    const ca: Array<string> = decodeURIComponent(document.cookie).split(';');\n    const caLen: number = ca.length;\n    const cookieName = `${name}=`;\n    let c: string;\n\n    for (let i  = 0; i < caLen; i += 1) {\n      c = ca[i].replace(/^\\s+/g, '');\n      if (c.indexOf(cookieName) === 0) {\n        return c.substring(cookieName.length, c.length);\n      }\n    }\n    return '';\n  }\n\n  private deleteCookie(name: string) {\n    this.setCookie(name, '', -99999); // - 1 was not far back enough to actually remove the cookie, this sets the time before the epoch and will cause the cookie to be deleted.\n  }\n  private setCookie(name: string, value: string, expireDays: number, path: string = '') {\n    const d: Date = new Date();\n    d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n    const expires = `expires=${d.toUTCString()}`;\n    const cpath = path ? `; path=${path}` : '';\n    document.cookie = `${name}=${value}; ${expires}${cpath}; SameSite=Lax`;\n  }\n\n  private publishAuthenticationState(authenticated: boolean){\n    if(this.IsAuthenticatedSubject.value != authenticated){\n      this.IsAuthenticatedSubject.next(authenticated)\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ResponseWrapper } from '../models/response-wrapper';\nimport { environment } from '../../environments/environment';\nimport { Organization } from '../models/fasten/organization';\nimport { map, Observable } from 'rxjs';\nimport { ApiMode, CRUDMode } from '../app.constants';\nimport { OrganizationCredential } from '../models/fasten/organization-credential';\nimport { OrganizationWebhook } from '../models/fasten/organization-webhook';\nimport { OrganizationWebhookDelivery } from '../models/fasten/organization-webhook-delivery';\nimport { OrganizationTeamMember } from '../models/fasten/organization-team-member';\nimport { User } from \"../models/fasten/user\";\nimport { WebhookSimulation } from '../models/fasten/webhook-simulate-payload';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConnectService {\n\n  constructor(private _httpClient: HttpClient) { }\n\n\n\n  public updateUser(oldPass: string, oldEmail: string, newEmail: string, newPass: string = \"\"): Observable<User> {\n    const userUpdateJson = JSON.stringify({\n      email: oldEmail,\n      password: oldPass,\n      newEmail: newEmail,\n      newPassword: newPass\n    });\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/user`, userUpdateJson)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Updated User\", response)\n\n          return response.data as User;\n        })\n      );\n  }\n\n  /**\n   * Create a new organization and associate it with the current User\n   * @param newOrg\n   * @param logoBlob\n   * @constructor\n   */\n  public createOrg(newOrg: Organization, logoBlob: Blob): Observable<ResponseWrapper> {\n    const formData = new FormData();\n\n    //add the org data to the form data\n    const orgJson = JSON.stringify(newOrg);\n    const orgJsonBlob = new Blob([orgJson], {\n      type: 'application/json'\n    });\n    formData.append(\"org\", orgJsonBlob);\n    formData.append(\"logo\", logoBlob);\n\n    let resp = this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org`, formData)\n    console.log(resp)\n    return resp\n  }\n\n\n  public updateOrg(orgId: string, updateOrg: Organization, logoBlob?: Blob | null): Observable<Organization> {\n    const formData = new FormData();\n\n    //add the org data to the form data\n    const orgJson = JSON.stringify(updateOrg);\n    const orgJsonBlob = new Blob([orgJson], {\n      type: 'application/json'\n    });\n    formData.append(\"org\", orgJsonBlob);\n    if (logoBlob) {\n      formData.append(\"logo\", logoBlob);\n    }\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}`, formData)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Updated Organization\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  public getOrg(orgId: String): Observable<Organization> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  public sendOrgInvite(orgId: string, recipientEmail: string): Observable<ResponseWrapper> {\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/invite`, {\n      recipient_email_address: recipientEmail,\n      org_id: orgId\n    })\n  }\n\n  public getOrgTeam(orgId: string): Observable<OrganizationTeamMember[]> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/team`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Team\", response)\n          return response.data as OrganizationTeamMember[];\n        })\n      );\n  }\n\n  public createOrgCredentials(orgId: string, apiMode: ApiMode, redirectUrls: string[], note: string): Observable<{ action: CRUDMode, org_credential: OrganizationCredential, private_key: string }> {\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials`, {\n      api_mode: apiMode,\n      redirect_uris: redirectUrls,\n      note: note\n    })\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Credential\", response)\n          response.data.action = CRUDMode.Create\n          return response.data as { action: CRUDMode, org_credential: OrganizationCredential, private_key: string };\n        })\n      );\n  }\n  public updateOrgCredential(orgId: string, orgCredentialId: string, redirectUrls: string[], note: string): Observable<{ action: CRUDMode, org_credential: OrganizationCredential }> {\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials/${orgCredentialId}`, {\n      redirect_uris: redirectUrls,\n      note: note\n    })\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Credential\", response)\n          return { action: CRUDMode.Update, org_credential: response.data } as { action: CRUDMode, org_credential: OrganizationCredential };\n        })\n      );\n  }\n\n  public deleteOrgCredential(orgId: string, orgCredentialId: string): Observable<{ action: CRUDMode, org_credential: OrganizationCredential }> {\n    return this._httpClient.delete<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials/${orgCredentialId}`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Deleted Organization Credential\", response)\n          return { action: CRUDMode.Delete, org_credential: response.data } as { action: CRUDMode, org_credential: OrganizationCredential };\n        })\n      );\n  }\n\n  public getOrgCredentials(orgId: string): Observable<OrganizationCredential[]> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Credentials\", response)\n          return response.data as OrganizationCredential[];\n        })\n      );\n  }\n\n  public simulateWebhook(orgId: string, webhookId: string, simulation: WebhookSimulation): Observable<ResponseWrapper> {\n    return this._httpClient.post<ResponseWrapper>(\n      `${environment.connect_api_endpoint_base}/org/${orgId}/webhooks/${webhookId}/simulate`,\n      simulation\n    )\n  }\n\n  public createOrgWebhooks(orgId: string, apiMode: ApiMode, endpointUri: string, status: string, eventTypes: string[]): Observable<{ action: CRUDMode, org_webhook: OrganizationWebhook }> {\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/webhooks`, {\n      api_mode: apiMode,\n      endpoint_uri: endpointUri,\n      status: status,\n      event_types: eventTypes\n    })\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Credential\", response)\n          return { action: CRUDMode.Create, org_webhook: response.data };\n        })\n      );\n  }\n\n  public deleteOrgWebhook(orgId: string, orgWebhookId: string): Observable<{ action: CRUDMode, org_webhook: OrganizationWebhook }> {\n    return this._httpClient.delete<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/webhooks/${orgWebhookId}`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Deleted Organization Webhook\", response)\n          return { action: CRUDMode.Delete, org_webhook: response.data };\n        })\n      );\n  }\n\n  public updateOrgWebhook(orgId: string, orgWebhookId: string, endpointUri: string, status: string, eventTypes: string[]): Observable<{ action: CRUDMode, org_webhook: OrganizationWebhook }> {\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/webhooks/${orgWebhookId}`, {\n      endpoint_uri: endpointUri,\n      status: status,\n      event_types: eventTypes\n    })\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Webhook\", response)\n          return { action: CRUDMode.Update, org_webhook: response.data };\n        })\n      );\n  }\n\n  public getOrgWebhooks(orgId: string): Observable<OrganizationWebhook[]> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/webhooks`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Webhooks\", response)\n          return response.data as OrganizationWebhook[];\n        })\n      );\n  }\n\n  public getOrgWebhookDeliveries(orgId: string, orgWebhookId: string): Observable<{ webhook: OrganizationWebhook, deliveries: OrganizationWebhookDelivery[] }> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/webhooks/${orgWebhookId}/deliveries`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Webhooks Deliveries\", response)\n          return response.data as { webhook: OrganizationWebhook, deliveries: OrganizationWebhookDelivery[] };\n        })\n      );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {PortalConfig, portalConfigDefaults} from '../models/portal-config';\nimport {merge} from 'lodash';\nimport {ApiMode} from '../app.constants';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PortalConfigService {\n  // Private\n  public ConfigSubject: BehaviorSubject<PortalConfig>;\n  private _defaultConfig: PortalConfig;\n  constructor() {\n    this._defaultConfig = portalConfigDefaults\n    this.ConfigSubject = new BehaviorSubject(this._defaultConfig);\n  }\n\n\n  // -----------------------------------------------------------------------------------------------------\n  // @ Accessors\n  // -----------------------------------------------------------------------------------------------------\n\n  /**\n   * Setter & getter for config\n   */\n  set config(value: PortalConfig) {\n    // get the current config, merge the new values, and then submit.\n    const mergedSettings = merge({}, this.ConfigSubject.getValue(), value);\n\n    // Store the value\n    if(JSON.stringify(mergedSettings) !== JSON.stringify(this.ConfigSubject.getValue())){\n      console.log('updating settings:', mergedSettings)\n      this.ConfigSubject.next(mergedSettings);\n    }\n  }\n\n  get config$(): PortalConfig {\n    console.log('using cached settings:', this.ConfigSubject.getValue())\n    return this.ConfigSubject.getValue()\n  }\n\n  // -----------------------------------------------------------------------------------------------------\n  // @ Public methods\n  // -----------------------------------------------------------------------------------------------------\n\n  /**\n   * Resets the config to the default\n   */\n  reset(): void {\n    // Set the config\n    this.config = this._defaultConfig\n  }\n\n  toggleApiMode(): void {\n    this.config = {\n      apiMode: this.config$.apiMode === 'live' ? ApiMode.Test : ApiMode.Live\n    }\n  }\n}\n","export const environment = {\n  name: \"development\",\n\n  //specify the lighthouse base that we're going to use to authenticate against all our source/providers. Must not have trailing slash\n  lighthouse_api_endpoint_base: 'https://lighthouse.fastenhealth.com',\n\n  //used to specify the api server that we're going to use (can be relative or absolute). Must not have trailing slash\n  // connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n  // if relative, must start with /\n  connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n  connect_api_jwt_issuer_host: 'https://api.connect-dev.fastenhealth.com/v1',\n\n  jwks_uri: 'https://cdn.fastenhealth.com/jwks/fasten-connect/dev.json',\n\n  //Stripe pricing table (Test mode in Dev)\n  stripe_customer_portal: 'https://billing.stripe.com/p/login/test_bIY7thbZL5g6gXC000',\n  // stripe_customer_portal: 'https://billing.stripe.com/p/login/dR6aEYe5h4AYe2I144'\n\n  //Google Workspace - Login With Google Client\n  google_workspace_client_id: '953092437537-s94imkklkn28es9ovb9rued3sp9d58mg.apps.googleusercontent.com'\n};\n","// this file is automatically generated by git.version.ts script\nexport const versionInfo = {\n  version: 'dev',\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.name != \"local\") {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import {ResponseWrapper} from \"../app/models/response-wrapper\";\n\nexport function parseHttpErrorResponse(resp: any): ResponseWrapper {\n  if (resp?.error && resp.error) {\n    // A client-side or network error occurred. Handle it accordingly.\n    return resp?.error as ResponseWrapper\n  } else {\n   return { data: null, success: false, error: \"An unknown error occurred.\"}\n  }\n}\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-ps\": 46235,\n\t\"./ar-ps.js\": 46235,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku-kmr\": 19619,\n\t\"./ku-kmr.js\": 19619,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":["ActivatedRouteSnapshot","RouterStateSnapshot","Router","IsAuthenticatedAuthGuard","constructor","authService","router","canActivate","route","state","jwtPayload","GetJWTPayload","navigate","org_id","console","log","i0","factory","User","environment","BehaviorSubject","jose","FASTEN_AUTH_COOKIE_NAME","AuthService","_httpClient","portalConfigService","SignupWithInvite","newUser","inviteToken","queryParams","resp","post","connect_api_endpoint_base","withCredentials","params","toPromise","Signup","Signin","email","pass","currentUser","password","Signout","publishAuthenticationState","deleteCookie","UserResetRequest","userEmail","payload","UserReset","newPassword","authToken","getCookie","jwks","createRemoteJWKSet","URL","jwks_uri","issuerHost","connect_api_jwt_issuer_host","protectedHeader","jwtVerify","issuer","audience","config","user","e","error","IsAuthenticated","isAuthenticated","name","ca","decodeURIComponent","document","cookie","split","caLen","length","cookieName","c","i","replace","indexOf","substring","setCookie","value","expireDays","path","d","Date","setTime","getTime","expires","toUTCString","cpath","authenticated","IsAuthenticatedSubject","next","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[83]}